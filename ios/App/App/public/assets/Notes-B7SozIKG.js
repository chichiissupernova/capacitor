import{p as z,r as c,j as e,aa as V,a5 as k,ab as oe,R as w,aC as Je,J as b,$ as Qe,D as L,aD as se,B as N,P as Ke,h as H,i as U,k as B,w as T,I as Y,T as q,aE as W,q as f,C as ae,c as le,f as ne,g as re,O as ie,a8 as Xe,aF as ce,a1 as et,U as tt,a9 as de,aG as ot,V as st,aH as at,Y as lt,Z as nt,W as ue,_ as rt,a0 as it,aI as pe}from"./index-Caw7KGCA.js";import{d as ge,R as ct,I as dt,T as ut,a as pt,b as K}from"./tabs-DY4CNjxr.js";import{T as he}from"./trash-2-BDcWOCs6.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=z("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=z("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);function xt(t,s=[]){let o=[];function a(i,n){const r=c.createContext(n),u=o.length;o=[...o,n];function d(p){const{scope:j,children:S,...D}=p,g=(j==null?void 0:j[t][u])||r,h=c.useMemo(()=>D,Object.values(D));return e.jsx(g.Provider,{value:h,children:S})}function m(p,j){const S=(j==null?void 0:j[t][u])||r,D=c.useContext(S);if(D)return D;if(n!==void 0)return n;throw new Error(`\`${p}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,m]}const l=()=>{const i=o.map(n=>c.createContext(n));return function(r){const u=(r==null?void 0:r[t])||i;return c.useMemo(()=>({[`__scope${t}`]:{...r,[t]:u}}),[r,u])}};return l.scopeName=t,[a,vt(l,...s)]}function vt(...t){const s=t[0];if(t.length===1)return s;const o=()=>{const a=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(i){const n=a.reduce((r,{useScope:u,scopeName:d})=>{const p=u(i)[`__scope${d}`];return{...r,...p}},{});return c.useMemo(()=>({[`__scope${s.scopeName}`]:n}),[n])}};return o.scopeName=s.scopeName,o}var ft="Toggle",Z=c.forwardRef((t,s)=>{const{pressed:o,defaultPressed:a=!1,onPressedChange:l,...i}=t,[n=!1,r]=V({prop:o,onChange:l,defaultProp:a});return e.jsx(k.button,{type:"button","aria-pressed":n,"data-state":n?"on":"off","data-disabled":t.disabled?"":void 0,...i,ref:s,onClick:oe(t.onClick,()=>{t.disabled||r(!n)})})});Z.displayName=ft;var me=Z,I="ToggleGroup",[xe,Jt]=xt(I,[ge]),ve=ge(),J=w.forwardRef((t,s)=>{const{type:o,...a}=t;if(o==="single"){const l=a;return e.jsx(Nt,{...l,ref:s})}if(o==="multiple"){const l=a;return e.jsx(jt,{...l,ref:s})}throw new Error(`Missing prop \`type\` expected on \`${I}\``)});J.displayName=I;var[fe,Ne]=xe(I),Nt=w.forwardRef((t,s)=>{const{value:o,defaultValue:a,onValueChange:l=()=>{},...i}=t,[n,r]=V({prop:o,defaultProp:a,onChange:l});return e.jsx(fe,{scope:t.__scopeToggleGroup,type:"single",value:n?[n]:[],onItemActivate:r,onItemDeactivate:w.useCallback(()=>r(""),[r]),children:e.jsx(je,{...i,ref:s})})}),jt=w.forwardRef((t,s)=>{const{value:o,defaultValue:a,onValueChange:l=()=>{},...i}=t,[n=[],r]=V({prop:o,defaultProp:a,onChange:l}),u=w.useCallback(m=>r((p=[])=>[...p,m]),[r]),d=w.useCallback(m=>r((p=[])=>p.filter(j=>j!==m)),[r]);return e.jsx(fe,{scope:t.__scopeToggleGroup,type:"multiple",value:n,onItemActivate:u,onItemDeactivate:d,children:e.jsx(je,{...i,ref:s})})});J.displayName=I;var[bt,Ct]=xe(I),je=w.forwardRef((t,s)=>{const{__scopeToggleGroup:o,disabled:a=!1,rovingFocus:l=!0,orientation:i,dir:n,loop:r=!0,...u}=t,d=ve(o),m=Je(n),p={role:"group",dir:m,...u};return e.jsx(bt,{scope:o,rovingFocus:l,disabled:a,children:l?e.jsx(ct,{asChild:!0,...d,orientation:i,dir:m,loop:r,children:e.jsx(k.div,{...p,ref:s})}):e.jsx(k.div,{...p,ref:s})})}),_="ToggleGroupItem",be=w.forwardRef((t,s)=>{const o=Ne(_,t.__scopeToggleGroup),a=Ct(_,t.__scopeToggleGroup),l=ve(t.__scopeToggleGroup),i=o.value.includes(t.value),n=a.disabled||t.disabled,r={...t,pressed:i,disabled:n},u=w.useRef(null);return a.rovingFocus?e.jsx(dt,{asChild:!0,...l,focusable:!n,active:i,ref:u,children:e.jsx(X,{...r,ref:s})}):e.jsx(X,{...r,ref:s})});be.displayName=_;var X=w.forwardRef((t,s)=>{const{__scopeToggleGroup:o,value:a,...l}=t,i=Ne(_,o),n={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},r=i.type==="single"?n:void 0;return e.jsx(Z,{...r,...l,ref:s,onPressedChange:u=>{u?i.onItemActivate(a):i.onItemDeactivate(a)}})}),Ce=J,ye=be;const we=Qe("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),yt=c.forwardRef(({className:t,variant:s,size:o,...a},l)=>e.jsx(me,{ref:l,className:b(we({variant:s,size:o,className:t})),...a}));yt.displayName=me.displayName;const De=c.createContext({size:"default",variant:"default"}),Q=c.forwardRef(({className:t,variant:s,size:o,children:a,...l},i)=>e.jsx(Ce,{ref:i,className:b("flex items-center justify-center gap-1",t),...l,children:e.jsx(De.Provider,{value:{variant:s,size:o},children:a})}));Q.displayName=Ce.displayName;const y=c.forwardRef(({className:t,children:s,variant:o,size:a,...l},i)=>{const n=c.useContext(De);return e.jsx(ye,{ref:i,className:b(we({variant:n.variant||o,size:n.size||a}),t),...l,children:s})});y.displayName=ye.displayName;const wt=({collectionId:t,onAddNote:s})=>{const[o,a]=c.useState(!1),[l,i]=c.useState(""),[n,r]=c.useState(""),[u,d]=c.useState("yellow"),m=p=>{if(p.preventDefault(),!l){f({title:"Missing title",description:"Please provide a title for your note",variant:"destructive"});return}s({title:l,content:n,color:u,collectionId:t}),i(""),r(""),d("yellow"),a(!1),f({title:"Note created!",description:"Your note has been saved."})};return e.jsxs(L,{open:o,onOpenChange:a,children:[e.jsx(se,{asChild:!0,children:e.jsxs(N,{className:"bg-chichi-purple hover:bg-chichi-purple-dark",children:[e.jsx(Ke,{className:"mr-1 h-4 w-4"})," New Note"]})}),e.jsx(H,{className:"sm:max-w-[500px]",children:e.jsxs("form",{onSubmit:m,children:[e.jsx(U,{children:e.jsx(B,{children:"Create New Note"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(T,{htmlFor:"title",children:"Title"}),e.jsx(Y,{id:"title",value:l,onChange:p=>i(p.target.value),placeholder:"Note title"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(T,{htmlFor:"content",children:"Content"}),e.jsx(q,{id:"content",value:n,onChange:p=>r(p.target.value),placeholder:"Write your ideas here...",className:"min-h-[120px] resize-none"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(T,{children:"Color"}),e.jsxs(Q,{type:"single",value:u,onValueChange:p=>p&&d(p),className:"justify-start",children:[e.jsx(y,{value:"yellow",className:"h-6 w-6 p-0 bg-amber-100 border border-amber-200"}),e.jsx(y,{value:"blue",className:"h-6 w-6 p-0 bg-blue-100 border border-blue-200"}),e.jsx(y,{value:"green",className:"h-6 w-6 p-0 bg-green-100 border border-green-200"}),e.jsx(y,{value:"pink",className:"h-6 w-6 p-0 bg-pink-100 border border-pink-200"}),e.jsx(y,{value:"purple",className:"h-6 w-6 p-0 bg-purple-100 border border-purple-200"})]})]})]}),e.jsxs(W,{children:[e.jsx(N,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(N,{type:"submit",className:"bg-chichi-purple hover:bg-chichi-purple-dark",children:"Save Note"})]})]})})]})},Dt=({onAddCollection:t})=>{const[s,o]=c.useState(!1),[a,l]=c.useState(""),[i,n]=c.useState(""),r=u=>{if(u.preventDefault(),!a){f({title:"Missing name",description:"Please provide a name for your collection",variant:"destructive"});return}t({name:a,description:i}),l(""),n(""),o(!1),f({title:"Collection created!",description:"Your collection has been created."})};return e.jsxs(L,{open:s,onOpenChange:o,children:[e.jsx(se,{asChild:!0,children:e.jsxs(N,{variant:"outline",children:[e.jsx(ht,{className:"mr-1 h-4 w-4"})," New Collection"]})}),e.jsx(H,{className:"sm:max-w-[500px]",children:e.jsxs("form",{onSubmit:r,children:[e.jsx(U,{children:e.jsx(B,{children:"Create New Collection"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(T,{htmlFor:"name",children:"Name"}),e.jsx(Y,{id:"name",value:a,onChange:u=>l(u.target.value),placeholder:"Collection name"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(T,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(q,{id:"description",value:i,onChange:u=>n(u.target.value),placeholder:"Describe your collection...",className:"min-h-[80px] resize-none"})]})]}),e.jsxs(W,{children:[e.jsx(N,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(N,{type:"submit",className:"bg-chichi-purple hover:bg-chichi-purple-dark",children:"Create Collection"})]})]})})]})},At=({activeCollectionId:t,currentCollection:s,onBackToMain:o,onAddNote:a,onAddCollection:l})=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{variant:"ghost",size:"sm",onClick:o,children:[e.jsx(gt,{className:"h-4 w-4 mr-1"}),"Back"]}),e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:s==null?void 0:s.name})]}):e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Notes & Ideas"}),e.jsxs("div",{className:"flex gap-2",children:[t===null&&e.jsx(Dt,{onAddCollection:l}),e.jsx(wt,{collectionId:t||void 0,onAddNote:a})]})]}),ee={yellow:"bg-amber-50 border-amber-200",blue:"bg-blue-50 border-blue-200",green:"bg-green-50 border-green-200",pink:"bg-pink-50 border-pink-200",purple:"bg-purple-50 border-purple-200"},Tt=({id:t,title:s,content:o,color:a="yellow",createdAt:l,onEdit:i,onDelete:n})=>{const r=ee[a]||ee.yellow;return e.jsxs(ae,{className:b("w-full h-full flex flex-col shadow-sm border-2 hover:shadow-md transition-shadow",r),children:[e.jsx(le,{className:"p-3 pb-0",children:e.jsx("h3",{className:"text-lg font-semibold line-clamp-1",children:s})}),e.jsx(ne,{className:"p-3 pt-2 flex-grow",children:e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap line-clamp-6",children:o})}),e.jsxs(re,{className:"p-3 pt-0 flex justify-between items-center text-xs text-muted-foreground",children:[e.jsx("span",{children:new Date(l).toLocaleDateString()}),e.jsxs("div",{className:"flex gap-2",children:[i&&e.jsxs(N,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>i(t),children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]}),n&&e.jsxs(N,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:text-destructive",onClick:()=>n(t),children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})]})]})},St=({id:t,name:s,description:o,notesCount:a,onClick:l,onEdit:i,onDelete:n})=>e.jsxs(ae,{className:"w-full h-full flex flex-col hover:shadow-md transition-shadow border-2 cursor-pointer",onClick:l,children:[e.jsx(le,{className:"p-4 pb-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-5 w-5 text-chichi-purple"}),e.jsx("h3",{className:"text-lg font-semibold line-clamp-1",children:s})]})}),e.jsx(ne,{className:"p-4 pt-2 flex-grow",children:e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:o})}),e.jsxs(re,{className:"p-4 pt-0 flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a," notes"]}),e.jsxs("div",{className:"flex gap-2",onClick:r=>r.stopPropagation(),children:[i&&e.jsxs(N,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:r=>{r.stopPropagation(),i()},children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]}),n&&e.jsxs(N,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:text-destructive",onClick:r=>{r.stopPropagation(),n()},children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})]})]}),Pt=({activeTab:t,activeCollectionId:s,filteredNotes:o,collections:a,notes:l,onEditNote:i,onDeleteNote:n,onEnterCollection:r,onDeleteCollection:u})=>t==="notes"||s?e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.map(d=>e.jsx(Tt,{id:d.id,title:d.title,content:d.content,color:d.color,createdAt:d.createdAt,onEdit:i,onDelete:n},d.id)),o.length===0&&e.jsx("div",{className:"col-span-full text-center p-8 rounded-lg border border-dashed",children:e.jsx("p",{className:"text-muted-foreground",children:'No notes yet. Click "New Note" to add one.'})})]}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[a.map(d=>{const m=l.filter(p=>p.collectionId===d.id).length;return e.jsx(St,{id:d.id,name:d.name,description:d.description,notesCount:m,onClick:()=>r(d.id),onDelete:()=>u(d.id)},d.id)}),a.length===0&&e.jsx("div",{className:"col-span-full text-center p-8 rounded-lg border border-dashed",children:e.jsx("p",{className:"text-muted-foreground",children:'No collections yet. Click "New Collection" to create one.'})})]}),It=({open:t,onOpenChange:s,note:o,onUpdate:a})=>{const[l,i]=c.useState(o.title),[n,r]=c.useState(o.content),[u,d]=c.useState(o.color);c.useEffect(()=>{i(o.title),r(o.content),d(o.color)},[o]);const m=p=>{if(p.preventDefault(),!l){f({title:"Missing title",description:"Please provide a title for your note",variant:"destructive"});return}a(o.id,{title:l,content:n,color:u,collectionId:o.collectionId}),s(!1),f({title:"Note updated!",description:"Your changes have been saved."})};return e.jsx(L,{open:t,onOpenChange:s,children:e.jsx(H,{className:"sm:max-w-[500px]",children:e.jsxs("form",{onSubmit:m,children:[e.jsx(U,{children:e.jsx(B,{children:"Edit Note"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(T,{htmlFor:"title",children:"Title"}),e.jsx(Y,{id:"title",value:l,onChange:p=>i(p.target.value),placeholder:"Note title"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(T,{htmlFor:"content",children:"Content"}),e.jsx(q,{id:"content",value:n,onChange:p=>r(p.target.value),placeholder:"Write your ideas here...",className:"min-h-[120px] resize-none"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(T,{children:"Color"}),e.jsxs(Q,{type:"single",value:u,onValueChange:p=>p&&d(p),className:"justify-start",children:[e.jsx(y,{value:"yellow",className:"h-6 w-6 p-0 bg-amber-100 border border-amber-200"}),e.jsx(y,{value:"blue",className:"h-6 w-6 p-0 bg-blue-100 border border-blue-200"}),e.jsx(y,{value:"green",className:"h-6 w-6 p-0 bg-green-100 border border-green-200"}),e.jsx(y,{value:"pink",className:"h-6 w-6 p-0 bg-pink-100 border border-pink-200"}),e.jsx(y,{value:"purple",className:"h-6 w-6 p-0 bg-purple-100 border border-purple-200"})]})]})]}),e.jsxs(W,{children:[e.jsx(N,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsx(N,{type:"submit",className:"bg-chichi-purple hover:bg-chichi-purple-dark",children:"Save Changes"})]})]})})})};var Ae="AlertDialog",[_t,Qt]=Xe(Ae,[ce]),A=ce(),Te=t=>{const{__scopeAlertDialog:s,...o}=t,a=A(s);return e.jsx(it,{...a,...o,modal:!0})};Te.displayName=Ae;var kt="AlertDialogTrigger",Rt=c.forwardRef((t,s)=>{const{__scopeAlertDialog:o,...a}=t,l=A(o);return e.jsx(et,{...l,...a,ref:s})});Rt.displayName=kt;var Et="AlertDialogPortal",Se=t=>{const{__scopeAlertDialog:s,...o}=t,a=A(s);return e.jsx(rt,{...a,...o})};Se.displayName=Et;var Gt="AlertDialogOverlay",Pe=c.forwardRef((t,s)=>{const{__scopeAlertDialog:o,...a}=t,l=A(o);return e.jsx(tt,{...l,...a,ref:s})});Pe.displayName=Gt;var P="AlertDialogContent",[$t,Mt]=_t(P),Ie=c.forwardRef((t,s)=>{const{__scopeAlertDialog:o,children:a,...l}=t,i=A(o),n=c.useRef(null),r=de(s,n),u=c.useRef(null);return e.jsx(ot,{contentName:P,titleName:_e,docsSlug:"alert-dialog",children:e.jsx($t,{scope:o,cancelRef:u,children:e.jsxs(st,{role:"alertdialog",...i,...l,ref:r,onOpenAutoFocus:oe(l.onOpenAutoFocus,d=>{var m;d.preventDefault(),(m=u.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(at,{children:a}),e.jsx(Ft,{contentRef:n})]})})})});Ie.displayName=P;var _e="AlertDialogTitle",ke=c.forwardRef((t,s)=>{const{__scopeAlertDialog:o,...a}=t,l=A(o);return e.jsx(lt,{...l,...a,ref:s})});ke.displayName=_e;var Re="AlertDialogDescription",Ee=c.forwardRef((t,s)=>{const{__scopeAlertDialog:o,...a}=t,l=A(o);return e.jsx(nt,{...l,...a,ref:s})});Ee.displayName=Re;var Ot="AlertDialogAction",Ge=c.forwardRef((t,s)=>{const{__scopeAlertDialog:o,...a}=t,l=A(o);return e.jsx(ue,{...l,...a,ref:s})});Ge.displayName=Ot;var $e="AlertDialogCancel",Me=c.forwardRef((t,s)=>{const{__scopeAlertDialog:o,...a}=t,{cancelRef:l}=Mt($e,o),i=A(o),n=de(s,l);return e.jsx(ue,{...i,...a,ref:n})});Me.displayName=$e;var Ft=({contentRef:t})=>{const s=`\`${P}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${P}\` by passing a \`${Re}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${P}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{var a;document.getElementById((a=t.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},zt=Te,Vt=Se,Oe=Pe,Fe=Ie,ze=Ge,Ve=Me,Le=ke,He=Ee;const te=zt,Lt=Vt,Ue=c.forwardRef(({className:t,...s},o)=>e.jsx(Oe,{className:b("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:o}));Ue.displayName=Oe.displayName;const R=c.forwardRef(({className:t,...s},o)=>e.jsxs(Lt,{children:[e.jsx(Ue,{}),e.jsx(Fe,{ref:o,className:b("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));R.displayName=Fe.displayName;const E=({className:t,...s})=>e.jsx("div",{className:b("flex flex-col space-y-2 text-center sm:text-left",t),...s});E.displayName="AlertDialogHeader";const G=({className:t,...s})=>e.jsx("div",{className:b("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});G.displayName="AlertDialogFooter";const $=c.forwardRef(({className:t,...s},o)=>e.jsx(Le,{ref:o,className:b("text-lg font-semibold",t),...s}));$.displayName=Le.displayName;const M=c.forwardRef(({className:t,...s},o)=>e.jsx(He,{ref:o,className:b("text-sm text-muted-foreground",t),...s}));M.displayName=He.displayName;const O=c.forwardRef(({className:t,...s},o)=>e.jsx(ze,{ref:o,className:b(pe(),t),...s}));O.displayName=ze.displayName;const F=c.forwardRef(({className:t,...s},o)=>e.jsx(Ve,{ref:o,className:b(pe({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));F.displayName=Ve.displayName;const Ht=({editingNote:t,setEditingNote:s,deletingNoteId:o,setDeletingNoteId:a,deletingCollectionId:l,setDeletingCollectionId:i,onUpdateNote:n,onDeleteNote:r,onDeleteCollection:u})=>e.jsxs(e.Fragment,{children:[t&&e.jsx(It,{open:!!t,onOpenChange:d=>{d||s(null)},note:t,onUpdate:n}),e.jsx(te,{open:!!o,onOpenChange:d=>{d||a(null)},children:e.jsxs(R,{children:[e.jsxs(E,{children:[e.jsx($,{children:"Are you sure?"}),e.jsx(M,{children:"This action cannot be undone. This will permanently delete your note."})]}),e.jsxs(G,{children:[e.jsx(F,{children:"Cancel"}),e.jsx(O,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>o&&r(o),children:"Delete"})]})]})}),e.jsx(te,{open:!!l,onOpenChange:d=>{d||i(null)},children:e.jsxs(R,{children:[e.jsxs(E,{children:[e.jsx($,{children:"Delete Collection?"}),e.jsx(M,{children:"The collection will be deleted, but all notes will be moved to Uncategorized."})]}),e.jsxs(G,{children:[e.jsx(F,{children:"Cancel"}),e.jsx(O,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>l&&u(l),children:"Delete"})]})]})})]}),Ut=[{id:"1",title:"Content Calendar Ideas",content:`Weekly Instagram post about behind-the-scenes
Monthly YouTube tutorial on content creation
Daily Twitter tips`,color:"yellow",createdAt:new Date("2023-05-01")},{id:"2",title:"Engagement Strategy",content:`Respond to comments within 2 hours
Ask questions in captions
Create polls in stories
Collaborate with other creators`,color:"blue",createdAt:new Date("2023-05-02")},{id:"3",title:"Video Ideas",content:`Day in the life
Morning routine
Favorite tools and apps
Q&A with audience questions`,color:"green",collectionId:"content-ideas",createdAt:new Date("2023-05-03")}],Bt=[{id:"content-ideas",name:"Content Ideas",description:"Creative concepts for future content creation"}],Yt=()=>{const[t,s]=c.useState(Ut),[o,a]=c.useState(Bt),[l,i]=c.useState(null),[n,r]=c.useState(null),[u,d]=c.useState(null);return c.useEffect(()=>{const g=localStorage.getItem("pendingNote");if(g)try{const h=JSON.parse(g),x={id:`note-${Date.now()}`,title:h.title||"Untitled Note",content:h.content||"",color:h.color||"yellow",collectionId:h.collectionId,createdAt:new Date};s(v=>[x,...v]),localStorage.removeItem("pendingNote"),f({title:"Note saved successfully!",description:`"${x.title}" has been added to your notes.`})}catch(h){console.error("Error parsing pending note:",h),localStorage.removeItem("pendingNote"),f({title:"Error saving note",description:"There was an issue saving your note. Please try again.",variant:"destructive"})}},[]),{notes:t,collections:o,editingNote:l,setEditingNote:i,deletingNoteId:n,setDeletingNoteId:r,deletingCollectionId:u,setDeletingCollectionId:d,handleAddNote:(g,h)=>{const x={id:`note-${Date.now()}`,...g,collectionId:h||g.collectionId,createdAt:new Date};s(v=>[x,...v]),f({title:"Note created!",description:"Your new note has been added."})},handleAddCollection:g=>{const h={id:`collection-${Date.now()}`,...g};a(x=>[...x,h]),f({title:"Collection created!",description:`Collection "${h.name}" has been created.`})},handleUpdateNote:(g,h)=>{s(x=>x.map(v=>v.id===g?{...v,...h}:v)),i(null),f({title:"Note updated!",description:"Your changes have been saved."})},handleDeleteNote:g=>{const h=t.find(x=>x.id===g);s(x=>x.filter(v=>v.id!==g)),r(null),f({title:"Note deleted",description:`"${(h==null?void 0:h.title)||"Note"}" has been permanently removed.`})},handleDeleteCollection:g=>{const h=o.find(x=>x.id===g);a(x=>x.filter(v=>v.id!==g)),s(x=>x.map(v=>v.collectionId===g?{...v,collectionId:void 0}:v)),d(null),f({title:"Collection deleted",description:`"${(h==null?void 0:h.name)||"Collection"}" has been removed. All notes have been moved to Uncategorized.`})}}},Kt=()=>{const{notes:t,collections:s,editingNote:o,setEditingNote:a,deletingNoteId:l,setDeletingNoteId:i,deletingCollectionId:n,setDeletingCollectionId:r,handleAddNote:u,handleAddCollection:d,handleUpdateNote:m,handleDeleteNote:p,handleDeleteCollection:j}=Yt(),[S,D]=c.useState("notes"),[g,h]=c.useState(null),x=g?t.filter(C=>C.collectionId===g):t.filter(C=>!C.collectionId),v=C=>{h(C),D("notes")},Be=()=>{h(null)},Ye=g?s.find(C=>C.id===g):null,qe=C=>{const We=t.find(Ze=>Ze.id===C);a(We||null)};return e.jsxs("div",{className:"animate-fade-in",children:[e.jsx(At,{activeCollectionId:g,currentCollection:Ye,onBackToMain:Be,onAddNote:C=>u(C,g||void 0),onAddCollection:d}),!g&&e.jsx(ut,{value:S,onValueChange:D,className:"mb-6",children:e.jsxs(pt,{children:[e.jsx(K,{value:"notes",children:"All Notes"}),e.jsx(K,{value:"collections",children:"Collections"})]})}),e.jsx(Pt,{activeTab:S,activeCollectionId:g,filteredNotes:x,collections:s,notes:t,onEditNote:qe,onDeleteNote:i,onEnterCollection:v,onDeleteCollection:r}),e.jsx(Ht,{editingNote:o,setEditingNote:a,deletingNoteId:l,setDeletingNoteId:i,deletingCollectionId:n,setDeletingCollectionId:r,onUpdateNote:m,onDeleteNote:p,onDeleteCollection:j})]})};export{Kt as default};
