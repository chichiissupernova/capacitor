import{r as i,s as I,q as j,j as e,a5 as P,J as S,a as G,C as M,B as E,a3 as Y,G as q,a6 as B,a7 as H,a8 as K,a9 as J,aa as Q,ab as F,ac as U,ad as X,ae as W,M as Z}from"./index-Caw7KGCA.js";function de(){const[t,n]=i.useState(!1),[r,c]=i.useState(null),[u,s]=i.useState(null),[o,l]=i.useState(null),[g,d]=i.useState(null),[p,m]=i.useState(!1),h=async C=>{const f=C||o||{audience:"Content creators and social media managers",business:"Social media content creation",contentGoal:"educate",preferredFormats:["carousel","video"],platforms:["instagram"]};n(!0),l(f),d(null),m(!1);try{const{data:a,error:y}=await I.functions.invoke("generate-content-plan",{body:f});if(y)throw new Error(y.message||"Failed to generate content plan");if(a.error)throw a.errorType==="quota_exceeded"?(m(!0),new Error(a.error)):new Error(a.error);c(a),s(null),j({title:"Content plan generated!",description:"Your 7-day content plan is ready."})}catch(a){console.error("Error generating content plan:",a),d(a instanceof Error?a.message:"Failed to generate content plan"),j({title:"Error",description:a instanceof Error?a.message:"Failed to generate content plan",variant:"destructive"})}finally{n(!1)}},v=async C=>{const f=C||{audience:"Content creators and social media managers",niche:"Social media content creation",contentGoal:"educate"};n(!0),d(null),m(!1);try{const{data:a,error:y}=await I.functions.invoke("generate-content-ideas",{body:f});if(y)throw new Error(y.message||"Failed to generate content idea");if(a.error)throw a.errorType==="quota_exceeded"?(m(!0),new Error(a.error)):new Error(a.error);s(a),c(null),j({title:"Content idea generated!",description:"Your content idea is ready."})}catch(a){console.error("Error generating content idea:",a),d(a instanceof Error?a.message:"Failed to generate content idea"),j({title:"Error",description:a instanceof Error?a.message:"Failed to generate content idea",variant:"destructive"})}finally{n(!1)}};return{isLoading:t,contentPlan:r,contentIdea:u,apiError:g,isQuotaExceeded:p,generateContentPlan:h,generateContentIdea:v,handleTryAgain:()=>{r&&o?h(o):u&&v()}}}var ee="Separator",T="horizontal",te=["horizontal","vertical"],D=i.forwardRef((t,n)=>{const{decorative:r,orientation:c=T,...u}=t,s=ae(c)?c:T,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return e.jsx(P.div,{"data-orientation":s,...l,...u,ref:n})});D.displayName=ee;function ae(t){return te.includes(t)}var O=D;const A=i.forwardRef(({className:t,orientation:n="horizontal",decorative:r=!0,...c},u)=>e.jsx(O,{ref:u,decorative:r,orientation:n,className:S("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...c}));A.displayName=O.displayName;function ue({contentPlan:t,onTryAgain:n,isLoading:r,isQuotaExceeded:c}){const u=G();if(!t)return null;const s=()=>{const l=new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),g=`7-Day Content Plan - ${l}`;let d=`📅 7-Day Content Plan
Generated: ${l}

`;t.days.forEach(m=>{d+=`📌 DAY ${m.day}: ${m.title}
`,d+=`💡 Content Idea: ${m.prompt}
`,d+=`🎯 Format: ${m.format}
`,d+=`✨ ChiChi Tip: ${m.chichiTip}

`}),d+=`
📝 Remember to customize these ideas to match your brand voice and audience preferences!`;const p={title:g,content:d.trim(),color:"yellow"};localStorage.setItem("pendingNote",JSON.stringify(p)),u("/notes"),j({title:"Saved to Notes!",description:"Your content plan has been saved and you'll find it in your notes."})};return e.jsxs(M,{className:"p-4 border-t-4 border-t-chichi-orange",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Your 7-Day Content Plan"}),e.jsxs(E,{variant:"outline",onClick:n,disabled:r||c,className:"flex gap-2 items-center",size:"sm",children:[e.jsx(Y,{className:"h-4 w-4"}),"Generate New Plan"]})]}),e.jsx("div",{className:"space-y-3",children:t.days.map((o,l)=>e.jsxs("div",{className:"border rounded-lg p-3 bg-muted/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-chichi-orange text-white flex items-center justify-center text-xs font-bold",children:o.day}),e.jsx("h3",{className:"text-base font-semibold flex-1",children:o.title}),e.jsx(E,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",title:"Send to Calendar (Coming Soon)",children:e.jsx(q,{className:"h-3 w-3 text-gray-400"})})]}),e.jsxs("div",{className:"space-y-2 ml-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Content Idea"}),e.jsx("p",{className:"text-sm text-gray-700",children:o.prompt})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Suggested Format"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:o.format})]}),e.jsx("div",{className:"bg-orange-50 border-l-2 border-chichi-orange p-2 rounded-r",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(B,{className:"h-3 w-3 text-chichi-orange mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-chichi-orange",children:"ChiChi Tip"}),e.jsx("p",{className:"text-xs text-gray-700 mt-1",children:o.chichiTip})]})]})})]}),l<t.days.length-1&&e.jsx(A,{className:"mt-3"})]},o.day))}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3",children:[e.jsxs(E,{onClick:s,className:"flex items-center gap-2 bg-chichi-purple hover:bg-chichi-purple-dark",size:"sm",children:[e.jsx(H,{className:"h-4 w-4"}),"Save to Notes"]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg flex-1",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1 text-sm",children:"Content Plan Ready!"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Your 7-day content strategy is complete. Save it to notes to keep track of your planned content and reference it anytime."})]})]})]})}var R="Checkbox",[re,me]=K(R),[ne,se]=re(R),z=i.forwardRef((t,n)=>{const{__scopeCheckbox:r,name:c,checked:u,defaultChecked:s,required:o,disabled:l,value:g="on",onCheckedChange:d,form:p,...m}=t,[h,v]=i.useState(null),k=J(n,x=>v(x)),C=i.useRef(!1),w=h?p||!!h.closest("form"):!0,[f=!1,a]=Q({prop:u,defaultProp:s,onChange:d}),y=i.useRef(f);return i.useEffect(()=>{const x=h==null?void 0:h.form;if(x){const N=()=>a(y.current);return x.addEventListener("reset",N),()=>x.removeEventListener("reset",N)}},[h,a]),e.jsxs(ne,{scope:r,state:f,disabled:l,children:[e.jsx(P.button,{type:"button",role:"checkbox","aria-checked":b(f)?"mixed":f,"aria-required":o,"data-state":_(f),"data-disabled":l?"":void 0,disabled:l,value:g,...m,ref:k,onKeyDown:F(t.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:F(t.onClick,x=>{a(N=>b(N)?!0:!N),w&&(C.current=x.isPropagationStopped(),C.current||x.stopPropagation())})}),w&&e.jsx(oe,{control:h,bubbles:!C.current,name:c,value:g,checked:f,required:o,disabled:l,form:p,style:{transform:"translateX(-100%)"},defaultChecked:b(s)?!1:s})]})});z.displayName=R;var $="CheckboxIndicator",L=i.forwardRef((t,n)=>{const{__scopeCheckbox:r,forceMount:c,...u}=t,s=se($,r);return e.jsx(U,{present:c||b(s.state)||s.state===!0,children:e.jsx(P.span,{"data-state":_(s.state),"data-disabled":s.disabled?"":void 0,...u,ref:n,style:{pointerEvents:"none",...t.style}})})});L.displayName=$;var oe=t=>{const{control:n,checked:r,bubbles:c=!0,defaultChecked:u,...s}=t,o=i.useRef(null),l=X(r),g=W(n);i.useEffect(()=>{const p=o.current,m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&v){const k=new Event("click",{bubbles:c});p.indeterminate=b(r),v.call(p,b(r)?!1:r),p.dispatchEvent(k)}},[l,r,c]);const d=i.useRef(b(r)?!1:r);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:u??d.current,...s,tabIndex:-1,ref:o,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(t){return t==="indeterminate"}function _(t){return b(t)?"indeterminate":t?"checked":"unchecked"}var V=z,ie=L;const ce=i.forwardRef(({className:t,...n},r)=>e.jsx(V,{ref:r,className:S("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...n,children:e.jsx(ie,{className:S("flex items-center justify-center text-current"),children:e.jsx(Z,{className:"h-4 w-4","aria-hidden":"true"})})}));ce.displayName=V.displayName;export{ce as C,ue as a,de as u};
