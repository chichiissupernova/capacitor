const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-DQQ79AP1.js","assets/form-CcKQMLHU.js","assets/passwordValidator-GZWggTWZ.js","assets/alert-D_V2V2Ts.js","assets/Calendar-BKcZHc35.js","assets/trash-2-BDcWOCs6.js","assets/checkbox-C7iLtEjG.js","assets/settings-CUAoXI7l.js","assets/ContentPlan-CFKyntVp.js","assets/Profile-D9bom4AU.js","assets/user-Bk-1Xv9-.js","assets/users-Bala6d7Y.js","assets/useFollowActions-Xl1zwE1B.js","assets/UserProfileActions-ChRHtiKK.js","assets/PublicProfile-BVNgr0eG.js","assets/CreatorConnect-CHnA-Pfh.js","assets/tabs-DY4CNjxr.js","assets/search-ieVePH5C.js","assets/Messages-DAUs2W_i.js","assets/Notes-B7SozIKG.js","assets/FollowingFeed-DjRWlsqF.js","assets/UpdatePassword-wTykTUvY.js","assets/PasswordUpdateSuccess-B5OtE0Jr.js","assets/circle-check-big-BCGySWHe.js","assets/ResetPassword-CcbFI1AM.js","assets/ChallengeInvite-0OlAKI1A.js","assets/useChallenges-MXcyjD6y.js","assets/ChallengeJoin-CdNlwVNi.js","assets/BottomNav-DTbtf2SS.js"])))=>i.map(i=>d[i]);
var kP=Object.defineProperty;var Ng=e=>{throw TypeError(e)};var _P=(e,t,n)=>t in e?kP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var J=(e,t,n)=>_P(e,typeof t!="symbol"?t+"":t,n),sd=(e,t,n)=>t.has(e)||Ng("Cannot "+n);var j=(e,t,n)=>(sd(e,t,"read from private field"),n?n.call(e):t.get(e)),se=(e,t,n)=>t.has(e)?Ng("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),K=(e,t,n,r)=>(sd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Je=(e,t,n)=>(sd(e,t,"access private method"),n);var el=(e,t,n,r)=>({set _(s){K(e,t,s,n)},get _(){return j(e,t,r)}});function CP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var jw={exports:{}},ou={},Aw={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ma=Symbol.for("react.element"),EP=Symbol.for("react.portal"),TP=Symbol.for("react.fragment"),jP=Symbol.for("react.strict_mode"),AP=Symbol.for("react.profiler"),RP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),OP=Symbol.for("react.forward_ref"),DP=Symbol.for("react.suspense"),MP=Symbol.for("react.memo"),LP=Symbol.for("react.lazy"),Og=Symbol.iterator;function IP(e){return e===null||typeof e!="object"?null:(e=Og&&e[Og]||e["@@iterator"],typeof e=="function"?e:null)}var Rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nw=Object.assign,Ow={};function Yo(e,t,n){this.props=e,this.context=t,this.refs=Ow,this.updater=n||Rw}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dw(){}Dw.prototype=Yo.prototype;function rp(e,t,n){this.props=e,this.context=t,this.refs=Ow,this.updater=n||Rw}var sp=rp.prototype=new Dw;sp.constructor=rp;Nw(sp,Yo.prototype);sp.isPureReactComponent=!0;var Dg=Array.isArray,Mw=Object.prototype.hasOwnProperty,op={current:null},Lw={key:!0,ref:!0,__self:!0,__source:!0};function Iw(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Mw.call(t,r)&&!Lw.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ma,type:e,key:o,ref:i,props:s,_owner:op.current}}function FP(e,t){return{$$typeof:Ma,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ip(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ma}function UP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mg=/\/+/g;function od(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UP(""+e.key):t.toString(36)}function Ll(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ma:case EP:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+od(i,0):r,Dg(s)?(n="",e!=null&&(n=e.replace(Mg,"$&/")+"/"),Ll(s,t,n,"",function(c){return c})):s!=null&&(ip(s)&&(s=FP(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Mg,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Dg(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+od(o,a);i+=Ll(o,t,n,l,s)}else if(l=IP(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+od(o,a++),i+=Ll(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function tl(e,t,n){if(e==null)return e;var r=[],s=0;return Ll(e,r,"","",function(o){return t.call(n,o,s++)}),r}function $P(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ft={current:null},Il={transition:null},VP={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:Il,ReactCurrentOwner:op};function Fw(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:tl,forEach:function(e,t,n){tl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tl(e,function(){t++}),t},toArray:function(e){return tl(e,function(t){return t})||[]},only:function(e){if(!ip(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Yo;Z.Fragment=TP;Z.Profiler=AP;Z.PureComponent=rp;Z.StrictMode=jP;Z.Suspense=DP;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VP;Z.act=Fw;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nw({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=op.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Mw.call(t,l)&&!Lw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ma,type:e.type,key:s,ref:o,props:r,_owner:i}};Z.createContext=function(e){return e={$$typeof:NP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RP,_context:e},e.Consumer=e};Z.createElement=Iw;Z.createFactory=function(e){var t=Iw.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:OP,render:e}};Z.isValidElement=ip;Z.lazy=function(e){return{$$typeof:LP,_payload:{_status:-1,_result:e},_init:$P}};Z.memo=function(e,t){return{$$typeof:MP,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Il.transition;Il.transition={};try{e()}finally{Il.transition=t}};Z.unstable_act=Fw;Z.useCallback=function(e,t){return ft.current.useCallback(e,t)};Z.useContext=function(e){return ft.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return ft.current.useDeferredValue(e)};Z.useEffect=function(e,t){return ft.current.useEffect(e,t)};Z.useId=function(){return ft.current.useId()};Z.useImperativeHandle=function(e,t,n){return ft.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return ft.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return ft.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return ft.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return ft.current.useReducer(e,t,n)};Z.useRef=function(e){return ft.current.useRef(e)};Z.useState=function(e){return ft.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return ft.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return ft.current.useTransition()};Z.version="18.3.1";Aw.exports=Z;var p=Aw.exports;const ve=Tw(p),Uw=CP({__proto__:null,default:ve},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=p,zP=Symbol.for("react.element"),WP=Symbol.for("react.fragment"),HP=Object.prototype.hasOwnProperty,qP=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function $w(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)HP.call(t,r)&&!KP.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:zP,type:e,key:o,ref:i,props:s,_owner:qP.current}}ou.Fragment=WP;ou.jsx=$w;ou.jsxs=$w;jw.exports=ou;var d=jw.exports,mf={},Vw={exports:{}},Ot={},Bw={exports:{}},zw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,N){var L=E.length;E.push(N);e:for(;0<L;){var W=L-1>>>1,Se=E[W];if(0<s(Se,N))E[W]=N,E[L]=Se,L=W;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var N=E[0],L=E.pop();if(L!==N){E[0]=L;e:for(var W=0,Se=E.length,dn=Se>>>1;W<dn;){var Qe=2*(W+1)-1,fn=E[Qe],it=Qe+1,$=E[it];if(0>s(fn,L))it<Se&&0>s($,fn)?(E[W]=$,E[it]=L,W=it):(E[W]=fn,E[Qe]=L,W=Qe);else if(it<Se&&0>s($,L))E[W]=$,E[it]=L,W=it;else break e}}return N}function s(E,N){var L=E.sortIndex-N.sortIndex;return L!==0?L:E.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,f=null,h=3,m=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(E){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=E)r(c),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(c)}}function b(E){if(g=!1,S(E),!v)if(n(l)!==null)v=!0,B(k);else{var N=n(c);N!==null&&F(b,N.startTime-E)}}function k(E,N){v=!1,g&&(g=!1,y(P),P=-1),m=!0;var L=h;try{for(S(N),f=n(l);f!==null&&(!(f.expirationTime>N)||E&&!I());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var Se=W(f.expirationTime<=N);N=e.unstable_now(),typeof Se=="function"?f.callback=Se:f===n(l)&&r(l),S(N)}else r(l);f=n(l)}if(f!==null)var dn=!0;else{var Qe=n(c);Qe!==null&&F(b,Qe.startTime-N),dn=!1}return dn}finally{f=null,h=L,m=!1}}var _=!1,C=null,P=-1,T=5,A=-1;function I(){return!(e.unstable_now()-A<T)}function M(){if(C!==null){var E=e.unstable_now();A=E;var N=!0;try{N=C(!0,E)}finally{N?Y():(_=!1,C=null)}}else _=!1}var Y;if(typeof w=="function")Y=function(){w(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ce=z.port2;z.port1.onmessage=M,Y=function(){ce.postMessage(null)}}else Y=function(){x(M,0)};function B(E){C=E,_||(_=!0,Y())}function F(E,N){P=x(function(){E(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,B(k))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var L=h;h=N;try{return E()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,N){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var L=h;h=E;try{return N()}finally{h=L}},e.unstable_scheduleCallback=function(E,N,L){var W=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,E){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=L+Se,E={id:u++,callback:N,priorityLevel:E,startTime:L,expirationTime:Se,sortIndex:-1},L>W?(E.sortIndex=L,t(c,E),n(l)===null&&E===n(c)&&(g?(y(P),P=-1):g=!0,F(b,L-W))):(E.sortIndex=Se,t(l,E),v||m||(v=!0,B(k))),E},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(E){var N=h;return function(){var L=h;h=N;try{return E.apply(this,arguments)}finally{h=L}}}})(zw);Bw.exports=zw;var GP=Bw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=p,Rt=GP;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ww=new Set,na={};function Ls(e,t){Do(e,t),Do(e+"Capture",t)}function Do(e,t){for(na[e]=t,e=0;e<t.length;e++)Ww.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gf=Object.prototype.hasOwnProperty,QP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lg={},Ig={};function XP(e){return gf.call(Ig,e)?!0:gf.call(Lg,e)?!1:QP.test(e)?Ig[e]=!0:(Lg[e]=!0,!1)}function JP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZP(e,t,n,r){if(t===null||typeof t>"u"||JP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var ap=/[\-:]([a-z])/g;function lp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ap,lp);Ye[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ap,lp);Ye[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ap,lp);Ye[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function cp(e,t,n,r){var s=Ye.hasOwnProperty(t)?Ye[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZP(t,n,s,r)&&(n=null),r||s===null?XP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var er=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nl=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),yf=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),qw=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),vf=Symbol.for("react.suspense"),wf=Symbol.for("react.suspense_list"),fp=Symbol.for("react.memo"),pr=Symbol.for("react.lazy"),Kw=Symbol.for("react.offscreen"),Fg=Symbol.iterator;function hi(e){return e===null||typeof e!="object"?null:(e=Fg&&e[Fg]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,id;function Ti(e){if(id===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);id=t&&t[1]||""}return`
`+id+e}var ad=!1;function ld(e,t){if(!e||ad)return"";ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{ad=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ti(e):""}function eE(e){switch(e.tag){case 5:return Ti(e.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 2:case 15:return e=ld(e.type,!1),e;case 11:return e=ld(e.type.render,!1),e;case 1:return e=ld(e.type,!0),e;default:return""}}function xf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Js:return"Fragment";case Xs:return"Portal";case yf:return"Profiler";case up:return"StrictMode";case vf:return"Suspense";case wf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qw:return(e.displayName||"Context")+".Consumer";case Hw:return(e._context.displayName||"Context")+".Provider";case dp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fp:return t=e.displayName||null,t!==null?t:xf(e.type)||"Memo";case pr:t=e._payload,e=e._init;try{return xf(e(t))}catch{}}return null}function tE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xf(t);case 8:return t===up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nE(e){var t=Gw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rl(e){e._valueTracker||(e._valueTracker=nE(e))}function Yw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Gw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function oc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sf(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ug(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Br(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qw(e,t){t=t.checked,t!=null&&cp(e,"checked",t,!1)}function bf(e,t){Qw(e,t);var n=Br(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kf(e,t.type,n):t.hasOwnProperty("defaultValue")&&kf(e,t.type,Br(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $g(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kf(e,t,n){(t!=="number"||oc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ji=Array.isArray;function mo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Br(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _f(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(ji(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Br(n)}}function Xw(e,t){var n=Br(t.value),r=Br(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sl,Zw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sl=sl||document.createElement("div"),sl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ra(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rE=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(e){rE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ii[t]=Ii[e]})});function ex(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ii.hasOwnProperty(e)&&Ii[e]?(""+t).trim():t+"px"}function tx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ex(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var sE=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pf(e,t){if(t){if(sE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Ef(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=null;function hp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jf=null,go=null,yo=null;function zg(e){if(e=Fa(e)){if(typeof jf!="function")throw Error(R(280));var t=e.stateNode;t&&(t=uu(t),jf(e.stateNode,e.type,t))}}function nx(e){go?yo?yo.push(e):yo=[e]:go=e}function rx(){if(go){var e=go,t=yo;if(yo=go=null,zg(e),t)for(e=0;e<t.length;e++)zg(t[e])}}function sx(e,t){return e(t)}function ox(){}var cd=!1;function ix(e,t,n){if(cd)return e(t,n);cd=!0;try{return sx(e,t,n)}finally{cd=!1,(go!==null||yo!==null)&&(ox(),rx())}}function sa(e,t){var n=e.stateNode;if(n===null)return null;var r=uu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Af=!1;if(Hn)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){Af=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{Af=!1}function oE(e,t,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Fi=!1,ic=null,ac=!1,Rf=null,iE={onError:function(e){Fi=!0,ic=e}};function aE(e,t,n,r,s,o,i,a,l){Fi=!1,ic=null,oE.apply(iE,arguments)}function lE(e,t,n,r,s,o,i,a,l){if(aE.apply(this,arguments),Fi){if(Fi){var c=ic;Fi=!1,ic=null}else throw Error(R(198));ac||(ac=!0,Rf=c)}}function Is(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ax(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wg(e){if(Is(e)!==e)throw Error(R(188))}function cE(e){var t=e.alternate;if(!t){if(t=Is(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Wg(s),e;if(o===r)return Wg(s),t;o=o.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function lx(e){return e=cE(e),e!==null?cx(e):null}function cx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cx(e);if(t!==null)return t;e=e.sibling}return null}var ux=Rt.unstable_scheduleCallback,Hg=Rt.unstable_cancelCallback,uE=Rt.unstable_shouldYield,dE=Rt.unstable_requestPaint,Ne=Rt.unstable_now,fE=Rt.unstable_getCurrentPriorityLevel,pp=Rt.unstable_ImmediatePriority,dx=Rt.unstable_UserBlockingPriority,lc=Rt.unstable_NormalPriority,hE=Rt.unstable_LowPriority,fx=Rt.unstable_IdlePriority,iu=null,Cn=null;function pE(e){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(iu,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:yE,mE=Math.log,gE=Math.LN2;function yE(e){return e>>>=0,e===0?32:31-(mE(e)/gE|0)|0}var ol=64,il=4194304;function Ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Ai(a):(o&=i,o!==0&&(r=Ai(o)))}else i=n&~s,i!==0?r=Ai(i):o!==0&&(r=Ai(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nn(t),s=1<<n,r|=e[n],t&=~s;return r}function vE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-nn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=vE(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Nf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hx(){var e=ol;return ol<<=1,!(ol&4194240)&&(ol=64),e}function ud(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function La(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=n}function xE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-nn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function mp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var le=0;function px(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mx,gp,gx,yx,vx,Of=!1,al=[],Rr=null,Nr=null,Or=null,oa=new Map,ia=new Map,wr=[],SE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qg(e,t){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":oa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(t.pointerId)}}function mi(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Fa(t),t!==null&&gp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function bE(e,t,n,r,s){switch(t){case"focusin":return Rr=mi(Rr,e,t,n,r,s),!0;case"dragenter":return Nr=mi(Nr,e,t,n,r,s),!0;case"mouseover":return Or=mi(Or,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return oa.set(o,mi(oa.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ia.set(o,mi(ia.get(o)||null,e,t,n,r,s)),!0}return!1}function wx(e){var t=ms(e.target);if(t!==null){var n=Is(t);if(n!==null){if(t=n.tag,t===13){if(t=ax(n),t!==null){e.blockedOn=t,vx(e.priority,function(){gx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Df(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Tf=r,n.target.dispatchEvent(r),Tf=null}else return t=Fa(n),t!==null&&gp(t),e.blockedOn=n,!1;t.shift()}return!0}function Kg(e,t,n){Fl(e)&&n.delete(t)}function kE(){Of=!1,Rr!==null&&Fl(Rr)&&(Rr=null),Nr!==null&&Fl(Nr)&&(Nr=null),Or!==null&&Fl(Or)&&(Or=null),oa.forEach(Kg),ia.forEach(Kg)}function gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Of||(Of=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,kE)))}function aa(e){function t(s){return gi(s,e)}if(0<al.length){gi(al[0],e);for(var n=1;n<al.length;n++){var r=al[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rr!==null&&gi(Rr,e),Nr!==null&&gi(Nr,e),Or!==null&&gi(Or,e),oa.forEach(t),ia.forEach(t),n=0;n<wr.length;n++)r=wr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wr.length&&(n=wr[0],n.blockedOn===null);)wx(n),n.blockedOn===null&&wr.shift()}var vo=er.ReactCurrentBatchConfig,uc=!0;function _E(e,t,n,r){var s=le,o=vo.transition;vo.transition=null;try{le=1,yp(e,t,n,r)}finally{le=s,vo.transition=o}}function CE(e,t,n,r){var s=le,o=vo.transition;vo.transition=null;try{le=4,yp(e,t,n,r)}finally{le=s,vo.transition=o}}function yp(e,t,n,r){if(uc){var s=Df(e,t,n,r);if(s===null)xd(e,t,r,dc,n),qg(e,r);else if(bE(s,e,t,n,r))r.stopPropagation();else if(qg(e,r),t&4&&-1<SE.indexOf(e)){for(;s!==null;){var o=Fa(s);if(o!==null&&mx(o),o=Df(e,t,n,r),o===null&&xd(e,t,r,dc,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else xd(e,t,r,null,n)}}var dc=null;function Df(e,t,n,r){if(dc=null,e=hp(r),e=ms(e),e!==null)if(t=Is(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ax(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dc=e,null}function xx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fE()){case pp:return 1;case dx:return 4;case lc:case hE:return 16;case fx:return 536870912;default:return 16}default:return 16}}var Tr=null,vp=null,Ul=null;function Sx(){if(Ul)return Ul;var e,t=vp,n=t.length,r,s="value"in Tr?Tr.value:Tr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Ul=s.slice(e,1<r?1-r:void 0)}function $l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function Gg(){return!1}function Dt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ll:Gg,this.isPropagationStopped=Gg,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),t}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wp=Dt(Qo),Ia=Ee({},Qo,{view:0,detail:0}),PE=Dt(Ia),dd,fd,yi,au=Ee({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(dd=e.screenX-yi.screenX,fd=e.screenY-yi.screenY):fd=dd=0,yi=e),dd)},movementY:function(e){return"movementY"in e?e.movementY:fd}}),Yg=Dt(au),EE=Ee({},au,{dataTransfer:0}),TE=Dt(EE),jE=Ee({},Ia,{relatedTarget:0}),hd=Dt(jE),AE=Ee({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),RE=Dt(AE),NE=Ee({},Qo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OE=Dt(NE),DE=Ee({},Qo,{data:0}),Qg=Dt(DE),ME={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IE[e])?!!t[e]:!1}function xp(){return FE}var UE=Ee({},Ia,{key:function(e){if(e.key){var t=ME[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xp,charCode:function(e){return e.type==="keypress"?$l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$E=Dt(UE),VE=Ee({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xg=Dt(VE),BE=Ee({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xp}),zE=Dt(BE),WE=Ee({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),HE=Dt(WE),qE=Ee({},au,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KE=Dt(qE),GE=[9,13,27,32],Sp=Hn&&"CompositionEvent"in window,Ui=null;Hn&&"documentMode"in document&&(Ui=document.documentMode);var YE=Hn&&"TextEvent"in window&&!Ui,bx=Hn&&(!Sp||Ui&&8<Ui&&11>=Ui),Jg=" ",Zg=!1;function kx(e,t){switch(e){case"keyup":return GE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zs=!1;function QE(e,t){switch(e){case"compositionend":return _x(t);case"keypress":return t.which!==32?null:(Zg=!0,Jg);case"textInput":return e=t.data,e===Jg&&Zg?null:e;default:return null}}function XE(e,t){if(Zs)return e==="compositionend"||!Sp&&kx(e,t)?(e=Sx(),Ul=vp=Tr=null,Zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bx&&t.locale!=="ko"?null:t.data;default:return null}}var JE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ey(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JE[e.type]:t==="textarea"}function Cx(e,t,n,r){nx(r),t=fc(t,"onChange"),0<t.length&&(n=new wp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $i=null,la=null;function ZE(e){Lx(e,0)}function lu(e){var t=no(e);if(Yw(t))return e}function eT(e,t){if(e==="change")return t}var Px=!1;if(Hn){var pd;if(Hn){var md="oninput"in document;if(!md){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),md=typeof ty.oninput=="function"}pd=md}else pd=!1;Px=pd&&(!document.documentMode||9<document.documentMode)}function ny(){$i&&($i.detachEvent("onpropertychange",Ex),la=$i=null)}function Ex(e){if(e.propertyName==="value"&&lu(la)){var t=[];Cx(t,la,e,hp(e)),ix(ZE,t)}}function tT(e,t,n){e==="focusin"?(ny(),$i=t,la=n,$i.attachEvent("onpropertychange",Ex)):e==="focusout"&&ny()}function nT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lu(la)}function rT(e,t){if(e==="click")return lu(t)}function sT(e,t){if(e==="input"||e==="change")return lu(t)}function oT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:oT;function ca(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gf.call(t,s)||!on(e[s],t[s]))return!1}return!0}function ry(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sy(e,t){var n=ry(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ry(n)}}function Tx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jx(){for(var e=window,t=oc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oc(e.document)}return t}function bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iT(e){var t=jx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tx(n.ownerDocument.documentElement,n)){if(r!==null&&bp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=sy(n,o);var i=sy(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aT=Hn&&"documentMode"in document&&11>=document.documentMode,eo=null,Mf=null,Vi=null,Lf=!1;function oy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lf||eo==null||eo!==oc(r)||(r=eo,"selectionStart"in r&&bp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vi&&ca(Vi,r)||(Vi=r,r=fc(Mf,"onSelect"),0<r.length&&(t=new wp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=eo)))}function cl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var to={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},gd={},Ax={};Hn&&(Ax=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function cu(e){if(gd[e])return gd[e];if(!to[e])return e;var t=to[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ax)return gd[e]=t[n];return e}var Rx=cu("animationend"),Nx=cu("animationiteration"),Ox=cu("animationstart"),Dx=cu("transitionend"),Mx=new Map,iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){Mx.set(e,t),Ls(t,[e])}for(var yd=0;yd<iy.length;yd++){var vd=iy[yd],lT=vd.toLowerCase(),cT=vd[0].toUpperCase()+vd.slice(1);Qr(lT,"on"+cT)}Qr(Rx,"onAnimationEnd");Qr(Nx,"onAnimationIteration");Qr(Ox,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(Dx,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function ay(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lE(r,t,void 0,e),e.currentTarget=null}function Lx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;ay(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;ay(s,a,c),o=l}}}if(ac)throw e=Rf,ac=!1,Rf=null,e}function ye(e,t){var n=t[Vf];n===void 0&&(n=t[Vf]=new Set);var r=e+"__bubble";n.has(r)||(Ix(t,e,2,!1),n.add(r))}function wd(e,t,n){var r=0;t&&(r|=4),Ix(n,e,r,t)}var ul="_reactListening"+Math.random().toString(36).slice(2);function ua(e){if(!e[ul]){e[ul]=!0,Ww.forEach(function(n){n!=="selectionchange"&&(uT.has(n)||wd(n,!1,e),wd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ul]||(t[ul]=!0,wd("selectionchange",!1,t))}}function Ix(e,t,n,r){switch(xx(t)){case 1:var s=_E;break;case 4:s=CE;break;default:s=yp}n=s.bind(null,t,n,e),s=void 0,!Af||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function xd(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ms(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}ix(function(){var c=o,u=hp(n),f=[];e:{var h=Mx.get(e);if(h!==void 0){var m=wp,v=e;switch(e){case"keypress":if($l(n)===0)break e;case"keydown":case"keyup":m=$E;break;case"focusin":v="focus",m=hd;break;case"focusout":v="blur",m=hd;break;case"beforeblur":case"afterblur":m=hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=TE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zE;break;case Rx:case Nx:case Ox:m=RE;break;case Dx:m=HE;break;case"scroll":m=PE;break;case"wheel":m=KE;break;case"copy":case"cut":case"paste":m=OE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xg}var g=(t&4)!==0,x=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,S;w!==null;){S=w;var b=S.stateNode;if(S.tag===5&&b!==null&&(S=b,y!==null&&(b=sa(w,y),b!=null&&g.push(da(w,b,S)))),x)break;w=w.return}0<g.length&&(h=new m(h,v,null,n,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Tf&&(v=n.relatedTarget||n.fromElement)&&(ms(v)||v[qn]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?ms(v):null,v!==null&&(x=Is(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=Yg,b="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=Xg,b="onPointerLeave",y="onPointerEnter",w="pointer"),x=m==null?h:no(m),S=v==null?h:no(v),h=new g(b,w+"leave",m,n,u),h.target=x,h.relatedTarget=S,b=null,ms(u)===c&&(g=new g(y,w+"enter",v,n,u),g.target=S,g.relatedTarget=x,b=g),x=b,m&&v)t:{for(g=m,y=v,w=0,S=g;S;S=Vs(S))w++;for(S=0,b=y;b;b=Vs(b))S++;for(;0<w-S;)g=Vs(g),w--;for(;0<S-w;)y=Vs(y),S--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=Vs(g),y=Vs(y)}g=null}else g=null;m!==null&&ly(f,h,m,g,!1),v!==null&&x!==null&&ly(f,x,v,g,!0)}}e:{if(h=c?no(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=eT;else if(ey(h))if(Px)k=sT;else{k=nT;var _=tT}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=rT);if(k&&(k=k(e,c))){Cx(f,k,n,u);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&kf(h,"number",h.value)}switch(_=c?no(c):window,e){case"focusin":(ey(_)||_.contentEditable==="true")&&(eo=_,Mf=c,Vi=null);break;case"focusout":Vi=Mf=eo=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,oy(f,n,u);break;case"selectionchange":if(aT)break;case"keydown":case"keyup":oy(f,n,u)}var C;if(Sp)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Zs?kx(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(bx&&n.locale!=="ko"&&(Zs||P!=="onCompositionStart"?P==="onCompositionEnd"&&Zs&&(C=Sx()):(Tr=u,vp="value"in Tr?Tr.value:Tr.textContent,Zs=!0)),_=fc(c,P),0<_.length&&(P=new Qg(P,e,null,n,u),f.push({event:P,listeners:_}),C?P.data=C:(C=_x(n),C!==null&&(P.data=C)))),(C=YE?QE(e,n):XE(e,n))&&(c=fc(c,"onBeforeInput"),0<c.length&&(u=new Qg("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=C))}Lx(f,t)})}function da(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=sa(e,n),o!=null&&r.unshift(da(e,o,s)),o=sa(e,t),o!=null&&r.push(da(e,o,s))),e=e.return}return r}function Vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ly(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=sa(n,o),l!=null&&i.unshift(da(n,l,a))):s||(l=sa(n,o),l!=null&&i.push(da(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var dT=/\r\n?/g,fT=/\u0000|\uFFFD/g;function cy(e){return(typeof e=="string"?e:""+e).replace(dT,`
`).replace(fT,"")}function dl(e,t,n){if(t=cy(t),cy(e)!==t&&n)throw Error(R(425))}function hc(){}var If=null,Ff=null;function Uf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $f=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,pT=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(e){return uy.resolve(null).then(e).catch(mT)}:$f;function mT(e){setTimeout(function(){throw e})}function Sd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),aa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);aa(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),bn="__reactFiber$"+Xo,fa="__reactProps$"+Xo,qn="__reactContainer$"+Xo,Vf="__reactEvents$"+Xo,gT="__reactListeners$"+Xo,yT="__reactHandles$"+Xo;function ms(e){var t=e[bn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qn]||n[bn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dy(e);e!==null;){if(n=e[bn])return n;e=dy(e)}return t}e=n,n=e.parentNode}return null}function Fa(e){return e=e[bn]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function no(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function uu(e){return e[fa]||null}var Bf=[],ro=-1;function Xr(e){return{current:e}}function we(e){0>ro||(e.current=Bf[ro],Bf[ro]=null,ro--)}function pe(e,t){ro++,Bf[ro]=e.current,e.current=t}var zr={},ot=Xr(zr),vt=Xr(!1),Es=zr;function Mo(e,t){var n=e.type.contextTypes;if(!n)return zr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wt(e){return e=e.childContextTypes,e!=null}function pc(){we(vt),we(ot)}function fy(e,t,n){if(ot.current!==zr)throw Error(R(168));pe(ot,t),pe(vt,n)}function Fx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,tE(e)||"Unknown",s));return Ee({},n,r)}function mc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zr,Es=ot.current,pe(ot,e),pe(vt,vt.current),!0}function hy(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Fx(e,t,Es),r.__reactInternalMemoizedMergedChildContext=e,we(vt),we(ot),pe(ot,e)):we(vt),pe(vt,n)}var Fn=null,du=!1,bd=!1;function Ux(e){Fn===null?Fn=[e]:Fn.push(e)}function vT(e){du=!0,Ux(e)}function Jr(){if(!bd&&Fn!==null){bd=!0;var e=0,t=le;try{var n=Fn;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Fn=null,du=!1}catch(s){throw Fn!==null&&(Fn=Fn.slice(e+1)),ux(pp,Jr),s}finally{le=t,bd=!1}}return null}var so=[],oo=0,gc=null,yc=0,Ft=[],Ut=0,Ts=null,Un=1,$n="";function ls(e,t){so[oo++]=yc,so[oo++]=gc,gc=e,yc=t}function $x(e,t,n){Ft[Ut++]=Un,Ft[Ut++]=$n,Ft[Ut++]=Ts,Ts=e;var r=Un;e=$n;var s=32-nn(r)-1;r&=~(1<<s),n+=1;var o=32-nn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Un=1<<32-nn(t)+s|n<<s|r,$n=o+e}else Un=1<<o|n<<s|r,$n=e}function kp(e){e.return!==null&&(ls(e,1),$x(e,1,0))}function _p(e){for(;e===gc;)gc=so[--oo],so[oo]=null,yc=so[--oo],so[oo]=null;for(;e===Ts;)Ts=Ft[--Ut],Ft[Ut]=null,$n=Ft[--Ut],Ft[Ut]=null,Un=Ft[--Ut],Ft[Ut]=null}var Tt=null,Et=null,be=!1,en=null;function Vx(e,t){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function py(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Et=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ts!==null?{id:Un,overflow:$n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,Et=null,!0):!1;default:return!1}}function zf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wf(e){if(be){var t=Et;if(t){var n=t;if(!py(e,t)){if(zf(e))throw Error(R(418));t=Dr(n.nextSibling);var r=Tt;t&&py(e,t)?Vx(r,n):(e.flags=e.flags&-4097|2,be=!1,Tt=e)}}else{if(zf(e))throw Error(R(418));e.flags=e.flags&-4097|2,be=!1,Tt=e}}}function my(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function fl(e){if(e!==Tt)return!1;if(!be)return my(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uf(e.type,e.memoizedProps)),t&&(t=Et)){if(zf(e))throw Bx(),Error(R(418));for(;t;)Vx(e,t),t=Dr(t.nextSibling)}if(my(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Et=Dr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=Tt?Dr(e.stateNode.nextSibling):null;return!0}function Bx(){for(var e=Et;e;)e=Dr(e.nextSibling)}function Lo(){Et=Tt=null,be=!1}function Cp(e){en===null?en=[e]:en.push(e)}var wT=er.ReactCurrentBatchConfig;function vi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function hl(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gy(e){var t=e._init;return t(e._payload)}function zx(e){function t(y,w){if(e){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=Fr(y,w),y.index=0,y.sibling=null,y}function o(y,w,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,w,S,b){return w===null||w.tag!==6?(w=jd(S,y.mode,b),w.return=y,w):(w=s(w,S),w.return=y,w)}function l(y,w,S,b){var k=S.type;return k===Js?u(y,w,S.props.children,b,S.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===pr&&gy(k)===w.type)?(b=s(w,S.props),b.ref=vi(y,w,S),b.return=y,b):(b=Kl(S.type,S.key,S.props,null,y.mode,b),b.ref=vi(y,w,S),b.return=y,b)}function c(y,w,S,b){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Ad(S,y.mode,b),w.return=y,w):(w=s(w,S.children||[]),w.return=y,w)}function u(y,w,S,b,k){return w===null||w.tag!==7?(w=_s(S,y.mode,b,k),w.return=y,w):(w=s(w,S),w.return=y,w)}function f(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=jd(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nl:return S=Kl(w.type,w.key,w.props,null,y.mode,S),S.ref=vi(y,null,w),S.return=y,S;case Xs:return w=Ad(w,y.mode,S),w.return=y,w;case pr:var b=w._init;return f(y,b(w._payload),S)}if(ji(w)||hi(w))return w=_s(w,y.mode,S,null),w.return=y,w;hl(y,w)}return null}function h(y,w,S,b){var k=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:a(y,w,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case nl:return S.key===k?l(y,w,S,b):null;case Xs:return S.key===k?c(y,w,S,b):null;case pr:return k=S._init,h(y,w,k(S._payload),b)}if(ji(S)||hi(S))return k!==null?null:u(y,w,S,b,null);hl(y,S)}return null}function m(y,w,S,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(S)||null,a(w,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nl:return y=y.get(b.key===null?S:b.key)||null,l(w,y,b,k);case Xs:return y=y.get(b.key===null?S:b.key)||null,c(w,y,b,k);case pr:var _=b._init;return m(y,w,S,_(b._payload),k)}if(ji(b)||hi(b))return y=y.get(S)||null,u(w,y,b,k,null);hl(w,b)}return null}function v(y,w,S,b){for(var k=null,_=null,C=w,P=w=0,T=null;C!==null&&P<S.length;P++){C.index>P?(T=C,C=null):T=C.sibling;var A=h(y,C,S[P],b);if(A===null){C===null&&(C=T);break}e&&C&&A.alternate===null&&t(y,C),w=o(A,w,P),_===null?k=A:_.sibling=A,_=A,C=T}if(P===S.length)return n(y,C),be&&ls(y,P),k;if(C===null){for(;P<S.length;P++)C=f(y,S[P],b),C!==null&&(w=o(C,w,P),_===null?k=C:_.sibling=C,_=C);return be&&ls(y,P),k}for(C=r(y,C);P<S.length;P++)T=m(C,y,P,S[P],b),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?P:T.key),w=o(T,w,P),_===null?k=T:_.sibling=T,_=T);return e&&C.forEach(function(I){return t(y,I)}),be&&ls(y,P),k}function g(y,w,S,b){var k=hi(S);if(typeof k!="function")throw Error(R(150));if(S=k.call(S),S==null)throw Error(R(151));for(var _=k=null,C=w,P=w=0,T=null,A=S.next();C!==null&&!A.done;P++,A=S.next()){C.index>P?(T=C,C=null):T=C.sibling;var I=h(y,C,A.value,b);if(I===null){C===null&&(C=T);break}e&&C&&I.alternate===null&&t(y,C),w=o(I,w,P),_===null?k=I:_.sibling=I,_=I,C=T}if(A.done)return n(y,C),be&&ls(y,P),k;if(C===null){for(;!A.done;P++,A=S.next())A=f(y,A.value,b),A!==null&&(w=o(A,w,P),_===null?k=A:_.sibling=A,_=A);return be&&ls(y,P),k}for(C=r(y,C);!A.done;P++,A=S.next())A=m(C,y,P,A.value,b),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?P:A.key),w=o(A,w,P),_===null?k=A:_.sibling=A,_=A);return e&&C.forEach(function(M){return t(y,M)}),be&&ls(y,P),k}function x(y,w,S,b){if(typeof S=="object"&&S!==null&&S.type===Js&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case nl:e:{for(var k=S.key,_=w;_!==null;){if(_.key===k){if(k=S.type,k===Js){if(_.tag===7){n(y,_.sibling),w=s(_,S.props.children),w.return=y,y=w;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===pr&&gy(k)===_.type){n(y,_.sibling),w=s(_,S.props),w.ref=vi(y,_,S),w.return=y,y=w;break e}n(y,_);break}else t(y,_);_=_.sibling}S.type===Js?(w=_s(S.props.children,y.mode,b,S.key),w.return=y,y=w):(b=Kl(S.type,S.key,S.props,null,y.mode,b),b.ref=vi(y,w,S),b.return=y,y=b)}return i(y);case Xs:e:{for(_=S.key;w!==null;){if(w.key===_)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(y,w.sibling),w=s(w,S.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Ad(S,y.mode,b),w.return=y,y=w}return i(y);case pr:return _=S._init,x(y,w,_(S._payload),b)}if(ji(S))return v(y,w,S,b);if(hi(S))return g(y,w,S,b);hl(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,S),w.return=y,y=w):(n(y,w),w=jd(S,y.mode,b),w.return=y,y=w),i(y)):n(y,w)}return x}var Io=zx(!0),Wx=zx(!1),vc=Xr(null),wc=null,io=null,Pp=null;function Ep(){Pp=io=wc=null}function Tp(e){var t=vc.current;we(vc),e._currentValue=t}function Hf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wo(e,t){wc=e,Pp=io=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(Pp!==e)if(e={context:e,memoizedValue:t,next:null},io===null){if(wc===null)throw Error(R(308));io=e,wc.dependencies={lanes:0,firstContext:e}}else io=io.next=e;return t}var gs=null;function jp(e){gs===null?gs=[e]:gs.push(e)}function Hx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,jp(t)):(n.next=s.next,s.next=n),t.interleaved=n,Kn(e,r)}function Kn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mr=!1;function Ap(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Kn(e,n)}return s=r.interleaved,s===null?(t.next=t,jp(r)):(t.next=s.next,s.next=t),r.interleaved=t,Kn(e,n)}function Vl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mp(e,n)}}function yy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xc(e,t,n,r){var s=e.updateQueue;mr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,u=c=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(h=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Ee({},f,h);break e;case 2:mr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);As|=i,e.lanes=i,e.memoizedState=f}}function vy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Ua={},Pn=Xr(Ua),ha=Xr(Ua),pa=Xr(Ua);function ys(e){if(e===Ua)throw Error(R(174));return e}function Rp(e,t){switch(pe(pa,t),pe(ha,e),pe(Pn,Ua),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cf(t,e)}we(Pn),pe(Pn,t)}function Fo(){we(Pn),we(ha),we(pa)}function Kx(e){ys(pa.current);var t=ys(Pn.current),n=Cf(t,e.type);t!==n&&(pe(ha,e),pe(Pn,n))}function Np(e){ha.current===e&&(we(Pn),we(ha))}var _e=Xr(0);function Sc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kd=[];function Op(){for(var e=0;e<kd.length;e++)kd[e]._workInProgressVersionPrimary=null;kd.length=0}var Bl=er.ReactCurrentDispatcher,_d=er.ReactCurrentBatchConfig,js=0,Pe=null,Me=null,Ue=null,bc=!1,Bi=!1,ma=0,xT=0;function Ze(){throw Error(R(321))}function Dp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Mp(e,t,n,r,s,o){if(js=o,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bl.current=e===null||e.memoizedState===null?_T:CT,e=n(r,s),Bi){o=0;do{if(Bi=!1,ma=0,25<=o)throw Error(R(301));o+=1,Ue=Me=null,t.updateQueue=null,Bl.current=PT,e=n(r,s)}while(Bi)}if(Bl.current=kc,t=Me!==null&&Me.next!==null,js=0,Ue=Me=Pe=null,bc=!1,t)throw Error(R(300));return e}function Lp(){var e=ma!==0;return ma=0,e}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Pe.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Wt(){if(Me===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Ue===null?Pe.memoizedState:Ue.next;if(t!==null)Ue=t,Me=e;else{if(e===null)throw Error(R(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ue===null?Pe.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function ga(e,t){return typeof t=="function"?t(e):t}function Cd(e){var t=Wt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Me,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var u=c.lane;if((js&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,Pe.lanes|=u,As|=u}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,on(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Pe.lanes|=o,As|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pd(e){var t=Wt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);on(o,t.memoizedState)||(yt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Gx(){}function Yx(e,t){var n=Pe,r=Wt(),s=t(),o=!on(r.memoizedState,s);if(o&&(r.memoizedState=s,yt=!0),r=r.queue,Ip(Jx.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,ya(9,Xx.bind(null,n,r,s,t),void 0,null),Ve===null)throw Error(R(349));js&30||Qx(n,t,s)}return s}function Qx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xx(e,t,n,r){t.value=n,t.getSnapshot=r,Zx(t)&&eS(e)}function Jx(e,t,n){return n(function(){Zx(t)&&eS(e)})}function Zx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function eS(e){var t=Kn(e,1);t!==null&&rn(t,e,1,-1)}function wy(e){var t=gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t.queue=e,e=e.dispatch=kT.bind(null,Pe,e),[t.memoizedState,e]}function ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tS(){return Wt().memoizedState}function zl(e,t,n,r){var s=gn();Pe.flags|=e,s.memoizedState=ya(1|t,n,void 0,r===void 0?null:r)}function fu(e,t,n,r){var s=Wt();r=r===void 0?null:r;var o=void 0;if(Me!==null){var i=Me.memoizedState;if(o=i.destroy,r!==null&&Dp(r,i.deps)){s.memoizedState=ya(t,n,o,r);return}}Pe.flags|=e,s.memoizedState=ya(1|t,n,o,r)}function xy(e,t){return zl(8390656,8,e,t)}function Ip(e,t){return fu(2048,8,e,t)}function nS(e,t){return fu(4,2,e,t)}function rS(e,t){return fu(4,4,e,t)}function sS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oS(e,t,n){return n=n!=null?n.concat([e]):null,fu(4,4,sS.bind(null,t,e),n)}function Fp(){}function iS(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aS(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lS(e,t,n){return js&21?(on(n,t)||(n=hx(),Pe.lanes|=n,As|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function ST(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=_d.transition;_d.transition={};try{e(!1),t()}finally{le=n,_d.transition=r}}function cS(){return Wt().memoizedState}function bT(e,t,n){var r=Ir(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uS(e))dS(t,n);else if(n=Hx(e,t,n,r),n!==null){var s=dt();rn(n,e,r,s),fS(n,t,r)}}function kT(e,t,n){var r=Ir(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uS(e))dS(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,on(a,i)){var l=t.interleaved;l===null?(s.next=s,jp(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Hx(e,t,s,r),n!==null&&(s=dt(),rn(n,e,r,s),fS(n,t,r))}}function uS(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function dS(e,t){Bi=bc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mp(e,n)}}var kc={readContext:zt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},_T={readContext:zt,useCallback:function(e,t){return gn().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:xy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zl(4194308,4,sS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return zl(4,2,e,t)},useMemo:function(e,t){var n=gn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bT.bind(null,Pe,e),[r.memoizedState,e]},useRef:function(e){var t=gn();return e={current:e},t.memoizedState=e},useState:wy,useDebugValue:Fp,useDeferredValue:function(e){return gn().memoizedState=e},useTransition:function(){var e=wy(!1),t=e[0];return e=ST.bind(null,e[1]),gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pe,s=gn();if(be){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Ve===null)throw Error(R(349));js&30||Qx(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,xy(Jx.bind(null,r,o,e),[e]),r.flags|=2048,ya(9,Xx.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=gn(),t=Ve.identifierPrefix;if(be){var n=$n,r=Un;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ma++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CT={readContext:zt,useCallback:iS,useContext:zt,useEffect:Ip,useImperativeHandle:oS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:aS,useReducer:Cd,useRef:tS,useState:function(){return Cd(ga)},useDebugValue:Fp,useDeferredValue:function(e){var t=Wt();return lS(t,Me.memoizedState,e)},useTransition:function(){var e=Cd(ga)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:Gx,useSyncExternalStore:Yx,useId:cS,unstable_isNewReconciler:!1},PT={readContext:zt,useCallback:iS,useContext:zt,useEffect:Ip,useImperativeHandle:oS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:aS,useReducer:Pd,useRef:tS,useState:function(){return Pd(ga)},useDebugValue:Fp,useDeferredValue:function(e){var t=Wt();return Me===null?t.memoizedState=e:lS(t,Me.memoizedState,e)},useTransition:function(){var e=Pd(ga)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:Gx,useSyncExternalStore:Yx,useId:cS,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hu={isMounted:function(e){return(e=e._reactInternals)?Is(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),s=Ir(e),o=Vn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Mr(e,o,s),t!==null&&(rn(t,e,s,r),Vl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),s=Ir(e),o=Vn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Mr(e,o,s),t!==null&&(rn(t,e,s,r),Vl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=Ir(e),s=Vn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Mr(e,s,r),t!==null&&(rn(t,e,r,n),Vl(t,e,r))}};function Sy(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!ca(n,r)||!ca(s,o):!0}function hS(e,t,n){var r=!1,s=zr,o=t.contextType;return typeof o=="object"&&o!==null?o=zt(o):(s=wt(t)?Es:ot.current,r=t.contextTypes,o=(r=r!=null)?Mo(e,s):zr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function by(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hu.enqueueReplaceState(t,t.state,null)}function Kf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ap(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=zt(o):(o=wt(t)?Es:ot.current,s.context=Mo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qf(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&hu.enqueueReplaceState(s,s.state,null),xc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Uo(e,t){try{var n="",r=t;do n+=eE(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Ed(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ET=typeof WeakMap=="function"?WeakMap:Map;function pS(e,t,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cc||(Cc=!0,sh=r),Gf(e,t)},n}function mS(e,t,n){n=Vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Gf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gf(e,t),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ky(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ET;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=VT.bind(null,e,t,n),t.then(e,e))}function _y(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cy(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vn(-1,1),t.tag=2,Mr(n,t,1))),n.lanes|=1),e)}var TT=er.ReactCurrentOwner,yt=!1;function ct(e,t,n,r){t.child=e===null?Wx(t,null,n,r):Io(t,e.child,n,r)}function Py(e,t,n,r,s){n=n.render;var o=t.ref;return wo(t,s),r=Mp(e,t,n,r,o,s),n=Lp(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gn(e,t,s)):(be&&n&&kp(t),t.flags|=1,ct(e,t,r,s),t.child)}function Ey(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!qp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,gS(e,t,o,r,s)):(e=Kl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ca,n(i,r)&&e.ref===t.ref)return Gn(e,t,s)}return t.flags|=1,e=Fr(o,r),e.ref=t.ref,e.return=t,t.child=e}function gS(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ca(o,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,Gn(e,t,s)}return Yf(e,t,n,r,s)}function yS(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(lo,_t),_t|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(lo,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pe(lo,_t),_t|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,pe(lo,_t),_t|=r;return ct(e,t,s,n),t.child}function vS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yf(e,t,n,r,s){var o=wt(n)?Es:ot.current;return o=Mo(t,o),wo(t,s),n=Mp(e,t,n,r,o,s),r=Lp(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gn(e,t,s)):(be&&r&&kp(t),t.flags|=1,ct(e,t,n,s),t.child)}function Ty(e,t,n,r,s){if(wt(n)){var o=!0;mc(t)}else o=!1;if(wo(t,s),t.stateNode===null)Wl(e,t),hS(t,n,r),Kf(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=zt(c):(c=wt(n)?Es:ot.current,c=Mo(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&by(t,i,r,c),mr=!1;var h=t.memoizedState;i.state=h,xc(t,r,i,s),l=t.memoizedState,a!==r||h!==l||vt.current||mr?(typeof u=="function"&&(qf(t,n,u,r),l=t.memoizedState),(a=mr||Sy(t,n,a,r,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,qx(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Yt(t.type,a),i.props=c,f=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=zt(l):(l=wt(n)?Es:ot.current,l=Mo(t,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==l)&&by(t,i,r,l),mr=!1,h=t.memoizedState,i.state=h,xc(t,r,i,s);var v=t.memoizedState;a!==f||h!==v||vt.current||mr?(typeof m=="function"&&(qf(t,n,m,r),v=t.memoizedState),(c=mr||Sy(t,n,c,r,h,v,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Qf(e,t,n,r,o,s)}function Qf(e,t,n,r,s,o){vS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&hy(t,n,!1),Gn(e,t,o);r=t.stateNode,TT.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,a,o)):ct(e,t,a,o),t.memoizedState=r.state,s&&hy(t,n,!0),t.child}function wS(e){var t=e.stateNode;t.pendingContext?fy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fy(e,t.context,!1),Rp(e,t.containerInfo)}function jy(e,t,n,r,s){return Lo(),Cp(s),t.flags|=256,ct(e,t,n,r),t.child}var Xf={dehydrated:null,treeContext:null,retryLane:0};function Jf(e){return{baseLanes:e,cachePool:null,transitions:null}}function xS(e,t,n){var r=t.pendingProps,s=_e.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pe(_e,s&1),e===null)return Wf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=gu(i,r,0,null),e=_s(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Jf(n),t.memoizedState=Xf,e):Up(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return jT(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Fr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Fr(a,o):(o=_s(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Jf(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Xf,r}return o=e.child,e=o.sibling,r=Fr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Up(e,t){return t=gu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pl(e,t,n,r){return r!==null&&Cp(r),Io(t,e.child,null,n),e=Up(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jT(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Ed(Error(R(422))),pl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=gu({mode:"visible",children:r.children},s,0,null),o=_s(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Io(t,e.child,null,i),t.child.memoizedState=Jf(i),t.memoizedState=Xf,o);if(!(t.mode&1))return pl(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(R(419)),r=Ed(o,r,void 0),pl(e,t,i,r)}if(a=(i&e.childLanes)!==0,yt||a){if(r=Ve,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Kn(e,s),rn(r,e,s,-1))}return Hp(),r=Ed(Error(R(421))),pl(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=BT.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Et=Dr(s.nextSibling),Tt=t,be=!0,en=null,e!==null&&(Ft[Ut++]=Un,Ft[Ut++]=$n,Ft[Ut++]=Ts,Un=e.id,$n=e.overflow,Ts=t),t=Up(t,r.children),t.flags|=4096,t)}function Ay(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hf(e.return,t,n)}function Td(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function SS(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(ct(e,t,r.children,n),r=_e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ay(e,n,t);else if(e.tag===19)Ay(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(_e,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Sc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Td(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Td(t,!0,n,null,o);break;case"together":Td(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),As|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Fr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function AT(e,t,n){switch(t.tag){case 3:wS(t),Lo();break;case 5:Kx(t);break;case 1:wt(t.type)&&mc(t);break;case 4:Rp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;pe(vc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?xS(e,t,n):(pe(_e,_e.current&1),e=Gn(e,t,n),e!==null?e.sibling:null);pe(_e,_e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return SS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(_e,_e.current),r)break;return null;case 22:case 23:return t.lanes=0,yS(e,t,n)}return Gn(e,t,n)}var bS,Zf,kS,_S;bS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zf=function(){};kS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ys(Pn.current);var o=null;switch(n){case"input":s=Sf(e,s),r=Sf(e,r),o=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),o=[];break;case"textarea":s=_f(e,s),r=_f(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hc)}Pf(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(na.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(na.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ye("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};_S=function(e,t,n,r){n!==r&&(t.flags|=4)};function wi(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function RT(e,t,n){var r=t.pendingProps;switch(_p(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return wt(t.type)&&pc(),et(t),null;case 3:return r=t.stateNode,Fo(),we(vt),we(ot),Op(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(ah(en),en=null))),Zf(e,t),et(t),null;case 5:Np(t);var s=ys(pa.current);if(n=t.type,e!==null&&t.stateNode!=null)kS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return et(t),null}if(e=ys(Pn.current),fl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[bn]=t,r[fa]=o,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<Ri.length;s++)ye(Ri[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Ug(r,o),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ye("invalid",r);break;case"textarea":Vg(r,o),ye("invalid",r)}Pf(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&dl(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&dl(r.textContent,a,e),s=["children",""+a]):na.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ye("scroll",r)}switch(n){case"input":rl(r),$g(r,o,!0);break;case"textarea":rl(r),Bg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=hc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[bn]=t,e[fa]=r,bS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ef(n,r),n){case"dialog":ye("cancel",e),ye("close",e),s=r;break;case"iframe":case"object":case"embed":ye("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ri.length;s++)ye(Ri[s],e);s=r;break;case"source":ye("error",e),s=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=r;break;case"details":ye("toggle",e),s=r;break;case"input":Ug(e,r),s=Sf(e,r),ye("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),ye("invalid",e);break;case"textarea":Vg(e,r),s=_f(e,r),ye("invalid",e);break;default:s=r}Pf(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?tx(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zw(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ra(e,l):typeof l=="number"&&ra(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(na.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ye("scroll",e):l!=null&&cp(e,o,l,i))}switch(n){case"input":rl(e),$g(e,r,!1);break;case"textarea":rl(e),Bg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Br(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?mo(e,!!r.multiple,o,!1):r.defaultValue!=null&&mo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=hc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)_S(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=ys(pa.current),ys(Pn.current),fl(t)){if(r=t.stateNode,n=t.memoizedProps,r[bn]=t,(o=r.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:dl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bn]=t,t.stateNode=r}return et(t),null;case 13:if(we(_e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&Et!==null&&t.mode&1&&!(t.flags&128))Bx(),Lo(),t.flags|=98560,o=!1;else if(o=fl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[bn]=t}else Lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),o=!1}else en!==null&&(ah(en),en=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Le===0&&(Le=3):Hp())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Fo(),Zf(e,t),e===null&&ua(t.stateNode.containerInfo),et(t),null;case 10:return Tp(t.type._context),et(t),null;case 17:return wt(t.type)&&pc(),et(t),null;case 19:if(we(_e),o=t.memoizedState,o===null)return et(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)wi(o,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Sc(e),i!==null){for(t.flags|=128,wi(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(_e,_e.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ne()>$o&&(t.flags|=128,r=!0,wi(o,!1),t.lanes=4194304)}else{if(!r)if(e=Sc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!be)return et(t),null}else 2*Ne()-o.renderingStartTime>$o&&n!==1073741824&&(t.flags|=128,r=!0,wi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ne(),t.sibling=null,n=_e.current,pe(_e,r?n&1|2:n&1),t):(et(t),null);case 22:case 23:return Wp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_t&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function NT(e,t){switch(_p(t),t.tag){case 1:return wt(t.type)&&pc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fo(),we(vt),we(ot),Op(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Np(t),null;case 13:if(we(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(_e),null;case 4:return Fo(),null;case 10:return Tp(t.type._context),null;case 22:case 23:return Wp(),null;case 24:return null;default:return null}}var ml=!1,rt=!1,OT=typeof WeakSet=="function"?WeakSet:Set,D=null;function ao(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(e,t,r)}else n.current=null}function eh(e,t,n){try{n()}catch(r){Ae(e,t,r)}}var Ry=!1;function DT(e,t){if(If=uc,e=jx(),bp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===s&&(a=i),h===o&&++u===r&&(l=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ff={focusedElem:e,selectionRange:n},uc=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Yt(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){Ae(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return v=Ry,Ry=!1,v}function zi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&eh(t,n,o)}s=s.next}while(s!==r)}}function pu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function th(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function CS(e){var t=e.alternate;t!==null&&(e.alternate=null,CS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bn],delete t[fa],delete t[Vf],delete t[gT],delete t[yT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PS(e){return e.tag===5||e.tag===3||e.tag===4}function Ny(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hc));else if(r!==4&&(e=e.child,e!==null))for(nh(e,t,n),e=e.sibling;e!==null;)nh(e,t,n),e=e.sibling}function rh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rh(e,t,n),e=e.sibling;e!==null;)rh(e,t,n),e=e.sibling}var He=null,Jt=!1;function sr(e,t,n){for(n=n.child;n!==null;)ES(e,t,n),n=n.sibling}function ES(e,t,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(iu,n)}catch{}switch(n.tag){case 5:rt||ao(n,t);case 6:var r=He,s=Jt;He=null,sr(e,t,n),He=r,Jt=s,He!==null&&(Jt?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Jt?(e=He,n=n.stateNode,e.nodeType===8?Sd(e.parentNode,n):e.nodeType===1&&Sd(e,n),aa(e)):Sd(He,n.stateNode));break;case 4:r=He,s=Jt,He=n.stateNode.containerInfo,Jt=!0,sr(e,t,n),He=r,Jt=s;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&eh(n,t,i),s=s.next}while(s!==r)}sr(e,t,n);break;case 1:if(!rt&&(ao(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ae(n,t,a)}sr(e,t,n);break;case 21:sr(e,t,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,sr(e,t,n),rt=r):sr(e,t,n);break;default:sr(e,t,n)}}function Oy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new OT),t.forEach(function(r){var s=zT.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:He=a.stateNode,Jt=!1;break e;case 3:He=a.stateNode.containerInfo,Jt=!0;break e;case 4:He=a.stateNode.containerInfo,Jt=!0;break e}a=a.return}if(He===null)throw Error(R(160));ES(o,i,s),He=null,Jt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ae(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)TS(t,e),t=t.sibling}function TS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),pn(e),r&4){try{zi(3,e,e.return),pu(3,e)}catch(g){Ae(e,e.return,g)}try{zi(5,e,e.return)}catch(g){Ae(e,e.return,g)}}break;case 1:qt(t,e),pn(e),r&512&&n!==null&&ao(n,n.return);break;case 5:if(qt(t,e),pn(e),r&512&&n!==null&&ao(n,n.return),e.flags&32){var s=e.stateNode;try{ra(s,"")}catch(g){Ae(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Qw(s,o),Ef(a,i);var c=Ef(a,o);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?tx(s,f):u==="dangerouslySetInnerHTML"?Zw(s,f):u==="children"?ra(s,f):cp(s,u,f,c)}switch(a){case"input":bf(s,o);break;case"textarea":Xw(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?mo(s,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?mo(s,!!o.multiple,o.defaultValue,!0):mo(s,!!o.multiple,o.multiple?[]:"",!1))}s[fa]=o}catch(g){Ae(e,e.return,g)}}break;case 6:if(qt(t,e),pn(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Ae(e,e.return,g)}}break;case 3:if(qt(t,e),pn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{aa(t.containerInfo)}catch(g){Ae(e,e.return,g)}break;case 4:qt(t,e),pn(e);break;case 13:qt(t,e),pn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Bp=Ne())),r&4&&Oy(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(rt=(c=rt)||u,qt(t,e),rt=c):qt(t,e),pn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(D=e,u=e.child;u!==null;){for(f=D=u;D!==null;){switch(h=D,m=h.child,h.tag){case 0:case 11:case 14:case 15:zi(4,h,h.return);break;case 1:ao(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ae(r,n,g)}}break;case 5:ao(h,h.return);break;case 22:if(h.memoizedState!==null){My(f);continue}}m!==null?(m.return=h,D=m):My(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ex("display",i))}catch(g){Ae(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Ae(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qt(t,e),pn(e),r&4&&Oy(e);break;case 21:break;default:qt(t,e),pn(e)}}function pn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(PS(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ra(s,""),r.flags&=-33);var o=Ny(e);rh(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Ny(e);nh(e,a,i);break;default:throw Error(R(161))}}catch(l){Ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MT(e,t,n){D=e,jS(e)}function jS(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ml;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||rt;a=ml;var c=rt;if(ml=i,(rt=l)&&!c)for(D=s;D!==null;)i=D,l=i.child,i.tag===22&&i.memoizedState!==null?Ly(s):l!==null?(l.return=i,D=l):Ly(s);for(;o!==null;)D=o,jS(o),o=o.sibling;D=s,ml=a,rt=c}Dy(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,D=o):Dy(e)}}function Dy(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rt||pu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Yt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&vy(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vy(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&aa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}rt||t.flags&512&&th(t)}catch(h){Ae(t,t.return,h)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function My(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Ly(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pu(4,t)}catch(l){Ae(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ae(t,s,l)}}var o=t.return;try{th(t)}catch(l){Ae(t,o,l)}break;case 5:var i=t.return;try{th(t)}catch(l){Ae(t,i,l)}}}catch(l){Ae(t,t.return,l)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var LT=Math.ceil,_c=er.ReactCurrentDispatcher,$p=er.ReactCurrentOwner,Vt=er.ReactCurrentBatchConfig,te=0,Ve=null,De=null,Ge=0,_t=0,lo=Xr(0),Le=0,va=null,As=0,mu=0,Vp=0,Wi=null,mt=null,Bp=0,$o=1/0,Ln=null,Cc=!1,sh=null,Lr=null,gl=!1,jr=null,Pc=0,Hi=0,oh=null,Hl=-1,ql=0;function dt(){return te&6?Ne():Hl!==-1?Hl:Hl=Ne()}function Ir(e){return e.mode&1?te&2&&Ge!==0?Ge&-Ge:wT.transition!==null?(ql===0&&(ql=hx()),ql):(e=le,e!==0||(e=window.event,e=e===void 0?16:xx(e.type)),e):1}function rn(e,t,n,r){if(50<Hi)throw Hi=0,oh=null,Error(R(185));La(e,n,r),(!(te&2)||e!==Ve)&&(e===Ve&&(!(te&2)&&(mu|=n),Le===4&&xr(e,Ge)),xt(e,r),n===1&&te===0&&!(t.mode&1)&&($o=Ne()+500,du&&Jr()))}function xt(e,t){var n=e.callbackNode;wE(e,t);var r=cc(e,e===Ve?Ge:0);if(r===0)n!==null&&Hg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hg(n),t===1)e.tag===0?vT(Iy.bind(null,e)):Ux(Iy.bind(null,e)),pT(function(){!(te&6)&&Jr()}),n=null;else{switch(px(r)){case 1:n=pp;break;case 4:n=dx;break;case 16:n=lc;break;case 536870912:n=fx;break;default:n=lc}n=IS(n,AS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function AS(e,t){if(Hl=-1,ql=0,te&6)throw Error(R(327));var n=e.callbackNode;if(xo()&&e.callbackNode!==n)return null;var r=cc(e,e===Ve?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ec(e,r);else{t=r;var s=te;te|=2;var o=NS();(Ve!==e||Ge!==t)&&(Ln=null,$o=Ne()+500,ks(e,t));do try{UT();break}catch(a){RS(e,a)}while(!0);Ep(),_c.current=o,te=s,De!==null?t=0:(Ve=null,Ge=0,t=Le)}if(t!==0){if(t===2&&(s=Nf(e),s!==0&&(r=s,t=ih(e,s))),t===1)throw n=va,ks(e,0),xr(e,r),xt(e,Ne()),n;if(t===6)xr(e,r);else{if(s=e.current.alternate,!(r&30)&&!IT(s)&&(t=Ec(e,r),t===2&&(o=Nf(e),o!==0&&(r=o,t=ih(e,o))),t===1))throw n=va,ks(e,0),xr(e,r),xt(e,Ne()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:cs(e,mt,Ln);break;case 3:if(xr(e,r),(r&130023424)===r&&(t=Bp+500-Ne(),10<t)){if(cc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=$f(cs.bind(null,e,mt,Ln),t);break}cs(e,mt,Ln);break;case 4:if(xr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-nn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LT(r/1960))-r,10<r){e.timeoutHandle=$f(cs.bind(null,e,mt,Ln),r);break}cs(e,mt,Ln);break;case 5:cs(e,mt,Ln);break;default:throw Error(R(329))}}}return xt(e,Ne()),e.callbackNode===n?AS.bind(null,e):null}function ih(e,t){var n=Wi;return e.current.memoizedState.isDehydrated&&(ks(e,t).flags|=256),e=Ec(e,t),e!==2&&(t=mt,mt=n,t!==null&&ah(t)),e}function ah(e){mt===null?mt=e:mt.push.apply(mt,e)}function IT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!on(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~Vp,t&=~mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nn(t),r=1<<n;e[n]=-1,t&=~r}}function Iy(e){if(te&6)throw Error(R(327));xo();var t=cc(e,0);if(!(t&1))return xt(e,Ne()),null;var n=Ec(e,t);if(e.tag!==0&&n===2){var r=Nf(e);r!==0&&(t=r,n=ih(e,r))}if(n===1)throw n=va,ks(e,0),xr(e,t),xt(e,Ne()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,mt,Ln),xt(e,Ne()),null}function zp(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&($o=Ne()+500,du&&Jr())}}function Rs(e){jr!==null&&jr.tag===0&&!(te&6)&&xo();var t=te;te|=1;var n=Vt.transition,r=le;try{if(Vt.transition=null,le=1,e)return e()}finally{le=r,Vt.transition=n,te=t,!(te&6)&&Jr()}}function Wp(){_t=lo.current,we(lo)}function ks(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hT(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(_p(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pc();break;case 3:Fo(),we(vt),we(ot),Op();break;case 5:Np(r);break;case 4:Fo();break;case 13:we(_e);break;case 19:we(_e);break;case 10:Tp(r.type._context);break;case 22:case 23:Wp()}n=n.return}if(Ve=e,De=e=Fr(e.current,null),Ge=_t=t,Le=0,va=null,Vp=mu=As=0,mt=Wi=null,gs!==null){for(t=0;t<gs.length;t++)if(n=gs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}gs=null}return e}function RS(e,t){do{var n=De;try{if(Ep(),Bl.current=kc,bc){for(var r=Pe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bc=!1}if(js=0,Ue=Me=Pe=null,Bi=!1,ma=0,$p.current=null,n===null||n.return===null){Le=1,va=t,De=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=_y(i);if(m!==null){m.flags&=-257,Cy(m,i,a,o,t),m.mode&1&&ky(o,c,t),t=m,l=c;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){ky(o,c,t),Hp();break e}l=Error(R(426))}}else if(be&&a.mode&1){var x=_y(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Cy(x,i,a,o,t),Cp(Uo(l,a));break e}}o=l=Uo(l,a),Le!==4&&(Le=2),Wi===null?Wi=[o]:Wi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=pS(o,l,t);yy(o,y);break e;case 1:a=l;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Lr===null||!Lr.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=mS(o,a,t);yy(o,b);break e}}o=o.return}while(o!==null)}DS(n)}catch(k){t=k,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function NS(){var e=_c.current;return _c.current=kc,e===null?kc:e}function Hp(){(Le===0||Le===3||Le===2)&&(Le=4),Ve===null||!(As&268435455)&&!(mu&268435455)||xr(Ve,Ge)}function Ec(e,t){var n=te;te|=2;var r=NS();(Ve!==e||Ge!==t)&&(Ln=null,ks(e,t));do try{FT();break}catch(s){RS(e,s)}while(!0);if(Ep(),te=n,_c.current=r,De!==null)throw Error(R(261));return Ve=null,Ge=0,Le}function FT(){for(;De!==null;)OS(De)}function UT(){for(;De!==null&&!uE();)OS(De)}function OS(e){var t=LS(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?DS(e):De=t,$p.current=null}function DS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=NT(n,t),n!==null){n.flags&=32767,De=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,De=null;return}}else if(n=RT(n,t,_t),n!==null){De=n;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Le===0&&(Le=5)}function cs(e,t,n){var r=le,s=Vt.transition;try{Vt.transition=null,le=1,$T(e,t,n,r)}finally{Vt.transition=s,le=r}return null}function $T(e,t,n,r){do xo();while(jr!==null);if(te&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(xE(e,o),e===Ve&&(De=Ve=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gl||(gl=!0,IS(lc,function(){return xo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Vt.transition,Vt.transition=null;var i=le;le=1;var a=te;te|=4,$p.current=null,DT(e,n),TS(n,e),iT(Ff),uc=!!If,Ff=If=null,e.current=n,MT(n),dE(),te=a,le=i,Vt.transition=o}else e.current=n;if(gl&&(gl=!1,jr=e,Pc=s),o=e.pendingLanes,o===0&&(Lr=null),pE(n.stateNode),xt(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Cc)throw Cc=!1,e=sh,sh=null,e;return Pc&1&&e.tag!==0&&xo(),o=e.pendingLanes,o&1?e===oh?Hi++:(Hi=0,oh=e):Hi=0,Jr(),null}function xo(){if(jr!==null){var e=px(Pc),t=Vt.transition,n=le;try{if(Vt.transition=null,le=16>e?16:e,jr===null)var r=!1;else{if(e=jr,jr=null,Pc=0,te&6)throw Error(R(331));var s=te;for(te|=4,D=e.current;D!==null;){var o=D,i=o.child;if(D.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(D=c;D!==null;){var u=D;switch(u.tag){case 0:case 11:case 15:zi(8,u,o)}var f=u.child;if(f!==null)f.return=u,D=f;else for(;D!==null;){u=D;var h=u.sibling,m=u.return;if(CS(u),u===c){D=null;break}if(h!==null){h.return=m,D=h;break}D=m}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}D=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,D=i;else e:for(;D!==null;){if(o=D,o.flags&2048)switch(o.tag){case 0:case 11:case 15:zi(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,D=y;break e}D=o.return}}var w=e.current;for(D=w;D!==null;){i=D;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,D=S;else e:for(i=w;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pu(9,a)}}catch(k){Ae(a,a.return,k)}if(a===i){D=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,D=b;break e}D=a.return}}if(te=s,Jr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(iu,e)}catch{}r=!0}return r}finally{le=n,Vt.transition=t}}return!1}function Fy(e,t,n){t=Uo(n,t),t=pS(e,t,1),e=Mr(e,t,1),t=dt(),e!==null&&(La(e,1,t),xt(e,t))}function Ae(e,t,n){if(e.tag===3)Fy(e,e,n);else for(;t!==null;){if(t.tag===3){Fy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){e=Uo(n,e),e=mS(t,e,1),t=Mr(t,e,1),e=dt(),t!==null&&(La(t,1,e),xt(t,e));break}}t=t.return}}function VT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Ge&n)===n&&(Le===4||Le===3&&(Ge&130023424)===Ge&&500>Ne()-Bp?ks(e,0):Vp|=n),xt(e,t)}function MS(e,t){t===0&&(e.mode&1?(t=il,il<<=1,!(il&130023424)&&(il=4194304)):t=1);var n=dt();e=Kn(e,t),e!==null&&(La(e,t,n),xt(e,n))}function BT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),MS(e,n)}function zT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),MS(e,n)}var LS;LS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,AT(e,t,n);yt=!!(e.flags&131072)}else yt=!1,be&&t.flags&1048576&&$x(t,yc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wl(e,t),e=t.pendingProps;var s=Mo(t,ot.current);wo(t,n),s=Mp(null,t,r,e,s,n);var o=Lp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(o=!0,mc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ap(t),s.updater=hu,t.stateNode=s,s._reactInternals=t,Kf(t,r,e,n),t=Qf(null,t,r,!0,o,n)):(t.tag=0,be&&o&&kp(t),ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=HT(r),e=Yt(r,e),s){case 0:t=Yf(null,t,r,e,n);break e;case 1:t=Ty(null,t,r,e,n);break e;case 11:t=Py(null,t,r,e,n);break e;case 14:t=Ey(null,t,r,Yt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yt(r,s),Yf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yt(r,s),Ty(e,t,r,s,n);case 3:e:{if(wS(t),e===null)throw Error(R(387));r=t.pendingProps,o=t.memoizedState,s=o.element,qx(e,t),xc(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Uo(Error(R(423)),t),t=jy(e,t,r,n,s);break e}else if(r!==s){s=Uo(Error(R(424)),t),t=jy(e,t,r,n,s);break e}else for(Et=Dr(t.stateNode.containerInfo.firstChild),Tt=t,be=!0,en=null,n=Wx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lo(),r===s){t=Gn(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return Kx(t),e===null&&Wf(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Uf(r,s)?i=null:o!==null&&Uf(r,o)&&(t.flags|=32),vS(e,t),ct(e,t,i,n),t.child;case 6:return e===null&&Wf(t),null;case 13:return xS(e,t,n);case 4:return Rp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Io(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yt(r,s),Py(e,t,r,s,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,pe(vc,r._currentValue),r._currentValue=i,o!==null)if(on(o.value,i)){if(o.children===s.children&&!vt.current){t=Gn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Vn(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hf(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(R(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Hf(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,wo(t,n),s=zt(s),r=r(s),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,s=Yt(r,t.pendingProps),s=Yt(r.type,s),Ey(e,t,r,s,n);case 15:return gS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yt(r,s),Wl(e,t),t.tag=1,wt(r)?(e=!0,mc(t)):e=!1,wo(t,n),hS(t,r,s),Kf(t,r,s,n),Qf(null,t,r,!0,e,n);case 19:return SS(e,t,n);case 22:return yS(e,t,n)}throw Error(R(156,t.tag))};function IS(e,t){return ux(e,t)}function WT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,n,r){return new WT(e,t,n,r)}function qp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HT(e){if(typeof e=="function")return qp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dp)return 11;if(e===fp)return 14}return 2}function Fr(e,t){var n=e.alternate;return n===null?(n=$t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kl(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")qp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Js:return _s(n.children,s,o,t);case up:i=8,s|=8;break;case yf:return e=$t(12,n,t,s|2),e.elementType=yf,e.lanes=o,e;case vf:return e=$t(13,n,t,s),e.elementType=vf,e.lanes=o,e;case wf:return e=$t(19,n,t,s),e.elementType=wf,e.lanes=o,e;case Kw:return gu(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hw:i=10;break e;case qw:i=9;break e;case dp:i=11;break e;case fp:i=14;break e;case pr:i=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=$t(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function _s(e,t,n,r){return e=$t(7,e,r,t),e.lanes=n,e}function gu(e,t,n,r){return e=$t(22,e,r,t),e.elementType=Kw,e.lanes=n,e.stateNode={isHidden:!1},e}function jd(e,t,n){return e=$t(6,e,null,t),e.lanes=n,e}function Ad(e,t,n){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qT(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ud(0),this.expirationTimes=ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ud(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kp(e,t,n,r,s,o,i,a,l){return e=new qT(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=$t(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ap(o),e}function KT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function FS(e){if(!e)return zr;e=e._reactInternals;e:{if(Is(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(wt(n))return Fx(e,n,t)}return t}function US(e,t,n,r,s,o,i,a,l){return e=Kp(n,r,!0,e,s,o,i,a,l),e.context=FS(null),n=e.current,r=dt(),s=Ir(n),o=Vn(r,s),o.callback=t??null,Mr(n,o,s),e.current.lanes=s,La(e,s,r),xt(e,r),e}function yu(e,t,n,r){var s=t.current,o=dt(),i=Ir(s);return n=FS(n),t.context===null?t.context=n:t.pendingContext=n,t=Vn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Mr(s,t,i),e!==null&&(rn(e,s,i,o),Vl(e,s,i)),i}function Tc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gp(e,t){Uy(e,t),(e=e.alternate)&&Uy(e,t)}function GT(){return null}var $S=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yp(e){this._internalRoot=e}vu.prototype.render=Yp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));yu(e,t,null,null)};vu.prototype.unmount=Yp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rs(function(){yu(null,e,null,null)}),t[qn]=null}};function vu(e){this._internalRoot=e}vu.prototype.unstable_scheduleHydration=function(e){if(e){var t=yx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wr.length&&t!==0&&t<wr[n].priority;n++);wr.splice(n,0,e),n===0&&wx(e)}};function Qp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $y(){}function YT(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=Tc(i);o.call(c)}}var i=US(t,r,e,0,null,!1,!1,"",$y);return e._reactRootContainer=i,e[qn]=i.current,ua(e.nodeType===8?e.parentNode:e),Rs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Tc(l);a.call(c)}}var l=Kp(e,0,!1,null,null,!1,!1,"",$y);return e._reactRootContainer=l,e[qn]=l.current,ua(e.nodeType===8?e.parentNode:e),Rs(function(){yu(t,l,n,r)}),l}function xu(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Tc(i);a.call(l)}}yu(t,i,e,s)}else i=YT(n,t,e,s,r);return Tc(i)}mx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ai(t.pendingLanes);n!==0&&(mp(t,n|1),xt(t,Ne()),!(te&6)&&($o=Ne()+500,Jr()))}break;case 13:Rs(function(){var r=Kn(e,1);if(r!==null){var s=dt();rn(r,e,1,s)}}),Gp(e,1)}};gp=function(e){if(e.tag===13){var t=Kn(e,134217728);if(t!==null){var n=dt();rn(t,e,134217728,n)}Gp(e,134217728)}};gx=function(e){if(e.tag===13){var t=Ir(e),n=Kn(e,t);if(n!==null){var r=dt();rn(n,e,t,r)}Gp(e,t)}};yx=function(){return le};vx=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};jf=function(e,t,n){switch(t){case"input":if(bf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=uu(r);if(!s)throw Error(R(90));Yw(r),bf(r,s)}}}break;case"textarea":Xw(e,n);break;case"select":t=n.value,t!=null&&mo(e,!!n.multiple,t,!1)}};sx=zp;ox=Rs;var QT={usingClientEntryPoint:!1,Events:[Fa,no,uu,nx,rx,zp]},xi={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XT={bundleType:xi.bundleType,version:xi.version,rendererPackageName:xi.rendererPackageName,rendererConfig:xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lx(e),e===null?null:e.stateNode},findFiberByHostInstance:xi.findFiberByHostInstance||GT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{iu=yl.inject(XT),Cn=yl}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QT;Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qp(t))throw Error(R(200));return KT(e,t,null,n)};Ot.createRoot=function(e,t){if(!Qp(e))throw Error(R(299));var n=!1,r="",s=$S;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Kp(e,1,!1,null,null,n,!1,r,s),e[qn]=t.current,ua(e.nodeType===8?e.parentNode:e),new Yp(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=lx(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return Rs(e)};Ot.hydrate=function(e,t,n){if(!wu(t))throw Error(R(200));return xu(null,e,t,!0,n)};Ot.hydrateRoot=function(e,t,n){if(!Qp(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=$S;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=US(t,null,e,1,n??null,s,!1,o,i),e[qn]=t.current,ua(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new vu(t)};Ot.render=function(e,t,n){if(!wu(t))throw Error(R(200));return xu(null,e,t,!1,n)};Ot.unmountComponentAtNode=function(e){if(!wu(e))throw Error(R(40));return e._reactRootContainer?(Rs(function(){xu(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1};Ot.unstable_batchedUpdates=zp;Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wu(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return xu(e,t,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function VS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VS)}catch(e){console.error(e)}}VS(),Vw.exports=Ot;var Jo=Vw.exports;const JT=Tw(Jo);var Vy=Jo;mf.createRoot=Vy.createRoot,mf.hydrateRoot=Vy.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wa(){return wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wa.apply(this,arguments)}var Ar;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ar||(Ar={}));const By="popstate";function ZT(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return lh("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:jc(s)}return tj(t,n,null,e)}function Oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ej(){return Math.random().toString(36).substr(2,8)}function zy(e,t){return{usr:e.state,key:e.key,idx:t}}function lh(e,t,n,r){return n===void 0&&(n=null),wa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zo(t):t,{state:n,key:t&&t.key||r||ej()})}function jc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tj(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Ar.Pop,l=null,c=u();c==null&&(c=0,i.replaceState(wa({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function f(){a=Ar.Pop;let x=u(),y=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:y})}function h(x,y){a=Ar.Push;let w=lh(g.location,x,y);c=u()+1;let S=zy(w,c),b=g.createHref(w);try{i.pushState(S,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(b)}o&&l&&l({action:a,location:g.location,delta:1})}function m(x,y){a=Ar.Replace;let w=lh(g.location,x,y);c=u();let S=zy(w,c),b=g.createHref(w);i.replaceState(S,"",b),o&&l&&l({action:a,location:g.location,delta:0})}function v(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:jc(x);return w=w.replace(/ $/,"%20"),Oe(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let g={get action(){return a},get location(){return e(s,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(By,f),l=x,()=>{s.removeEventListener(By,f),l=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(x){return i.go(x)}};return g}var Wy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wy||(Wy={}));function nj(e,t,n){return n===void 0&&(n="/"),rj(e,t,n,!1)}function rj(e,t,n,r){let s=typeof t=="string"?Zo(t):t,o=Xp(s.pathname||"/",n);if(o==null)return null;let i=zS(e);sj(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=mj(o);a=hj(i[l],c,r)}return a}function zS(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Oe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ur([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Oe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zS(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:dj(c,o.index),routesMeta:u})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of WS(o.path))s(o,i,l)}),t}function WS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=WS(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function sj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oj=/^:[\w-]+$/,ij=3,aj=2,lj=1,cj=10,uj=-2,Hy=e=>e==="*";function dj(e,t){let n=e.split("/"),r=n.length;return n.some(Hy)&&(r+=uj),t&&(r+=aj),n.filter(s=>!Hy(s)).reduce((s,o)=>s+(oj.test(o)?ij:o===""?lj:cj),r)}function fj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function hj(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",f=qy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=qy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Ur([o,f.pathname]),pathnameBase:wj(Ur([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Ur([o,f.pathnameBase]))}return i}function qy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pj(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[f];return m&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function pj(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),BS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function mj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return BS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gj(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Zo(e):e;return{pathname:n?n.startsWith("/")?n:yj(n,t):t,search:xj(r),hash:Sj(s)}}function yj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Rd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jp(e,t){let n=vj(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zp(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Zo(e):(s=wa({},e),Oe(!s.pathname||!s.pathname.includes("?"),Rd("?","pathname","search",s)),Oe(!s.pathname||!s.pathname.includes("#"),Rd("#","pathname","hash",s)),Oe(!s.search||!s.search.includes("#"),Rd("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=gj(s,a),c=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ur=e=>e.join("/").replace(/\/\/+/g,"/"),wj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const HS=["post","put","patch","delete"];new Set(HS);const kj=["get",...HS];new Set(kj);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xa.apply(this,arguments)}const em=p.createContext(null),_j=p.createContext(null),Zr=p.createContext(null),Su=p.createContext(null),tr=p.createContext({outlet:null,matches:[],isDataRoute:!1}),qS=p.createContext(null);function Cj(e,t){let{relative:n}=t===void 0?{}:t;ei()||Oe(!1);let{basename:r,navigator:s}=p.useContext(Zr),{hash:o,pathname:i,search:a}=GS(e,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:Ur([r,i])),s.createHref({pathname:l,search:a,hash:o})}function ei(){return p.useContext(Su)!=null}function Fs(){return ei()||Oe(!1),p.useContext(Su).location}function KS(e){p.useContext(Zr).static||p.useLayoutEffect(e)}function $a(){let{isDataRoute:e}=p.useContext(tr);return e?Fj():Pj()}function Pj(){ei()||Oe(!1);let e=p.useContext(em),{basename:t,future:n,navigator:r}=p.useContext(Zr),{matches:s}=p.useContext(tr),{pathname:o}=Fs(),i=JSON.stringify(Jp(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return KS(()=>{a.current=!0}),p.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Zp(c,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ur([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,i,o,e])}function WV(){let{matches:e}=p.useContext(tr),t=e[e.length-1];return t?t.params:{}}function GS(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(Zr),{matches:s}=p.useContext(tr),{pathname:o}=Fs(),i=JSON.stringify(Jp(s,r.v7_relativeSplatPath));return p.useMemo(()=>Zp(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function Ej(e,t){return Tj(e,t)}function Tj(e,t,n,r){ei()||Oe(!1);let{navigator:s}=p.useContext(Zr),{matches:o}=p.useContext(tr),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=Fs(),u;if(t){var f;let x=typeof t=="string"?Zo(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Oe(!1),u=x}else u=c;let h=u.pathname||"/",m=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=nj(e,{pathname:m}),g=Oj(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Ur([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ur([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&g?p.createElement(Su.Provider,{value:{location:xa({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ar.Pop}},g):g}function jj(){let e=Ij(),t=bj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const Aj=p.createElement(jj,null);class Rj extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(tr.Provider,{value:this.props.routeContext},p.createElement(qS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nj(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(em);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(tr.Provider,{value:t},r)}function Oj(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||Oe(!1),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:m}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,f,h)=>{let m,v=!1,g=null,x=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||Aj,l&&(c<0&&h===0?(v=!0,x=null):c===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),w=()=>{let S;return m?S=g:v?S=x:f.route.Component?S=p.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=u,p.createElement(Nj,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(Rj,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var YS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(YS||{}),Ac=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ac||{});function Dj(e){let t=p.useContext(em);return t||Oe(!1),t}function Mj(e){let t=p.useContext(_j);return t||Oe(!1),t}function Lj(e){let t=p.useContext(tr);return t||Oe(!1),t}function QS(e){let t=Lj(),n=t.matches[t.matches.length-1];return n.route.id||Oe(!1),n.route.id}function Ij(){var e;let t=p.useContext(qS),n=Mj(Ac.UseRouteError),r=QS(Ac.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Fj(){let{router:e}=Dj(YS.UseNavigateStable),t=QS(Ac.UseNavigateStable),n=p.useRef(!1);return KS(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,xa({fromRouteId:t},o)))},[e,t])}function XS(e){let{to:t,replace:n,state:r,relative:s}=e;ei()||Oe(!1);let{future:o,static:i}=p.useContext(Zr),{matches:a}=p.useContext(tr),{pathname:l}=Fs(),c=$a(),u=Zp(t,Jp(a,o.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(u);return p.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function Ie(e){Oe(!1)}function Uj(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ar.Pop,navigator:o,static:i=!1,future:a}=e;ei()&&Oe(!1);let l=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:o,static:i,future:xa({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=Zo(r));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:v="default"}=r,g=p.useMemo(()=>{let x=Xp(u,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:v},navigationType:s}},[l,u,f,h,m,v,s]);return g==null?null:p.createElement(Zr.Provider,{value:c},p.createElement(Su.Provider,{children:n,value:g}))}function $j(e){let{children:t,location:n}=e;return Ej(ch(t),n)}new Promise(()=>{});function ch(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let o=[...t,s];if(r.type===p.Fragment){n.push.apply(n,ch(r.props.children,o));return}r.type!==Ie&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ch(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uh.apply(this,arguments)}function Vj(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Bj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zj(e,t){return e.button===0&&(!t||t==="_self")&&!Bj(e)}function dh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Wj(e,t){let n=dh(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const Hj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qj="6";try{window.__reactRouterVersion=qj}catch{}const Kj="startTransition",Ky=Uw[Kj];function Gj(e){let{basename:t,children:n,future:r,window:s}=e,o=p.useRef();o.current==null&&(o.current=ZT({window:s,v5Compat:!0}));let i=o.current,[a,l]=p.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},u=p.useCallback(f=>{c&&Ky?Ky(()=>l(f)):l(f)},[l,c]);return p.useLayoutEffect(()=>i.listen(u),[i,u]),p.createElement(Uj,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const Yj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HV=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=Vj(t,Hj),{basename:m}=p.useContext(Zr),v,g=!1;if(typeof c=="string"&&Qj.test(c)&&(v=c,Yj))try{let S=new URL(window.location.href),b=c.startsWith("//")?new URL(S.protocol+c):new URL(c),k=Xp(b.pathname,m);b.origin===S.origin&&k!=null?c=k+b.search+b.hash:g=!0}catch{}let x=Cj(c,{relative:s}),y=Xj(c,{replace:i,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:f});function w(S){r&&r(S),S.defaultPrevented||y(S)}return p.createElement("a",uh({},h,{href:v||x,onClick:g||o?r:w,ref:n,target:l}))});var Gy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gy||(Gy={}));var Yy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yy||(Yy={}));function Xj(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,l=$a(),c=Fs(),u=GS(e,{relative:i});return p.useCallback(f=>{if(zj(f,n)){f.preventDefault();let h=r!==void 0?r:jc(c)===jc(u);l(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[c,l,u,r,s,n,e,o,i,a])}function qV(e){let t=p.useRef(dh(e)),n=p.useRef(!1),r=Fs(),s=p.useMemo(()=>Wj(r.search,n.current?null:t.current),[r.search]),o=$a(),i=p.useCallback((a,l)=>{const c=dh(typeof a=="function"?a(s):a);n.current=!0,o("?"+c,l)},[o,s]);return[s,i]}var bu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ku=typeof window>"u"||"Deno"in globalThis;function Qt(){}function Jj(e,t){return typeof e=="function"?e(t):e}function Zj(e){return typeof e=="number"&&e>=0&&e!==1/0}function eA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qy(e,t){return typeof e=="function"?e(t):e}function tA(e,t){return typeof e=="function"?e(t):e}function Xy(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==tm(i,t.options))return!1}else if(!ba(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Jy(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Sa(t.options.mutationKey)!==Sa(o))return!1}else if(!ba(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function tm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Sa)(e)}function Sa(e){return JSON.stringify(e,(t,n)=>fh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ba(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ba(e[n],t[n])):!1}function JS(e,t){if(e===t)return e;const n=Zy(e)&&Zy(t);if(n||fh(e)&&fh(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const u=n?c:o[c];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(a[u]=void 0,l++):(a[u]=JS(e[u],t[u]),a[u]===e[u]&&e[u]!==void 0&&l++)}return s===i&&l===s?e:a}return t}function Zy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fh(e){if(!ev(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ev(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ev(e){return Object.prototype.toString.call(e)==="[object Object]"}function nA(e){return new Promise(t=>{setTimeout(t,e)})}function rA(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?JS(e,t):t}function sA(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function oA(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var nm=Symbol();function ZS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===nm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ws,kr,Co,xw,iA=(xw=class extends bu{constructor(){super();se(this,ws);se(this,kr);se(this,Co);K(this,Co,t=>{if(!ku&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,kr)||this.setEventListener(j(this,Co))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,kr))==null||t.call(this),K(this,kr,void 0))}setEventListener(t){var n;K(this,Co,t),(n=j(this,kr))==null||n.call(this),K(this,kr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){j(this,ws)!==t&&(K(this,ws,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof j(this,ws)=="boolean"?j(this,ws):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ws=new WeakMap,kr=new WeakMap,Co=new WeakMap,xw),eb=new iA,Po,_r,Eo,Sw,aA=(Sw=class extends bu{constructor(){super();se(this,Po,!0);se(this,_r);se(this,Eo);K(this,Eo,t=>{if(!ku&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,_r)||this.setEventListener(j(this,Eo))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,_r))==null||t.call(this),K(this,_r,void 0))}setEventListener(t){var n;K(this,Eo,t),(n=j(this,_r))==null||n.call(this),K(this,_r,t(this.setOnline.bind(this)))}setOnline(t){j(this,Po)!==t&&(K(this,Po,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return j(this,Po)}},Po=new WeakMap,_r=new WeakMap,Eo=new WeakMap,Sw),Rc=new aA;function lA(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function cA(e){return Math.min(1e3*2**e,3e4)}function tb(e){return(e??"online")==="online"?Rc.isOnline():!0}var nb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Nd(e){return e instanceof nb}function rb(e){let t=!1,n=0,r=!1,s;const o=lA(),i=g=>{var x;r||(h(new nb(g)),(x=e.abort)==null||x.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>eb.isFocused()&&(e.networkMode==="always"||Rc.isOnline())&&e.canRun(),u=()=>tb(e.networkMode)&&e.canRun(),f=g=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,g),s==null||s(),o.resolve(g))},h=g=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,g),s==null||s(),o.reject(g))},m=()=>new Promise(g=>{var x;s=y=>{(r||c())&&g(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(r)return;let g;const x=n===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var _;if(r)return;const w=e.retry??(ku?0:3),S=e.retryDelay??cA,b=typeof S=="function"?S(n,y):S,k=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!k){h(y);return}n++,(_=e.onFail)==null||_.call(e,n,y),nA(b).then(()=>c()?void 0:m()).then(()=>{t?h(y):v()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():m().then(v),o)}}function uA(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ut=uA(),xs,bw,sb=(bw=class{constructor(){se(this,xs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zj(this.gcTime)&&K(this,xs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ku?1/0:5*60*1e3))}clearGcTimeout(){j(this,xs)&&(clearTimeout(j(this,xs)),K(this,xs,void 0))}},xs=new WeakMap,bw),To,jo,It,tt,Oa,Ss,Xt,Mn,kw,dA=(kw=class extends sb{constructor(t){super();se(this,Xt);se(this,To);se(this,jo);se(this,It);se(this,tt);se(this,Oa);se(this,Ss);K(this,Ss,!1),K(this,Oa,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,It,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,To,hA(this.options)),this.state=t.state??j(this,To),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=j(this,tt))==null?void 0:t.promise}setOptions(t){this.options={...j(this,Oa),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,It).remove(this)}setData(t,n){const r=rA(this.state.data,t,this.options);return Je(this,Xt,Mn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Je(this,Xt,Mn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=j(this,tt))==null?void 0:r.promise;return(s=j(this,tt))==null||s.cancel(t),n?n.then(Qt).catch(Qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,To))}isActive(){return this.observers.some(t=>tA(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!eA(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,tt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,tt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),j(this,It).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(j(this,tt)&&(j(this,Ss)?j(this,tt).cancel({revert:!0}):j(this,tt).cancelRetry()),this.scheduleGc()),j(this,It).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Je(this,Xt,Mn).call(this,{type:"invalidate"})}fetch(t,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(j(this,tt))return j(this,tt).continueRetry(),j(this,tt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(K(this,Ss,!0),r.signal)})},o=()=>{const f=ZS(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),K(this,Ss,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(l=this.options.behavior)==null||l.onFetch(i,this),K(this,jo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&Je(this,Xt,Mn).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const a=f=>{var h,m,v,g;Nd(f)&&f.silent||Je(this,Xt,Mn).call(this,{type:"error",error:f}),Nd(f)||((m=(h=j(this,It).config).onError)==null||m.call(h,f,this),(g=(v=j(this,It).config).onSettled)==null||g.call(v,this.state.data,f,this)),this.scheduleGc()};return K(this,tt,rb({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,m,v,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){a(x);return}(m=(h=j(this,It).config).onSuccess)==null||m.call(h,f,this),(g=(v=j(this,It).config).onSettled)==null||g.call(v,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{Je(this,Xt,Mn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Je(this,Xt,Mn).call(this,{type:"pause"})},onContinue:()=>{Je(this,Xt,Mn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),j(this,tt).start()}},To=new WeakMap,jo=new WeakMap,It=new WeakMap,tt=new WeakMap,Oa=new WeakMap,Ss=new WeakMap,Xt=new WeakSet,Mn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...fA(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Nd(s)&&s.revert&&j(this,jo)?{...j(this,jo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ut.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),j(this,It).notify({query:this,type:"updated",action:t})})},kw);function fA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wn,_w,pA=(_w=class extends bu{constructor(t={}){super();se(this,wn);this.config=t,K(this,wn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??tm(s,n);let i=this.get(o);return i||(i=new dA({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){j(this,wn).has(t.queryHash)||(j(this,wn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=j(this,wn).get(t.queryHash);n&&(t.destroy(),n===t&&j(this,wn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return j(this,wn).get(t)}getAll(){return[...j(this,wn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Xy(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Xy(t,r)):n}notify(t){ut.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ut.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ut.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wn=new WeakMap,_w),xn,lt,bs,Sn,lr,Cw,mA=(Cw=class extends sb{constructor(t){super();se(this,Sn);se(this,xn);se(this,lt);se(this,bs);this.mutationId=t.mutationId,K(this,lt,t.mutationCache),K(this,xn,[]),this.state=t.state||gA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){j(this,xn).includes(t)||(j(this,xn).push(t),this.clearGcTimeout(),j(this,lt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,xn,j(this,xn).filter(n=>n!==t)),this.scheduleGc(),j(this,lt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){j(this,xn).length||(this.state.status==="pending"?this.scheduleGc():j(this,lt).remove(this))}continue(){var t;return((t=j(this,bs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,a,l,c,u,f,h,m,v,g,x,y,w,S,b,k,_,C;K(this,bs,rb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,T)=>{Je(this,Sn,lr).call(this,{type:"failed",failureCount:P,error:T})},onPause:()=>{Je(this,Sn,lr).call(this,{type:"pause"})},onContinue:()=>{Je(this,Sn,lr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,lt).canRun(this)}));const n=this.state.status==="pending",r=!j(this,bs).canStart();try{if(!n){Je(this,Sn,lr).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=j(this,lt).config).onMutate)==null?void 0:o.call(s,t,this));const T=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));T!==this.state.context&&Je(this,Sn,lr).call(this,{type:"pending",context:T,variables:t,isPaused:r})}const P=await j(this,bs).start();return await((c=(l=j(this,lt).config).onSuccess)==null?void 0:c.call(l,P,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,P,t,this.state.context)),await((m=(h=j(this,lt).config).onSettled)==null?void 0:m.call(h,P,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,P,null,t,this.state.context)),Je(this,Sn,lr).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(x=j(this,lt).config).onError)==null?void 0:y.call(x,P,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,P,t,this.state.context)),await((k=(b=j(this,lt).config).onSettled)==null?void 0:k.call(b,void 0,P,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,P,t,this.state.context)),P}finally{Je(this,Sn,lr).call(this,{type:"error",error:P})}}finally{j(this,lt).runNext(this)}}},xn=new WeakMap,lt=new WeakMap,bs=new WeakMap,Sn=new WeakSet,lr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ut.batch(()=>{j(this,xn).forEach(r=>{r.onMutationUpdate(t)}),j(this,lt).notify({mutation:this,type:"updated",action:t})})},Cw);function gA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kt,Da,Pw,yA=(Pw=class extends bu{constructor(t={}){super();se(this,kt);se(this,Da);this.config=t,K(this,kt,new Map),K(this,Da,Date.now())}build(t,n,r){const s=new mA({mutationCache:this,mutationId:++el(this,Da)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=vl(t),r=j(this,kt).get(n)??[];r.push(t),j(this,kt).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=vl(t);if(j(this,kt).has(n)){const s=(r=j(this,kt).get(n))==null?void 0:r.filter(o=>o!==t);s&&(s.length===0?j(this,kt).delete(n):j(this,kt).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=j(this,kt).get(vl(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=j(this,kt).get(vl(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...j(this,kt).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Jy(n,r))}findAll(t={}){return this.getAll().filter(n=>Jy(t,n))}notify(t){ut.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ut.batch(()=>Promise.all(t.map(n=>n.continue().catch(Qt))))}},kt=new WeakMap,Da=new WeakMap,Pw);function vl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function tv(e){return{onFetch:(t,n)=>{var u,f,h,m,v;const r=t.options,s=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=ZS(t.options,t.fetchOptions),w=async(S,b,k)=>{if(g)return Promise.reject();if(b==null&&S.pages.length)return Promise.resolve(S);const _={queryKey:t.queryKey,pageParam:b,direction:k?"backward":"forward",meta:t.options.meta};x(_);const C=await y(_),{maxPages:P}=t.options,T=k?oA:sA;return{pages:T(S.pages,C,P),pageParams:T(S.pageParams,b,P)}};if(s&&o.length){const S=s==="backward",b=S?vA:nv,k={pages:o,pageParams:i},_=b(r,k);a=await w(k,_,S)}else{const S=e??o.length;do{const b=l===0?i[0]??r.initialPageParam:nv(r,a);if(l>0&&b==null)break;a=await w(a,b),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function nv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function vA(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Te,Cr,Pr,Ao,Ro,Er,No,Oo,Ew,wA=(Ew=class{constructor(e={}){se(this,Te);se(this,Cr);se(this,Pr);se(this,Ao);se(this,Ro);se(this,Er);se(this,No);se(this,Oo);K(this,Te,e.queryCache||new pA),K(this,Cr,e.mutationCache||new yA),K(this,Pr,e.defaultOptions||{}),K(this,Ao,new Map),K(this,Ro,new Map),K(this,Er,0)}mount(){el(this,Er)._++,j(this,Er)===1&&(K(this,No,eb.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,Te).onFocus())})),K(this,Oo,Rc.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,Te).onOnline())})))}unmount(){var e,t;el(this,Er)._--,j(this,Er)===0&&((e=j(this,No))==null||e.call(this),K(this,No,void 0),(t=j(this,Oo))==null||t.call(this),K(this,Oo,void 0))}isFetching(e){return j(this,Te).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return j(this,Cr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,Te).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=j(this,Te).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Qy(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return j(this,Te).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=j(this,Te).get(r.queryHash),o=s==null?void 0:s.state.data,i=Jj(t,o);if(i!==void 0)return j(this,Te).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return ut.batch(()=>j(this,Te).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,Te).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=j(this,Te);ut.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=j(this,Te),r={type:"active",...e};return ut.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=ut.batch(()=>j(this,Te).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Qt).catch(Qt)}invalidateQueries(e={},t={}){return ut.batch(()=>{if(j(this,Te).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=ut.batch(()=>j(this,Te).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Qt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Qt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=j(this,Te).build(this,t);return n.isStaleByTime(Qy(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qt).catch(Qt)}fetchInfiniteQuery(e){return e.behavior=tv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qt).catch(Qt)}ensureInfiniteQueryData(e){return e.behavior=tv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rc.isOnline()?j(this,Cr).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,Te)}getMutationCache(){return j(this,Cr)}getDefaultOptions(){return j(this,Pr)}setDefaultOptions(e){K(this,Pr,e)}setQueryDefaults(e,t){j(this,Ao).set(Sa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...j(this,Ao).values()];let n={};return t.forEach(r=>{ba(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){j(this,Ro).set(Sa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...j(this,Ro).values()];let n={};return t.forEach(r=>{ba(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...j(this,Pr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===nm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...j(this,Pr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){j(this,Te).clear(),j(this,Cr).clear()}},Te=new WeakMap,Cr=new WeakMap,Pr=new WeakMap,Ao=new WeakMap,Ro=new WeakMap,Er=new WeakMap,No=new WeakMap,Oo=new WeakMap,Ew),xA=p.createContext(void 0),SA=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(xA.Provider,{value:e,children:t}));const bA=1,kA=5e3;let Od=0;function _A(){return Od=(Od+1)%Number.MAX_SAFE_INTEGER,Od.toString()}const Dd=new Map,rv=e=>{if(Dd.has(e))return;const t=setTimeout(()=>{Dd.delete(e),qi({type:"REMOVE_TOAST",toastId:e})},kA);Dd.set(e,t)},CA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,bA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?rv(n):e.toasts.forEach(r=>{rv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Gl=[];let Yl={toasts:[]};function qi(e){Yl=CA(Yl,e),Gl.forEach(t=>{t(Yl)})}function ae({...e}){const t=_A(),n=s=>qi({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>qi({type:"DISMISS_TOAST",toastId:t});return qi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function _u(){const[e,t]=p.useState(Yl);return p.useEffect(()=>(Gl.push(t),()=>{const n=Gl.indexOf(t);n>-1&&Gl.splice(n,1)}),[e]),{...e,toast:ae,dismiss:n=>qi({type:"DISMISS_TOAST",toastId:n})}}class PA extends p.Component{constructor(){super(...arguments);J(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Global error caught:",n,r),ae({title:"Something went wrong",description:"We're sorry, but something unexpected happened. Please refresh the page and try again.",variant:"destructive"})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[d.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),d.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Oops! Something went wrong"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Please refresh the page and try again."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"bg-chichi-purple text-white px-4 py-2 rounded-md hover:bg-chichi-purple-dark transition-colors",children:"Refresh Page"})]})}):this.props.children}}const ob=p.createContext(void 0),EA="modulepreload",TA=function(e){return"/"+e},sv={},ke=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=TA(l),l in sv)return;sv[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":EA,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},jA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ke(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class rm extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class AA extends rm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class RA extends rm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class NA extends rm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hh||(hh={}));var OA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class DA{constructor(t,{headers:n={},customFetch:r,region:s=hh.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=jA(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return OA(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(v=>{throw new AA(v)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new RA(u);if(!u.ok)throw new NA(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield u.json():h==="application/octet-stream"?m=yield u.blob():h==="text/event-stream"?m=u:h==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var gt={},sm={},Cu={},Va={},Pu={},Eu={},MA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vo=MA();const LA=Vo.fetch,ib=Vo.fetch.bind(Vo),ab=Vo.Headers,IA=Vo.Request,FA=Vo.Response,ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:ab,Request:IA,Response:FA,default:ib,fetch:LA},Symbol.toStringTag,{value:"Module"})),UA=PP(ti);var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});let $A=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Tu.default=$A;var lb=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eu,"__esModule",{value:!0});const VA=lb(UA),BA=lb(Tu);let zA=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=VA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let c=null,u=null,f=null,h=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await o.text();try{c=JSON.parse(g),Array.isArray(c)&&o.status===404&&(u=[],c=null,h=200,m="OK")}catch{o.status===404&&g===""?(h=204,m="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&this.shouldThrowOnError)throw new BA.default(c)}return{error:c,data:u,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Eu.default=zA;var WA=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pu,"__esModule",{value:!0});const HA=WA(Eu);let qA=class extends HA.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Pu.default=qA;var KA=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Va,"__esModule",{value:!0});const GA=KA(Pu);let YA=class extends GA.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Va.default=YA;var QA=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cu,"__esModule",{value:!0});const Si=QA(Va);let XA=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Si.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Si.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Si.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Si.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Si.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Cu.default=XA;var ju={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.version=void 0;Au.version="0.0.0-automated";Object.defineProperty(ju,"__esModule",{value:!0});ju.DEFAULT_HEADERS=void 0;const JA=Au;ju.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${JA.version}`};var cb=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sm,"__esModule",{value:!0});const ZA=cb(Cu),eR=cb(Va),tR=ju;let nR=class ub{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},tR.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new ZA.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ub(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(i="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new eR.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};sm.default=nR;var ni=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gt,"__esModule",{value:!0});gt.PostgrestError=gt.PostgrestBuilder=gt.PostgrestTransformBuilder=gt.PostgrestFilterBuilder=gt.PostgrestQueryBuilder=gt.PostgrestClient=void 0;const db=ni(sm);gt.PostgrestClient=db.default;const fb=ni(Cu);gt.PostgrestQueryBuilder=fb.default;const hb=ni(Va);gt.PostgrestFilterBuilder=hb.default;const pb=ni(Pu);gt.PostgrestTransformBuilder=pb.default;const mb=ni(Eu);gt.PostgrestBuilder=mb.default;const gb=ni(Tu);gt.PostgrestError=gb.default;var rR=gt.default={PostgrestClient:db.default,PostgrestQueryBuilder:fb.default,PostgrestFilterBuilder:hb.default,PostgrestTransformBuilder:pb.default,PostgrestBuilder:mb.default,PostgrestError:gb.default};const{PostgrestClient:sR,PostgrestQueryBuilder:JV,PostgrestFilterBuilder:ZV,PostgrestTransformBuilder:eB,PostgrestBuilder:tB,PostgrestError:nB}=rR,oR="2.11.2",iR={"X-Client-Info":`realtime-js/${oR}`},aR="1.0.0",yb=1e4,lR=1e3;var So;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(So||(So={}));var bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(bt||(bt={}));var Zt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zt||(Zt={}));var ph;(function(e){e.websocket="websocket"})(ph||(ph={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class cR{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const l=r.decode(t.slice(i,i+o));i=i+o;const c=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class vb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(he||(he={}));const ov=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=uR(i,e,t,s),o),{})},uR=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?wb(o,i):mh(i)},wb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return pR(t,n)}switch(e){case he.bool:return dR(t);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return fR(t);case he.json:case he.jsonb:return hR(t);case he.timestamp:return mR(t);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return mh(t);default:return mh(t)}},mh=e=>e,dR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},hR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pR=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>wb(t,a))}return e},mR=e=>typeof e=="string"?e.replace(" ","T"):e,xb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Md{constructor(t,n,r={},s=yb){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var iv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(iv||(iv={}));class Ki{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ki.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Ki.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ki.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const f=o[c];if(f){const h=u.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),v=u.filter(x=>m.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(a[c]=v),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const f=t[a].map(m=>m.presence_ref),h=u.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...h)}r(a,u,l)}),this.map(i,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var av;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(av||(av={}));var lv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lv||(lv={}));var In;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(In||(In={}));class om{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Md(this,Zt.join,this.params,this.timeout),this.rejoinTimer=new vb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ki(this),this.broadcastEndpointURL=xb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(u=>t==null?void 0:t(In.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(In.CLOSED));const l={},c={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(In.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let g=0;g<m;g++){const x=h[g],{filter:{event:y,schema:w,table:S,filter:b}}=x,k=u&&u[g];if(k&&k.event===y&&k.schema===w&&k.table===S&&k.filter===b)v.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),t==null||t(In.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(In.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(In.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(In.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Md(this,Zt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Md(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Zt;if(r&&[a,l,c,u].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,g,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=m.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(m=>m.callback(h,r)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var v,g,x,y,w,S;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const b=m.id,k=(v=m.filter)===null||v===void 0?void 0:v.event;return b&&((g=n.ids)===null||g===void 0?void 0:g.includes(b))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(w=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return b==="*"||b===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:x,commit_timestamp:y,type:w,errors:S}=v;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(v))}m.callback(h,r)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&om.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zt.close,{},t)}_onError(t){this._on(Zt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ov(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ov(t.columns,t.old_record)),n}}const gR=()=>{},yR=typeof WebSocket<"u",vR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wR{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=iR,this.params={},this.timeout=yb,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=gR,this.conn=null,this.sendBuffer=[],this.serializer=new cR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>ke(async()=>{const{default:l}=await Promise.resolve().then(()=>ti);return{default:l}},void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${ph.websocket}`,this.httpEndpoint=xb(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(yR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new xR(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ke(async()=>{const{default:t}=await import("./browser-yCeMswfK.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aR}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case So.connecting:return ps.Connecting;case So.open:return ps.Open;case So.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}channel(t,n={config:{}}){const r=new om(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Zt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(lR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([vR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class xR{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=So.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class im extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class SR extends im{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gh extends im{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var bR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Sb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ke(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},kR=()=>bR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ke(()=>Promise.resolve().then(()=>ti),void 0)).Response:Response}),yh=e=>{if(Array.isArray(e))return e.map(n=>yh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=yh(r)}),t};var Us=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Ld=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_R=(e,t,n)=>Us(void 0,void 0,void 0,function*(){const r=yield kR();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new SR(Ld(s),e.status||500))}).catch(s=>{t(new gh(Ld(s),s))}):t(new gh(Ld(e),e))}),CR=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Ba(e,t,n,r,s,o){return Us(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,CR(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>_R(l,a,r))})})}function Nc(e,t,n,r){return Us(this,void 0,void 0,function*(){return Ba(e,"GET",t,n,r)})}function gr(e,t,n,r,s){return Us(this,void 0,void 0,function*(){return Ba(e,"POST",t,r,s,n)})}function PR(e,t,n,r,s){return Us(this,void 0,void 0,function*(){return Ba(e,"PUT",t,r,s,n)})}function ER(e,t,n,r){return Us(this,void 0,void 0,function*(){return Ba(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function bb(e,t,n,r,s){return Us(this,void 0,void 0,function*(){return Ba(e,"DELETE",t,r,s,n)})}var pt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const TR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jR{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Sb(s)}uploadOrUpdate(t,n,r,s){return pt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},cv),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}upload(t,n,r){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return pt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:cv.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return pt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield gr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new im("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}update(t,n,r){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return pt(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return pt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield gr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return pt(this,void 0,void 0,function*(){try{const s=yield gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}download(t,n){return pt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Nc(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Fe(a))return{data:null,error:a};throw a}})}info(t){return pt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Nc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:yh(r),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}exists(t){return pt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ER(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Fe(r)&&r instanceof gh){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return pt(this,void 0,void 0,function*(){try{return{data:yield bb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}list(t,n,r){return pt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},TR),n),{prefix:t||""});return{data:yield gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const AR="2.7.1",RR={"X-Client-Info":`storage-js/${AR}`};var Bs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class NR{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},RR),n),this.fetch=Sb(r)}listBuckets(){return Bs(this,void 0,void 0,function*(){try{return{data:yield Nc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Fe(t))return{data:null,error:t};throw t}})}getBucket(t){return Bs(this,void 0,void 0,function*(){try{return{data:yield Nc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Bs(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Bs(this,void 0,void 0,function*(){try{return{data:yield PR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Bs(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Bs(this,void 0,void 0,function*(){try{return{data:yield bb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}}class OR extends NR{constructor(t,n={},r){super(t,n,r)}from(t){return new jR(this.url,this.headers,t,this.fetch)}}const DR="2.49.4";let Ni="";typeof Deno<"u"?Ni="deno":typeof document<"u"?Ni="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ni="react-native":Ni="node";const MR={"X-Client-Info":`supabase-js-${Ni}/${DR}`},LR={headers:MR},IR={schema:"public"},FR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},UR={};var $R=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const VR=e=>{let t;return e?t=e:typeof fetch>"u"?t=ib:t=fetch,(...n)=>t(...n)},BR=()=>typeof Headers>"u"?ab:Headers,zR=(e,t,n)=>{const r=VR(n),s=BR();return(o,i)=>$R(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:c}))})};var WR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function HR(e){return e.replace(/\/$/,"")}function qR(e,t){const{db:n,auth:r,realtime:s,global:o}=e,{db:i,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),o),accessToken:()=>WR(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const kb="2.69.1",Ys=30*1e3,vh=3,Id=vh*Ys,KR="http://localhost:9999",GR="supabase.auth.token",YR={"X-Client-Info":`gotrue-js/${kb}`},wh="X-Supabase-Api-Version",_b={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},QR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XR=6e5;class am extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class JR extends am{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ZR(e){return q(e)&&e.name==="AuthApiError"}class Cb extends am{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class es extends am{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class cr extends es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eN(e){return q(e)&&e.name==="AuthSessionMissingError"}class Fd extends es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wl extends es{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xl extends es{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tN(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class uv extends es{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xh extends es{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ud(e){return q(e)&&e.name==="AuthRetryableFetchError"}class dv extends es{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Gi extends es{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hv=` 	
\r=`.split(""),nN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hv.length;t+=1)e[hv[t].charCodeAt(0)]=-2;for(let t=0;t<fv.length;t+=1)e[fv[t].charCodeAt(0)]=t;return e})();function Pb(e,t,n){const r=nN[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pv(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{oN(i,r,n)};for(let i=0;i<e.length;i+=1)Pb(e.charCodeAt(i),s,o);return t.join("")}function rN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sN(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}rN(r,t)}}function oN(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function iN(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Pb(e.charCodeAt(s),n,r);return new Uint8Array(t)}function aN(e){const t=[];return sN(e,n=>t.push(n)),new Uint8Array(t)}function lN(e){return Math.round(Date.now()/1e3)+e}function cN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const mn=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},Yi=()=>{if(!mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function uN(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Eb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ke(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},dN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Tb=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Sl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bl=async(e,t)=>{await e.removeItem(t)};class Ru{constructor(){this.promise=new Ru.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ru.promiseConstructor=Promise;function $d(e){const t=e.split(".");if(t.length!==3)throw new Gi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!QR.test(t[r]))throw new Gi("JWT not in base64url format");return{header:JSON.parse(pv(t[0])),payload:JSON.parse(pv(t[1])),signature:iN(t[2]),raw:{header:t[0],payload:t[1]}}}async function fN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hN(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function pN(e){return("0"+e.toString(16)).substr(-2)}function mN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,pN).join("")}async function gN(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function yN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await gN(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(e,t,n=!1){const r=mN();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Tb(e,`${t}-code-verifier`,s);const o=await yN(r);return[o,r===o?"plain":"s256"]}const vN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wN(e){const t=e.headers.get(wh);if(!t||!t.match(vN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function SN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var bN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const us=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kN=[502,503,504];async function mv(e){var t;if(!dN(e))throw new xh(us(e),0);if(kN.includes(e.status))throw new xh(us(e),e.status);let n;try{n=await e.json()}catch(o){throw new Cb(us(o),o)}let r;const s=wN(e);if(s&&s.getTime()>=_b["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dv(us(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new cr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new dv(us(n),e.status,n.weak_password.reasons);throw new JR(us(n),e.status||500,r)}const _N=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ee(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[wh]||(o[wh]=_b["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await CN(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function CN(e,t,n,r,s,o){const i=_N(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new xh(us(l),0)}if(a.ok||await mv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await mv(l)}}function ur(e){var t;let n=null;jN(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=lN(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function gv(e){const t=ur(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Sr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function PN(e){return{data:e,error:null}}function EN(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=bN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function TN(e){return e}function jN(e){return e.access_token&&e.refresh_token&&e.expires_in}var AN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class RN{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Eb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Sr})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=AN(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:EN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sr})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:TN});if(u.error)throw u.error;const f=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sr})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Sr})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Sr})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}const NN={getItem:e=>Yi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Yi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Yi()&&globalThis.localStorage.removeItem(e)}};function yv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function ON(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ws={debug:!!(globalThis&&Yi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class DN extends jb{}async function MN(e,t,n){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ws.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ON();const LN={url:KR,storageKey:GR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vv(e,t,n){return await n()}class ka{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ka.nextInstanceID,ka.nextInstanceID+=1,this.instanceID>0&&mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},LN),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new RN({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Eb(s.fetch),this.lock=s.lock||vv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=MN:this.lock=vv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Yi()?this.storage=NN:(this.memoryStorage={},this.storage=yv(this.memoryStorage)):(this.memoryStorage={},this.storage=yv(this.memoryStorage)),mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=uN(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),mn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),tN(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new Cb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ur}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:u,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await zs(this.storage,this.storageKey)),o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:ur})}else if("phone"in t){const{phone:u,password:f,options:h}=t;o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ur})}else throw new wl("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gv})}else throw new wl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Sl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ur});if(await bl(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Fd}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(q(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ur}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await zs(this.storage,this.storageKey));const{error:f}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new wl("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ur});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await zs(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:PN})}catch(o){if(q(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new cr;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new wl("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Sl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Id:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cr}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Sr})})}catch(n){if(q(n))return eN(n)&&(await this._removeSession(),await bl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new cr;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await zs(this.storage,this.storageKey));const{data:c,error:u}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Sr});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cr;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=$d(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new cr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!mn())throw new xl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new uv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uv("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!i||!c)throw new xl("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;l&&(h=parseInt(l));const m=h-u;m*1e3<=Ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:g,error:x}=await this._getUser(o);if(x)throw x;const y={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Sl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(ZR(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await bl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=cN(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await zs(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(q(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,c,u;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return mn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await hN(async s=>(s>0&&await fN(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ur})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Ud(o)&&Date.now()+i-r<Ys})}catch(r){if(this._debug(n,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),mn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Sl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Id;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Id}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ud(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ru;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new cr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),q(o)){const i={session:null,error:o};return Ud(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Tb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await bl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ys);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ys}ms, refresh threshold is ${vh} ticks`),s<=vh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await zs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=$d(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+XR>Date.now()))return r;const{data:s,error:o}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Gi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new Gi("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};r=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=$d(r);if(xN(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const c=SN(s.alg),u=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,i,aN(`${a}.${l}`)))throw new Gi("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}ka.nextInstanceID=0;const IN=ka;class FN extends IN{constructor(t){super(t)}}var UN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class $N{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=HR(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:IR,realtime:UR,auth:Object.assign(Object.assign({},FR),{storageKey:l}),global:LR},u=qR(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=zR(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new sR(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new DA(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new OR(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return UN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FN({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new wR(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VN=(e,t,n)=>new $N(e,t,n),BN="https://uzktgfhnbiqbqfyohvan.supabase.co",zN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV6a3RnZmhuYmlxYnFmeW9odmFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU5MzY3MzMsImV4cCI6MjA2MTUxMjczM30.SCapPADFHdyD08M4G-PWwd_LDKU7XlW5fDxDXhd8gJA",O=VN(BN,zN,{auth:{persistSession:!0,autoRefreshToken:!0,storage:localStorage,detectSessionInUrl:!0,flowType:"pkce",debug:!1},global:{headers:{"x-application-name":"chichi-app"}}}),Ab=async()=>{try{console.log("Testing Supabase connection...");const{data:e,error:t}=await O.auth.getUser();return t&&t.message!=="Auth session missing!"?(console.error("Supabase connection test failed:",t),{connected:!1,error:t}):(console.log("Supabase connection test successful:",{hasUser:!!e.user}),{connected:!0,error:null})}catch(e){return console.error("Supabase connection failed:",e),{connected:!1,error:e}}};Ab().catch(e=>{console.warn("Initial connection test failed:",e)});const WN=Object.freeze(Object.defineProperty({__proto__:null,supabase:O,testSupabaseConnection:Ab},Symbol.toStringTag,{value:"Module"})),Sh=(e,t)=>{var r;console.log("mapSupabaseUserToUser: Mapping user with profile:",{profilePoints:t==null?void 0:t.points,profileStreak:t==null?void 0:t.current_streak,profileLevel:t==null?void 0:t.level});const n={id:e.id,email:e.email||"",name:(t==null?void 0:t.name)||((r=e.user_metadata)==null?void 0:r.name)||"User",username:(t==null?void 0:t.username)||"",avatarUrl:(t==null?void 0:t.avatar_url)||"",points:typeof(t==null?void 0:t.points)=="number"?t.points:0,level:typeof(t==null?void 0:t.level)=="number"?Math.max(1,t.level):1,levelPoints:typeof(t==null?void 0:t.level_points)=="number"?t.level_points:0,maxLevelPoints:typeof(t==null?void 0:t.max_level_points)=="number"?Math.max(100,t.max_level_points):100,currentStreak:typeof(t==null?void 0:t.current_streak)=="number"?t.current_streak:0,longestStreak:typeof(t==null?void 0:t.longest_streak)=="number"?t.longest_streak:0,lastActivityDate:t!=null&&t.last_activity_date?new Date(t.last_activity_date):void 0,tasksCompleted:typeof(t==null?void 0:t.tasks_completed)=="number"?t.tasks_completed:0,totalTasks:typeof(t==null?void 0:t.total_tasks)=="number"?t.total_tasks:0,weeklyActivity:typeof(t==null?void 0:t.weekly_activity)=="number"?t.weekly_activity:0,joinedAt:t!=null&&t.joined_at?new Date(t.joined_at):new Date,unlockedAchievements:Array.isArray(t==null?void 0:t.unlocked_achievements)?t.unlocked_achievements:[],nichePreferences:Array.isArray(t==null?void 0:t.niche_preferences)?t.niche_preferences:[],instagramHandle:(t==null?void 0:t.instagram_handle)||void 0,tiktokHandle:(t==null?void 0:t.tiktok_handle)||void 0,twitterHandle:(t==null?void 0:t.twitter_handle)||void 0,pinterestHandle:(t==null?void 0:t.pinterest_handle)||void 0,youtubeHandle:(t==null?void 0:t.youtube_handle)||void 0};return console.log("mapSupabaseUserToUser: Final mapped user:",{id:n.id,email:n.email,points:n.points,currentStreak:n.currentStreak,level:n.level,levelPoints:n.levelPoints}),n},lm=async e=>{console.log("fetchUserProfile: Fetching profile for user:",e);try{const{data:t,error:n}=await O.from("user_profiles").select("*").eq("id",e).maybeSingle();return n?(console.error("fetchUserProfile: Error fetching profile:",n),null):t?(console.log("fetchUserProfile: Successfully fetched profile:",{id:t.id,points:t.points,currentStreak:t.current_streak,level:t.level}),t):(console.warn("fetchUserProfile: No profile data found"),null)}catch(t){return console.error("fetchUserProfile: Exception fetching profile:",t),null}},Vd=async(e,t)=>{console.log("updateUserProfile: Updating profile for user:",e,"with:",t);try{const{data:n,error:r}=await O.from("user_profiles").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().maybeSingle();if(r)throw console.error("updateUserProfile: Error updating profile:",r),r;return console.log("updateUserProfile: Successfully updated profile"),n}catch(n){throw console.error("updateUserProfile: Exception updating profile:",n),n}},Rb=async e=>{var t,n;console.log("createInitialUserProfile: Creating profile for user:",e.id);try{const{data:r,error:s}=await O.from("user_profiles").insert({id:e.id,email:e.email,name:((t=e.user_metadata)==null?void 0:t.name)||((n=e.email)==null?void 0:n.split("@")[0])||"User",points:0,level:1,level_points:0,max_level_points:100,current_streak:0,longest_streak:0,tasks_completed:0,total_tasks:0,weekly_activity:0,unlocked_achievements:[],niche_preferences:[],social_links:{}}).select().maybeSingle();if(s){if(s.code==="23505")return console.log("createInitialUserProfile: Profile already exists, fetching existing"),await lm(e.id);throw console.error("createInitialUserProfile: Error creating user profile:",s),s}return console.log("createInitialUserProfile: Successfully created profile"),r}catch(r){throw console.error("createInitialUserProfile: Exception creating profile:",r),r}},HN=()=>{var u,f;const[e,t]=p.useState({user:null,isLoading:!0,error:null}),n=p.useRef(!0),r=p.useRef(0),s=p.useRef(null);r.current+=1,console.log(`🔄 useAuthState RENDER #${r.current}`,{isLoading:e.isLoading,hasUser:!!e.user,userEmail:(u=e.user)==null?void 0:u.email,error:(f=e.error)==null?void 0:f.message}),r.current>50&&(console.error("🚨 INFINITE RENDER LOOP DETECTED in useAuthState!"),console.error("Current state:",e),console.error("Last state:",s.current));const o=p.useCallback(async h=>{var v,g,x,y,w,S;const m=Date.now();if(console.log("🔍 loadUserProfile: STARTING",{userId:h==null?void 0:h.id,timestamp:new Date().toISOString()}),!h)return console.error("❌ loadUserProfile: Called without a valid supabaseUser!"),null;console.log(`📋 loadUserProfile: Starting profile load for user: ${h.id}`);try{console.log("🔍 loadUserProfile: Attempting to fetch existing profile");const b=await lm(h.id);if(b){const P=Date.now()-m;console.log("✅ loadUserProfile: Profile found successfully",{id:b.id,points:b.points,currentStreak:b.current_streak,level:b.level,loadTimeMs:P});const T=Sh(h,b);return console.log("🗺️ loadUserProfile: User mapped",{mappedPoints:T.points,mappedLevel:T.level,mappedStreak:T.currentStreak}),T}console.log("➕ loadUserProfile: No profile found, creating new profile");const k=await Rb(h);if(k){const P=Date.now()-m;return console.log("✅ loadUserProfile: New profile created successfully",{loadTimeMs:P}),Sh(h,k)}console.warn("⚠️ loadUserProfile: Profile creation failed, creating temporary user");const _={id:h.id,email:h.email||"",name:((v=h.user_metadata)==null?void 0:v.name)||((g=h.user_metadata)==null?void 0:g.full_name)||((x=h.email)==null?void 0:x.split("@")[0])||"User",points:0,level:1,levelPoints:0,maxLevelPoints:100,currentStreak:0,longestStreak:0,unlockedAchievements:[],tasksCompleted:0,totalTasks:0,isTemporary:!0},C=Date.now()-m;return console.log("🔄 loadUserProfile: Returning temporary user",{loadTimeMs:C}),_}catch(b){const k=Date.now()-m;console.error("❌ loadUserProfile: Error during profile loading",{error:b,loadTimeMs:k});const _={id:h.id,email:h.email||"",name:((y=h.user_metadata)==null?void 0:y.name)||((w=h.user_metadata)==null?void 0:w.full_name)||((S=h.email)==null?void 0:S.split("@")[0])||"User",points:0,level:1,levelPoints:0,maxLevelPoints:100,currentStreak:0,longestStreak:0,unlockedAchievements:[],tasksCompleted:0,totalTasks:0,isTemporary:!0};return console.log("🔄 loadUserProfile: Returning temporary user due to error"),_}},[]);return p.useEffect(()=>{console.log("🚀 useAuthState: Setting up auth management"),n.current=!0;const h=(v,g)=>{var x;if(console.log(`🔑 Auth event: ${v}`,{hasSession:!!g,hasUser:!!(g!=null&&g.user),userEmail:(x=g==null?void 0:g.user)==null?void 0:x.email,mounted:n.current}),!n.current){console.log("⚠️ Auth event ignored - component unmounted");return}console.log("⏳ Setting loading state to true"),t(y=>{const w={...y,isLoading:!0,error:null};return console.log("📝 Auth state update (loading)",{prev:y,new:w}),w}),g!=null&&g.user?(console.log("👤 User detected, scheduling profile load"),setTimeout(()=>{console.log("🔍 Starting profile load for user:",g.user.id),o(g.user).then(y=>{n.current?(console.log("✅ Profile loaded successfully",{userId:y==null?void 0:y.id,points:y==null?void 0:y.points,level:y==null?void 0:y.level}),t(w=>{const S={user:y,isLoading:!1,error:null};return console.log("📝 Auth state update (user loaded)",{prev:w,new:S}),S})):console.log("⚠️ Profile load completed but component unmounted")}).catch(y=>{console.error("❌ Profile load failed:",y),n.current&&t(w=>{const S={user:null,isLoading:!1,error:y};return console.log("📝 Auth state update (error)",{prev:w,new:S}),S})})},0)):(console.log("🚪 No session - user signed out"),t(y=>{const w={user:null,isLoading:!1,error:null};return console.log("📝 Auth state update (signed out)",{prev:y,new:w}),w}))};console.log("👂 Setting up auth state change listener");const{data:{subscription:m}}=O.auth.onAuthStateChange(h);return console.log("🔍 Fetching initial session"),O.auth.getSession().then(({data:{session:v},error:g})=>{g?(console.error("❌ Initial session fetch error:",g),t(x=>{const y={user:null,isLoading:!1,error:g};return console.log("📝 Auth state update (initial error)",{prev:x,new:y}),y})):(console.log("📋 Initial session fetched, triggering auth change"),h("INITIAL_SESSION",v))}),()=>{console.log("🧹 useAuthState cleanup"),n.current=!1,m.unsubscribe()}},[o]),p.useEffect(()=>{JSON.stringify(s.current)!==JSON.stringify(e)&&(console.log("🔄 Auth state changed:",{from:s.current,to:e,renderCount:r.current}),s.current={...e})},[e]),{...e,setUser:h=>{console.log("🎯 Manual setUser called",{userId:h==null?void 0:h.id,points:h==null?void 0:h.points}),t(m=>({...m,user:h,error:null,isLoading:!1}))},setIsLoading:h=>{console.log("⏳ Manual setIsLoading called",{isLoading:h}),t(m=>({...m,isLoading:h}))},setError:h=>{console.error("❌ Manual setError called",{error:h==null?void 0:h.message}),t(m=>({...m,error:h,isLoading:!1}))},clearError:()=>{console.log("🧹 Manual clearError called"),t(h=>({...h,error:null}))}}};class bi{static async signUp(t,n,r){const{data:s,error:o}=await O.auth.signUp({email:t,password:n,options:{data:{name:r}}});if(o)throw o;s.user&&(await Rb(s.user),ae({title:"Success",description:"Account created successfully! Please check your email to verify your account."}))}static async signIn(t,n){var o;console.log("AuthService.signIn: Starting sign in for:",t);const{data:r,error:s}=await O.auth.signInWithPassword({email:t,password:n});if(s)throw console.error("AuthService.signIn: Auth error:",s),s;return console.log("AuthService.signIn: Sign in successful for:",(o=r.user)==null?void 0:o.email),r.user}static async signOut(){const{error:t}=await O.auth.signOut();if(t)throw t;ae({title:"Success",description:"Signed out successfully!"})}static async resetPassword(t){const{error:n}=await O.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/update-password`});if(n)throw n;ae({title:"Password Reset",description:"Password reset email sent! Please check your inbox."})}static async updatePassword(t){const{data:n,error:r}=await O.auth.updateUser({password:t});if(r)throw r;ae({title:"Password Updated",description:"Your password has been updated successfully!"})}}const qN=(e,t,n,r)=>({signUp:async(c,u,f)=>{t(!0),r();try{await bi.signUp(c,u,f)}catch(h){console.error("Sign up failed:",h),n(h),ae({title:"Error",description:h.message||"Failed to sign up. Please try again.",variant:"destructive"})}finally{t(!1)}},signIn:async(c,u)=>{t(!0),r();try{await bi.signIn(c,u)}catch(f){throw n(f),ae({title:"Error",description:f.message||"Failed to sign in. Please check your credentials.",variant:"destructive"}),f}finally{t(!1)}},signOut:async()=>{t(!0);try{await bi.signOut(),e(null)}catch(c){n(c),ae({title:"Error",description:c.message||"Failed to sign out. Please try again.",variant:"destructive"})}finally{t(!1)}},resetPassword:async c=>{t(!0);try{await bi.resetPassword(c)}catch(u){n(u),ae({title:"Error",description:u.message||"Failed to reset password. Please try again.",variant:"destructive"})}finally{t(!1)}},updatePassword:async c=>{t(!0);try{await bi.updatePassword(c)}catch(u){n(u),ae({title:"Error",description:u.message||"Failed to update password. Please try again.",variant:"destructive"})}finally{t(!1)}}});let Qi=class{static async updateUserPoints(t,n){console.log(`UserService.updateUserPoints: Current points: ${t.points}, Adding: ${n}`);const r=t.points+n,s=Math.floor(r/100)+1,o=r%100;console.log(`UserService.updateUserPoints: New points: ${r}, New level: ${s}`),await Vd(t.id,{points:r,level:s,level_points:o}),console.log("UserService.updateUserPoints: Database updated successfully");const i={...t,points:r,level:s,levelPoints:o,maxLevelPoints:100};return console.log("UserService.updateUserPoints: Returning updated user with points:",i.points),i}static async updateUserData(t,n){console.log("UserService.updateUserData: Updating user data:",n);const r={};Object.keys(n).forEach(o=>{switch(o){case"levelPoints":r.level_points=n[o];break;case"maxLevelPoints":r.max_level_points=n[o];break;case"currentStreak":r.current_streak=n[o];break;case"longestStreak":r.longest_streak=n[o];break;case"lastActivityDate":r.last_activity_date=n[o];break;case"tasksCompleted":r.tasks_completed=n[o];break;case"totalTasks":r.total_tasks=n[o];break;case"weeklyActivity":r.weekly_activity=n[o];break;case"nichePreferences":r.niche_preferences=n[o];break;case"unlockedAchievements":r.unlocked_achievements=n[o];break;case"avatarUrl":r.avatar_url=n[o];break;case"instagramHandle":r.instagram_handle=n[o];break;case"tiktokHandle":r.tiktok_handle=n[o];break;case"twitterHandle":r.twitter_handle=n[o];break;case"pinterestHandle":r.pinterest_handle=n[o];break;case"youtubeHandle":r.youtube_handle=n[o];break;default:r[o]=n[o]}}),await Vd(t.id,r),console.log("UserService.updateUserData: Database updated successfully");const s={...t,...n};return console.log("UserService.updateUserData: Returning updated user"),s}static async refreshUser(t){console.log("UserService.refreshUser: Refreshing user data for",t);const{data:{user:n}}=await O.auth.getUser();if(!n)return console.log("UserService.refreshUser: No authenticated user found"),null;const r=await lm(n.id);if(r){const s=Sh(n,r);return console.log("UserService.refreshUser: User refreshed with points:",s.points),s}return console.log("UserService.refreshUser: No user profile found"),null}static async updateUserStreak(t){console.log("UserService.updateUserStreak: Updating streak for user:",t.id)}static async completeTask(t){const n=(t.tasksCompleted||0)+1,r=(t.totalTasks||0)+1;return await Vd(t.id,{tasks_completed:n,total_tasks:r}),{tasksCompleted:n,totalTasks:r}}};const KN=(e,t,n,r)=>{const s=async()=>{if(e)try{console.log("Refreshing user data...");const l=await Qi.refreshUser(e.id);l&&(console.log("User data refreshed successfully:",l.points),t(l))}catch(l){console.error("Error refreshing user:",l),r(l instanceof Error?l:new Error("Failed to refresh user"))}},o=async l=>{if(e){n(!0);try{await Qi.updateUserData(e,l),await s()}catch(c){r(c),ae({title:"Error",description:c.message||"Failed to update profile. Please try again.",variant:"destructive"})}finally{n(!1)}}};return{refreshUser:s,updateUserData:o,updateUserName:async l=>{await o({name:l})},updateUserAvatar:async l=>{await o({avatarUrl:l})}}};class yr{static async checkUserPointsInDatabase(t){console.log("🔍 POINTS DEBUGGER: Checking database for user:",t);try{const{data:n,error:r}=await O.from("user_profiles").select("points, level, level_points, current_streak, longest_streak").eq("id",t).single();if(r)return console.error("❌ POINTS DEBUGGER: Error fetching user profile:",r),null;console.log("📊 POINTS DEBUGGER: Database user profile:",n);const{data:s,error:o}=await O.from("task_completions").select("task_id, points_earned, completed_at").eq("user_id",t).order("completed_at",{ascending:!1}).limit(10);o?console.error("❌ POINTS DEBUGGER: Error fetching task completions:",o):console.log("📝 POINTS DEBUGGER: Recent task completions:",s);const i=new Date().toISOString().split("T")[0],{data:a,error:l}=await O.from("daily_tasks").select("task_id, points, completed").eq("user_id",t).eq("task_date",i);return l?console.error("❌ POINTS DEBUGGER: Error fetching daily tasks:",l):console.log("📅 POINTS DEBUGGER: Today's daily tasks:",a),{userProfile:n,recentTasks:s,dailyTasks:a}}catch(n){return console.error("💥 POINTS DEBUGGER: Unexpected error:",n),null}}static logPointsUpdateFlow(t,n){console.log(`🔄 POINTS FLOW [${t}]:`,n)}static async validatePointsConsistency(t,n){const r=await this.checkUserPointsInDatabase(t);if(r!=null&&r.userProfile){const s=r.userProfile.points,o=s-n;return console.log("🎯 POINTS VALIDATION:",{expected:n,actual:s,difference:o,consistent:o===0}),o===0}return!1}}const GN=(e,t,n,r,s)=>({updateUserPoints:async l=>{if(!e){console.log("updateUserPoints: No user found, skipping points update");return}yr.logPointsUpdateFlow("UPDATE_USER_POINTS_START",{userId:e.id,currentPoints:e.points,pointsToAdd:l});try{console.log(`updateUserPoints: Adding ${l} to current ${e.points} for user ${e.id}`),await yr.checkUserPointsInDatabase(e.id);const c=await Qi.updateUserPoints(e,l);console.log("updateUserPoints: Points updated in database successfully",c.points),yr.logPointsUpdateFlow("DB_UPDATE_SUCCESS",{oldPoints:e.points,newPoints:c.points,pointsAdded:l}),await s({points:c.points,level:c.level,levelPoints:c.levelPoints,maxLevelPoints:c.maxLevelPoints}),console.log("updateUserPoints: User data updated in context with new points"),setTimeout(async()=>{await yr.validatePointsConsistency(e.id,c.points)},1e3),yr.logPointsUpdateFlow("UPDATE_USER_POINTS_COMPLETE",{finalPoints:c.points})}catch(c){console.error("updateUserPoints: Error updating points:",c),yr.logPointsUpdateFlow("UPDATE_USER_POINTS_ERROR",c),n(c),ae({title:"Error",description:c.message||"Failed to update points. Please try again.",variant:"destructive"})}},updateUserStreak:async()=>{if(e)try{console.log("Updating user streak..."),await Qi.updateUserStreak(e),await r(),console.log("User streak updated successfully")}catch(l){n(l),ae({title:"Error",description:l.message||"Failed to update streak. Please try again.",variant:"destructive"})}},completeTask:async()=>{if(e){t(!0);try{const l=await Qi.completeTask(e);await s(l),await r()}catch(l){n(l)}finally{t(!1)}}}}),YN=(e,t,n,r,s)=>{const o=qN(t,n,r,s),i=KN(e,t,n,r),a=GN(e,n,r,i.refreshUser,i.updateUserData);return{...o,...i,...a}},QN=({children:e})=>{const{user:t,setUser:n,isLoading:r,setIsLoading:s,error:o,setError:i,clearError:a}=HN(),{signUp:l,signIn:c,signOut:u,updateUserPoints:f,updateUserData:h,updateUserName:m,updateUserAvatar:v,refreshUser:g,updateUserStreak:x,completeTask:y,resetPassword:w,updatePassword:S}=YN(t,n,s,i,a),b={user:t,isLoading:r,loading:r,isAuthenticated:!!t,error:o,signUp:l,signIn:c,signOut:u,login:c,signup:(k,_,C)=>l(k,_,C||k.split("@")[0]),logout:u,updateUserPoints:f,updateUserData:h,updateUserName:m,updateUserAvatar:v,refreshUser:g,updateUserStreak:x,completeTask:y,resetPassword:w,updatePassword:S,clearError:a};return d.jsx(ob.Provider,{value:b,children:e})},ze=()=>{const e=p.useContext(ob);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function Nb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Nb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ob(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Nb(e))&&(r&&(r+=" "),r+=t);return r}const cm="-",XN=e=>{const t=ZN(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(cm);return a[0]===""&&a.length!==1&&a.shift(),Db(a,t)||JN(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},Db=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Db(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(cm);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},wv=/^\[(.+)\]$/,JN=e=>{if(wv.test(e)){const t=wv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ZN=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return tO(Object.entries(e.classGroups),n).forEach(([o,i])=>{bh(i,r,o,t)}),r},bh=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:xv(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(eO(s)){bh(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{bh(i,xv(t,o),n,r)})})},xv=(e,t)=>{let n=e;return t.split(cm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},eO=e=>e.isThemeGetter,tO=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,nO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},Mb="!",rO=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let c=0,u=0,f;for(let x=0;x<a.length;x++){let y=a[x];if(c===0){if(y===s&&(r||a.slice(x,x+o)===t)){l.push(a.slice(u,x)),u=x+o;continue}if(y==="/"){f=x;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(u),m=h.startsWith(Mb),v=m?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:i}):i},sO=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},oO=e=>({cache:nO(e.cacheSize),parseClassName:rO(e),...XN(e)}),iO=/\s+/,aO=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(iO);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let v=!!m,g=r(v?h.substring(0,m):h);if(!g){if(!v){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}v=!1}const x=sO(u).join(":"),y=f?x+Mb:x,w=y+g;if(o.includes(w))continue;o.push(w);const S=s(g,v);for(let b=0;b<S.length;++b){const k=S[b];o.push(y+k)}a=c+(a.length>0?" "+a:a)}return a};function lO(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Lb(t))&&(r&&(r+=" "),r+=n);return r}const Lb=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Lb(e[r]))&&(n&&(n+=" "),n+=t);return n};function cO(e,...t){let n,r,s,o=i;function i(l){const c=t.reduce((u,f)=>f(u),e());return n=oO(c),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=aO(l,n);return s(l,u),u}return function(){return o(lO.apply(null,arguments))}}const ge=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ib=/^\[(?:([a-z-]+):)?(.+)\]$/i,uO=/^\d+\/\d+$/,dO=new Set(["px","full","screen"]),fO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,On=e=>bo(e)||dO.has(e)||uO.test(e),or=e=>ri(e,"length",_O),bo=e=>!!e&&!Number.isNaN(Number(e)),Bd=e=>ri(e,"number",bo),ki=e=>!!e&&Number.isInteger(Number(e)),yO=e=>e.endsWith("%")&&bo(e.slice(0,-1)),H=e=>Ib.test(e),ir=e=>fO.test(e),vO=new Set(["length","size","percentage"]),wO=e=>ri(e,vO,Fb),xO=e=>ri(e,"position",Fb),SO=new Set(["image","url"]),bO=e=>ri(e,SO,PO),kO=e=>ri(e,"",CO),_i=()=>!0,ri=(e,t,n)=>{const r=Ib.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},_O=e=>hO.test(e)&&!pO.test(e),Fb=()=>!1,CO=e=>mO.test(e),PO=e=>gO.test(e),EO=()=>{const e=ge("colors"),t=ge("spacing"),n=ge("blur"),r=ge("brightness"),s=ge("borderColor"),o=ge("borderRadius"),i=ge("borderSpacing"),a=ge("borderWidth"),l=ge("contrast"),c=ge("grayscale"),u=ge("hueRotate"),f=ge("invert"),h=ge("gap"),m=ge("gradientColorStops"),v=ge("gradientColorStopPositions"),g=ge("inset"),x=ge("margin"),y=ge("opacity"),w=ge("padding"),S=ge("saturate"),b=ge("scale"),k=ge("sepia"),_=ge("skew"),C=ge("space"),P=ge("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",H,t],M=()=>[H,t],Y=()=>["",On,or],z=()=>["auto",bo,H],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",H],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[bo,H];return{cacheSize:500,separator:":",theme:{colors:[_i],spacing:[On,or],blur:["none","",ir,H],brightness:W(),borderColor:[e],borderRadius:["none","","full",ir,H],borderSpacing:M(),borderWidth:Y(),contrast:W(),grayscale:N(),hueRotate:W(),invert:N(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[yO,or],inset:I(),margin:I(),opacity:W(),padding:M(),saturate:W(),scale:W(),sepia:N(),skew:W(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",H]}],container:["container"],columns:[{columns:[ir]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),H]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ki,H]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",H]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",ki,H]}],"grid-cols":[{"grid-cols":[_i]}],"col-start-end":[{col:["auto",{span:["full",ki,H]},H]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[_i]}],"row-start-end":[{row:["auto",{span:[ki,H]},H]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",H]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",H]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",H,t]}],"min-w":[{"min-w":[H,t,"min","max","fit"]}],"max-w":[{"max-w":[H,t,"none","full","min","max","fit","prose",{screen:[ir]},ir]}],h:[{h:[H,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[H,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[H,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[H,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ir,or]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bd]}],"font-family":[{font:[_i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",H]}],"line-clamp":[{"line-clamp":["none",bo,Bd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",On,H]}],"list-image":[{"list-image":["none",H]}],"list-style-type":[{list:["none","disc","decimal",H]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",On,or]}],"underline-offset":[{"underline-offset":["auto",On,H]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",H]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",H]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),xO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[On,H]}],"outline-w":[{outline:[On,or]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[On,or]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ir,kO]}],"shadow-color":[{shadow:[_i]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ir,H]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",H]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",H]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",H]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ki,H]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",H]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",H]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",H]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[On,or,Bd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TO=cO(EO);function V(...e){return TO(Ob(e))}function um({className:e,size:t="md"}){const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return d.jsx("div",{className:V("animate-spin rounded-full border-2 border-gray-300 border-t-chichi-orange",n[t],e),role:"status","aria-label":"Loading",children:d.jsx("span",{className:"sr-only",children:"Loading..."})})}function jO(){return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#FFEFE9] to-[#fffdf9]",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx(um,{size:"lg"}),d.jsx("p",{className:"text-gray-600 animate-pulse",children:"Loading CHICHI..."})]})})}const AO=new wA({defaultOptions:{queries:{retry:(e,t)=>{if(t&&typeof t=="object"&&"status"in t){const n=t.status;if(n>=400&&n<500)return!1}return e<1},staleTime:2*60*1e3,gcTime:5*60*1e3}}});function ne(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Yn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function dm(e,t){const n=ne(e);return isNaN(t)?Yn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const Ub=6048e5,RO=864e5,kl=43200,Sv=1440;let NO={};function za(){return NO}function _a(e,t){var a,l,c,u;const n=za(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=ne(e),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Oc(e){return _a(e,{weekStartsOn:1})}function $b(e){const t=ne(e),n=t.getFullYear(),r=Yn(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Oc(r),o=Yn(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=Oc(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Qn(e){const t=ne(e);return t.setHours(0,0,0,0),t}function Dc(e){const t=ne(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function OO(e,t){const n=Qn(e),r=Qn(t),s=+n-Dc(n),o=+r-Dc(r);return Math.round((s-o)/RO)}function DO(e){const t=$b(e),n=Yn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Oc(n)}function Ql(e,t){const n=ne(e),r=ne(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function Vb(e){return Yn(e,Date.now())}function Mc(e,t){const n=Qn(e),r=Qn(t);return+n==+r}function MO(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function LO(e){if(!MO(e)&&typeof e!="number")return!1;const t=ne(e);return!isNaN(Number(t))}function IO(e,t){const n=ne(e),r=ne(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function FO(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Bb(e,t){return+ne(e)-+ne(t)}function UO(e){const t=ne(e);return t.setHours(23,59,59,999),t}function $O(e){const t=ne(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function VO(e){const t=ne(e);return+UO(t)==+$O(t)}function BO(e,t){const n=ne(e),r=ne(t),s=Ql(n,r),o=Math.abs(IO(n,r));let i;if(o<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*o);let a=Ql(n,r)===-s;VO(ne(e))&&o===1&&Ql(e,r)===1&&(a=!1),i=s*(o-Number(a))}return i===0?0:i}function zO(e,t,n){const r=Bb(e,t)/1e3;return FO(n==null?void 0:n.roundingMethod)(r)}function WO(e){const t=ne(e),n=Yn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const HO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qO=(e,t,n)=>{let r;const s=HO[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function zd(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const KO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QO={date:zd({formats:KO,defaultWidth:"full"}),time:zd({formats:GO,defaultWidth:"full"}),dateTime:zd({formats:YO,defaultWidth:"full"})},XO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JO=(e,t,n,r)=>XO[e];function Ci(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const ZO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oD=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},iD={ordinalNumber:oD,era:Ci({values:ZO,defaultWidth:"wide"}),quarter:Ci({values:eD,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ci({values:tD,defaultWidth:"wide"}),day:Ci({values:nD,defaultWidth:"wide"}),dayPeriod:Ci({values:rD,defaultWidth:"wide",formattingValues:sD,defaultFormattingWidth:"wide"})};function Pi(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?lD(a,f=>f.test(i)):aD(a,f=>f.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}function aD(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function lD(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function cD(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const uD=/^(\d+)(th|st|nd|rd)?/i,dD=/\d+/i,fD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hD={any:[/^b/i,/^(a|c)/i]},pD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mD={any:[/1/i,/2/i,/3/i,/4/i]},gD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bD={ordinalNumber:cD({matchPattern:uD,parsePattern:dD,valueCallback:e=>parseInt(e,10)}),era:Pi({matchPatterns:fD,defaultMatchWidth:"wide",parsePatterns:hD,defaultParseWidth:"any"}),quarter:Pi({matchPatterns:pD,defaultMatchWidth:"wide",parsePatterns:mD,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pi({matchPatterns:gD,defaultMatchWidth:"wide",parsePatterns:yD,defaultParseWidth:"any"}),day:Pi({matchPatterns:vD,defaultMatchWidth:"wide",parsePatterns:wD,defaultParseWidth:"any"}),dayPeriod:Pi({matchPatterns:xD,defaultMatchWidth:"any",parsePatterns:SD,defaultParseWidth:"any"})},zb={code:"en-US",formatDistance:qO,formatLong:QO,formatRelative:JO,localize:iD,match:bD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kD(e){const t=ne(e);return OO(t,WO(t))+1}function _D(e){const t=ne(e),n=+Oc(t)-+DO(t);return Math.round(n/Ub)+1}function Wb(e,t){var u,f,h,m;const n=ne(e),r=n.getFullYear(),s=za(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=Yn(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const a=_a(i,t),l=Yn(e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=_a(l,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function CD(e,t){var a,l,c,u;const n=za(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=Wb(e,t),o=Yn(e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),_a(o,t)}function PD(e,t){const n=ne(e),r=+_a(n,t)-+CD(n,t);return Math.round(r/Ub)+1}function ie(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ar={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ie(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ie(n+1,2)},d(e,t){return ie(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ie(e.getHours()%12||12,t.length)},H(e,t){return ie(e.getHours(),t.length)},m(e,t){return ie(e.getMinutes(),t.length)},s(e,t){return ie(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ie(s,t.length)}},Hs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bv={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ar.y(e,t)},Y:function(e,t,n,r){const s=Wb(e,r),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return ie(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):ie(o,t.length)},R:function(e,t){const n=$b(e);return ie(n,t.length)},u:function(e,t){const n=e.getFullYear();return ie(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ie(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ie(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ar.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ie(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=PD(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ie(s,t.length)},I:function(e,t,n){const r=_D(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ie(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ar.d(e,t)},D:function(e,t,n){const r=kD(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ie(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ie(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ie(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ie(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Hs.noon:r===0?s=Hs.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Hs.evening:r>=12?s=Hs.afternoon:r>=4?s=Hs.morning:s=Hs.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ar.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ar.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ie(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ie(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ar.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ar.s(e,t)},S:function(e,t){return ar.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return _v(r);case"XXXX":case"XX":return ds(r);case"XXXXX":case"XXX":default:return ds(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return _v(r);case"xxxx":case"xx":return ds(r);case"xxxxx":case"xxx":default:return ds(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kv(r,":");case"OOOO":default:return"GMT"+ds(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kv(r,":");case"zzzz":default:return"GMT"+ds(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ie(r,t.length)},T:function(e,t,n){const r=e.getTime();return ie(r,t.length)}};function kv(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+ie(o,2)}function _v(e,t){return e%60===0?(e>0?"-":"+")+ie(Math.abs(e)/60,2):ds(e,t)}function ds(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ie(Math.trunc(r/60),2),o=ie(r%60,2);return n+s+t+o}const Cv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Hb=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ED=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Cv(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Cv(r,t)).replace("{{time}}",Hb(s,t))},TD={p:Hb,P:ED},jD=/^D+$/,AD=/^Y+$/,RD=["D","DD","YY","YYYY"];function ND(e){return jD.test(e)}function OD(e){return AD.test(e)}function DD(e,t,n){const r=MD(e,t,n);if(console.warn(r),RD.includes(e))throw new RangeError(r)}function MD(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ID=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FD=/^'([^]*?)'?$/,UD=/''/g,$D=/[a-zA-Z]/;function sn(e,t,n){var u,f,h,m;const r=za(),s=r.locale??zb,o=r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,a=ne(e);if(!LO(a))throw new RangeError("Invalid time value");let l=t.match(ID).map(v=>{const g=v[0];if(g==="p"||g==="P"){const x=TD[g];return x(v,s.formatLong)}return v}).join("").match(LD).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:VD(v)};if(bv[g])return{isToken:!0,value:v};if(g.match($D))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const g=v.value;(OD(g)||ND(g))&&DD(g,t,String(e));const x=bv[g[0]];return x(a,g,s.localize,c)}).join("")}function VD(e){const t=e.match(FD);return t?t[1].replace(UD,"'"):e}function BD(e,t,n){const r=za(),s=(n==null?void 0:n.locale)??r.locale??zb,o=2520,i=Ql(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let l,c;i>0?(l=ne(t),c=ne(e)):(l=ne(e),c=ne(t));const u=zO(c,l),f=(Dc(c)-Dc(l))/1e3,h=Math.round((u-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,a):u<10?s.formatDistance("lessThanXSeconds",10,a):u<20?s.formatDistance("lessThanXSeconds",20,a):u<40?s.formatDistance("halfAMinute",0,a):u<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):h===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",h,a);if(h<45)return s.formatDistance("xMinutes",h,a);if(h<90)return s.formatDistance("aboutXHours",1,a);if(h<Sv){const v=Math.round(h/60);return s.formatDistance("aboutXHours",v,a)}else{if(h<o)return s.formatDistance("xDays",1,a);if(h<kl){const v=Math.round(h/Sv);return s.formatDistance("xDays",v,a)}else if(h<kl*2)return m=Math.round(h/kl),s.formatDistance("aboutXMonths",m,a)}if(m=BO(c,l),m<12){const v=Math.round(h/kl);return s.formatDistance("xMonths",v,a)}else{const v=m%12,g=Math.trunc(m/12);return v<3?s.formatDistance("aboutXYears",g,a):v<9?s.formatDistance("overXYears",g,a):s.formatDistance("almostXYears",g+1,a)}}function zD(e,t){return BD(e,Vb(e),t)}function WD(e,t){const n=ne(e),r=ne(t);return n.getTime()>r.getTime()}function HD(e,t){const n=+ne(e),[r,s]=[+ne(t.start),+ne(t.end)].sort((o,i)=>o-i);return n>=r&&n<=s}function Xl(e,t){return dm(e,-t)}function qD(e){return Mc(e,Xl(Vb(e),1))}function KD(){return Qn(Date.now())}class _l{static async checkTaskCompletedToday(t,n){try{const r=sn(new Date,"yyyy-MM-dd");console.log(`Checking if task ${n} was completed today for user ${t}`);const{data:s,error:o}=await O.from("daily_tasks").select("completed").eq("user_id",t).eq("task_id",n).eq("task_date",r).eq("completed",!0).limit(1);if(o)return console.error("Error checking task completion:",o),!1;const i=s&&s.length>0;return console.log(`Task ${n} completion status:`,i),i}catch(r){return console.error("Error in checkTaskCompletedToday:",r),!1}}static async logTaskCompletionWithCheck(t,n,r,s){try{const o=sn(new Date,"yyyy-MM-dd"),i=new Date().toISOString();console.log(`Logging task completion: user=${t}, task=${n}, points=${s}`);const{data:a}=await O.from("task_completions").select("id").eq("user_id",t).eq("task_id",n).gte("completed_at",`${o}T00:00:00.000Z`).lt("completed_at",`${o}T23:59:59.999Z`).limit(1);if(a&&a.length>0)return console.log("Task completion already logged today"),{success:!0,pointsAwarded:0};const{error:l}=await O.from("task_completions").insert([{user_id:t,task_id:n,task_name:r,points_earned:s,completed_at:i}]);return l?(console.error("Error logging task completion:",l),{success:!1,pointsAwarded:0}):(console.log(`Task completion logged successfully. Points awarded: ${s}`),{success:!0,pointsAwarded:s})}catch(o){return console.error("Error in logTaskCompletionWithCheck:",o),{success:!1,pointsAwarded:0}}}static async saveDailyTaskWithCheck(t,n,r){try{const s=sn(new Date,"yyyy-MM-dd");if(console.log(`Saving task completion: user=${t}, task=${n}, points=${r}`),await this.checkTaskCompletedToday(t,n))return console.log("Task already completed today, no points awarded"),{success:!0,pointsAwarded:0};const{error:i}=await O.from("daily_tasks").upsert({user_id:t,task_id:n,task_date:s,completed:!0,points:r},{onConflict:"user_id,task_id,task_date",ignoreDuplicates:!1});if(i)return console.error("Error upserting task:",i),{success:!1,pointsAwarded:0,error:i.message};const a=await this.logTaskCompletionWithCheck(t,n,n,r);return console.log(`Task completion saved successfully. Points awarded: ${a.pointsAwarded}`),{success:!0,pointsAwarded:a.pointsAwarded}}catch(s){return console.error("Error in saveDailyTaskWithCheck:",s),{success:!1,pointsAwarded:0,error:s instanceof Error?s.message:"Unknown error"}}}static async logTaskCompletion(t,n,r,s){return(await this.logTaskCompletionWithCheck(t,n,r,s)).success}}class GD{static async loadDailyTasks(t,n){try{const r=sn(new Date,"yyyy-MM-dd");console.log(`Loading tasks for user ${t} on date ${r}`);const{data:s,error:o}=await O.from("daily_tasks").select("*").eq("user_id",t).eq("task_date",r);if(o)return console.error("Error loading tasks:",o),n;if(!s||s.length===0)return n;console.log("Supabase returned tasks:",s);const i=s.map(a=>{var l;return{id:a.task_id,completed:a.completed,points:a.points,label:((l=n.find(c=>c.id===a.task_id))==null?void 0:l.label)||a.task_id}});return console.log("Transformed tasks:",i),i}catch(r){return console.error("Error in loadDailyTasks:",r),n}}}class YD{static async saveDailyTasks(t,n){try{console.log(`Saving tasks for user ${t}:`,n);const r=sn(new Date,"yyyy-MM-dd"),s=n.map(i=>({user_id:t,task_id:i.id,task_date:r,completed:i.completed,points:i.points})),{error:o}=await O.from("daily_tasks").upsert(s,{onConflict:"user_id,task_id,task_date",ignoreDuplicates:!1});return o?(console.error("Error saving tasks to Supabase:",o),!1):(console.log("Tasks saved successfully"),!0)}catch(r){return console.error("Error in saveDailyTasks:",r),!1}}}class tn{static async checkTaskCompletedToday(t,n){return _l.checkTaskCompletedToday(t,n)}static async saveDailyTaskWithCheck(t,n,r){return _l.saveDailyTaskWithCheck(t,n,r)}static async loadDailyTasks(t,n){return GD.loadDailyTasks(t,n)}static async saveDailyTasks(t,n){return YD.saveDailyTasks(t,n)}static async logTaskCompletionWithCheck(t,n,r,s){return _l.logTaskCompletionWithCheck(t,n,r,s)}static async logTaskCompletion(t,n,r,s){return _l.logTaskCompletion(t,n,r,s)}}const yn=class yn{static isOffline(){return this.offlineMode}static setOfflineMode(t){this.offlineMode!==t&&(this.offlineMode=t,this.notifyListeners(),t?this.notifyOfflineState():this.lastOnlineTime=Date.now())}static addOfflineListener(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(n=>n!==t)}}static notifyListeners(){this.listeners.forEach(t=>{try{t(this.offlineMode)}catch(n){console.error("Error in network listener:",n)}})}static async detectOfflineStatus(){try{if(!navigator.onLine)return this.setOfflineMode(!0),!0;const{error:t}=await O.from("task_completions").select("count",{count:"exact",head:!0}),n=!!t;return this.setOfflineMode(n),n}catch{return console.log("Network error, switching to offline mode"),this.setOfflineMode(!0),!0}}static startPeriodicDetection(t=3e4){return this.offlineDetectionInterval!==null&&this.stopPeriodicDetection(),this.offlineDetectionInterval=window.setInterval(()=>{this.detectOfflineStatus()},t),window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline),()=>this.stopPeriodicDetection()}static stopPeriodicDetection(){this.offlineDetectionInterval!==null&&(clearInterval(this.offlineDetectionInterval),this.offlineDetectionInterval=null,window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline))}static notifyOfflineState(){ae({title:"You're offline",description:"Changes will be saved when you reconnect",variant:"destructive"})}static getTimeSinceLastOnline(){return Date.now()-this.lastOnlineTime}};J(yn,"offlineMode",!1),J(yn,"offlineDetectionInterval",null),J(yn,"lastOnlineTime",Date.now()),J(yn,"listeners",[]),J(yn,"handleOnline",()=>{console.log("Browser reports online status"),yn.detectOfflineStatus()}),J(yn,"handleOffline",()=>{console.log("Browser reports offline status"),yn.setOfflineMode(!0)});let $e=yn;class $r{static encrypt(t){try{return Array.from(t).map(n=>String.fromCharCode(n.charCodeAt(0)^this.ENCRYPTION_KEY.charCodeAt(0))).join("")}catch(n){return console.error("Error encrypting data:",n),t}}static decrypt(t){try{return Array.from(t).map(n=>String.fromCharCode(n.charCodeAt(0)^this.ENCRYPTION_KEY.charCodeAt(0))).join("")}catch(n){return console.error("Error decrypting data:",n),t}}static loadPendingOperations(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(t){const n=this.decrypt(t),r=JSON.parse(n);return Array.isArray(r)?r:[]}}catch(t){console.error("Error loading pending operations:",t)}return[]}static savePendingOperations(t){try{if(!Array.isArray(t)){console.error("Invalid operations format (not an array):",t);return}const n=JSON.stringify(t),r=this.encrypt(n);localStorage.setItem(this.STORAGE_KEY,r)}catch(n){console.error("Error saving pending operations:",n)}}static getUserStorageKey(t,n){return`chichi_${n}_${t}`}static saveUserData(t,n,r){try{const s=this.getUserStorageKey(t,n);localStorage.setItem(s,JSON.stringify(r))}catch(s){console.error(`Error saving user data for ${n}:`,s)}}static loadUserData(t,n,r){try{const s=this.getUserStorageKey(t,n),o=localStorage.getItem(s);return o?JSON.parse(o):r}catch(s){return console.error(`Error loading user data for ${n}:`,s),r}}static clearUserData(t){try{const n="chichi_",r=`_${t}`;Object.keys(localStorage).filter(s=>s.startsWith(n)&&s.includes(r)).forEach(s=>{localStorage.removeItem(s)})}catch(n){console.error("Error clearing user data:",n)}}}J($r,"STORAGE_KEY","chichi_pending_sync"),J($r,"ENCRYPTION_KEY","chichi_app");class Vr{static storePendingOperations(t,n){try{this.pendingOperationsCache.set(t,[...n]),$r.saveUserData(t,this.USER_KEY,n)}catch(r){console.error("Error storing pending operations:",r)}}static getPendingOperations(t){try{if(this.pendingOperationsCache.has(t))return this.pendingOperationsCache.get(t)||[];const n=$r.loadUserData(t,this.USER_KEY,[]);return this.pendingOperationsCache.set(t,n),n}catch(n){return console.error("Error retrieving pending operations:",n),[]}}static addPendingOperation(t,n){try{const r=this.getPendingOperations(t),s={...n,timestamp:n.timestamp||Date.now()};return r.push(s),this.storePendingOperations(t,r),!0}catch(r){return console.error("Error adding pending operation:",r),!1}}static clearPendingOperations(t){try{this.pendingOperationsCache.set(t,[]),$r.saveUserData(t,this.USER_KEY,[])}catch(n){console.error("Error clearing pending operations:",n)}}static removePendingOperations(t,n){try{const r=this.getPendingOperations(t),s=r.filter(o=>!n.includes(o.id));s.length!==r.length&&this.storePendingOperations(t,s)}catch(r){console.error("Error removing pending operations:",r)}}static getPendingOperationCount(t){try{return this.getPendingOperations(t).length}catch(n){return console.error("Error getting pending operation count:",n),0}}}J(Vr,"USER_KEY","pending_ops"),J(Vr,"pendingOperationsCache",new Map);class QD{async processOperations(t,n){const r=[],s=[],o={};t.forEach(i=>{o[i.table]||(o[i.table]=[]),o[i.table].push(i)});for(const[i,a]of Object.entries(o))try{if(i==="daily_tasks"){await this.processDailyTasks(a,n,r,s);continue}await this.processStandardOperations(a,n,r,s)}catch(l){console.error(`Exception during sync for table ${i}:`,l),a.forEach(c=>s.push(c.id))}return{succeeded:r,failed:s}}async processStandardOperations(t,n,r,s){for(const o of t){let i=null;try{switch(o.operation){case"insert":i=await n.insertData(o.table,o.data);break;case"update":i=await n.updateData(o.table,o.data);break;case"delete":i=await n.deleteData(o.table,o.data);break}i?(console.error(`Sync error for operation ${o.id}:`,i),s.push(o.id)):r.push(o.id)}catch(a){console.error(`Error processing operation ${o.id}:`,a),s.push(o.id)}}}async processDailyTasks(t,n,r,s){try{const o=t.flatMap(a=>a.operation==="delete"?[]:Array.isArray(a.data)?a.data:[a.data]);if(o.length===0){t.forEach(a=>r.push(a.id));return}const i=await n.upsertDailyTasks(o);i?(console.error("Error upserting daily tasks:",i),t.forEach(a=>s.push(a.id))):t.forEach(a=>r.push(a.id))}catch(o){console.error("Unexpected error during daily tasks processing:",o),t.forEach(i=>s.push(i.id))}}}class XD{async insertData(t,n){const{error:r}=await this.typeSafeFrom(t).insert(n);return r}async updateData(t,n){const{error:r}=await this.typeSafeFrom(t).update(n).eq("id",n.id);return r}async deleteData(t,n){const{error:r}=await this.typeSafeFrom(t).delete().eq("id",n.id);return r}async upsertDailyTasks(t){const{error:n}=await this.typeSafeFrom("daily_tasks").upsert(t,{onConflict:"user_id,task_id,task_date",ignoreDuplicates:!1});return n}typeSafeFrom(t){return O.from(t)}}let Cl;const JD=new Uint8Array(16);function ZD(){if(!Cl&&(Cl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Cl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cl(JD)}const We=[];for(let e=0;e<256;++e)We.push((e+256).toString(16).slice(1));function e2(e,t=0){return We[e[t+0]]+We[e[t+1]]+We[e[t+2]]+We[e[t+3]]+"-"+We[e[t+4]]+We[e[t+5]]+"-"+We[e[t+6]]+We[e[t+7]]+"-"+We[e[t+8]]+We[e[t+9]]+"-"+We[e[t+10]]+We[e[t+11]]+We[e[t+12]]+We[e[t+13]]+We[e[t+14]]+We[e[t+15]]}const t2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Pv={randomUUID:t2};function n2(e,t,n){if(Pv.randomUUID&&!t&&!e)return Pv.randomUUID();e=e||{};const r=e.random||(e.rng||ZD)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,e2(r)}const vr=class vr{constructor(){J(this,"status","online");J(this,"syncInterval",null);J(this,"statusListeners",[]);J(this,"pendingOperations",[]);J(this,"operationsProcessor");J(this,"tableHandler");this.operationsProcessor=new QD,this.tableHandler=new XD,this.loadPendingOperations()}static getInstance(){return vr.instance||(vr.instance=new vr),vr.instance}static isOffline(){return vr.getInstance().getStatus()==="offline"}getStatus(){return this.status}getPendingCount(){return this.pendingOperations.length}addStatusListener(t){return this.statusListeners.push(t),()=>{this.statusListeners=this.statusListeners.filter(n=>n!==t)}}setStatus(t){this.status!==t&&(this.status=t,this.notifyListeners())}notifyListeners(){this.statusListeners.forEach(t=>{try{t(this.status)}catch(n){console.error("Error in sync status listener:",n)}})}startSync(t=3e4){this.syncInterval!==null&&this.stopSync(),this.performSync(),this.syncInterval=window.setInterval(()=>{this.performSync()},t)}stopSync(){this.syncInterval!==null&&(clearInterval(this.syncInterval),this.syncInterval=null)}async checkOnlineStatus(){if(!navigator.onLine)return!1;try{return(await fetch("/api/ping",{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(3e3)})).ok}catch(t){return console.log("Connectivity check failed:",t),!1}}async loadPendingOperations(){try{this.pendingOperations=await $r.loadPendingOperations(),this.updateStatusBasedOnPending()}catch(t){console.error("Error loading pending operations:",t),this.pendingOperations=[]}}updateStatusBasedOnPending(){this.pendingOperations.length>0&&this.setStatus(this.status==="offline"?"offline":"online")}queueOperation(t,n,r){const s=n2(),o={id:s,table:t,operation:n,data:r,timestamp:Date.now()};return this.pendingOperations.push(o),$r.savePendingOperations(this.pendingOperations),this.updateStatusBasedOnPending(),this.status!=="offline"&&this.performSync(),s}async performSync(){if(this.pendingOperations.length===0)return;if(!await this.checkOnlineStatus()){this.setStatus("offline");return}this.setStatus("syncing");try{const n=[...this.pendingOperations],{succeeded:r,failed:s}=await this.operationsProcessor.processOperations(n,this.tableHandler);r.length>0&&(this.pendingOperations=this.pendingOperations.filter(o=>!r.includes(o.id)),await $r.savePendingOperations(this.pendingOperations)),s.length>0&&console.warn(`${s.length} operations failed to sync`),this.setStatus((this.pendingOperations.length>0,"online"))}catch(n){console.error("Error during sync:",n),this.setStatus("offline")}}};J(vr,"instance");let Bo=vr;class Jl{static async retryFailedOperations(t){if(this.processingInProgress){console.log("Operation processing already in progress, skipping");return}if(await $e.detectOfflineStatus()){console.log("Still offline, skipping retry");return}try{this.processingInProgress=!0;const n=Vr.getPendingOperations(t);if(n.length===0){console.log("No pending operations to process");return}console.log(`Processing ${n.length} pending operations`);const r=[],s=[],o=[];n.forEach(l=>{l.table==="task_completions"?r.push(l):l.table==="daily_tasks"?s.push(l):o.push(l)});const i=[],a=[];if(r.length>0){const l=await this.processTaskCompletions(t,r);i.push(...l.succeeded),a.push(...l.failed)}if(s.length>0){const l=await this.processDailyTasks(t,s);i.push(...l.succeeded),a.push(...l.failed)}for(const l of o)try{await this.processSingleOperation(t,l)?i.push(l.id):a.push(l.id)}catch(c){console.error("Failed to process operation:",l,c),a.push(l.id)}i.length>0&&Vr.removePendingOperations(t,i);for(const l of a)this.retryCount[l]=(this.retryCount[l]||0)+1,this.retryCount[l]>=this.maxRetryAttempts&&(console.warn(`Operation ${l} failed ${this.maxRetryAttempts} times, removing from queue`),Vr.removePendingOperations(t,[l]));i.length>0&&ae({title:"Sync Complete",description:`${i.length} changes have been saved.`}),a.length>0&&console.warn(`${a.length} operations failed to sync and will be retried later`)}catch(n){console.error("Error processing pending operations:",n)}finally{this.processingInProgress=!1}}static async processTaskCompletions(t,n){const r=[],s=[];for(const o of n)try{const i=o.data;await tn.logTaskCompletion(t,i.taskId,i.taskName,i.points)?r.push(o.id):s.push(o.id)}catch(i){console.error("Error processing task completion:",i),s.push(o.id)}return{succeeded:r,failed:s}}static async processDailyTasks(t,n){const r=[],s=[];for(const o of n)try{const i=o.data;i.tasks?await tn.saveDailyTasks(t,i.tasks)?r.push(o.id):s.push(o.id):(console.warn("Invalid daily task data format:",i),r.push(o.id))}catch(i){console.error("Error processing daily tasks:",i),s.push(o.id)}return{succeeded:r,failed:s}}static async processSingleOperation(t,n){return n.data.taskId&&n.data.taskName?tn.logTaskCompletion(t,n.data.taskId,n.data.taskName,n.data.points):n.data.tasks?tn.saveDailyTasks(t,n.data.tasks):(console.warn("Unknown operation format:",n),!1)}static initializePeriodicSync(t){const n=Bo.getInstance();n.startSync(6e4);const r=setInterval(()=>{t&&!$e.isOffline()&&this.retryFailedOperations(t)},6e4);return()=>{n.stopSync(),clearInterval(r)}}static resetRetryCounters(){this.retryCount={}}static setMaxRetryAttempts(t){this.maxRetryAttempts=Math.max(1,t)}}J(Jl,"processingInProgress",!1),J(Jl,"maxRetryAttempts",3),J(Jl,"retryCount",{});class kn{static isSyncInProgress(){return this.syncInProgress||this.activeOperations>0}static setSyncInProgress(t){this.syncInProgress=t,!t&&this.syncQueue.length>0&&this.scheduleQueueProcessing()}static addToQueue(t){this.syncQueue.push(t),this.scheduleQueueProcessing()}static scheduleQueueProcessing(){this.syncInProgress||(this.processingTimeout!==null&&clearTimeout(this.processingTimeout),this.processingTimeout=window.setTimeout(()=>{this.processingTimeout=null,this.processQueue()},50))}static processQueue(){if(!this.syncInProgress)for(;this.syncQueue.length>0&&this.activeOperations<this.maxConcurrentOperations;)this.processNextInQueue()}static processNextInQueue(){if(this.syncQueue.length>0){const t=this.syncQueue.shift();t&&(this.activeOperations++,Promise.resolve(t.operation()).then(n=>{try{t.resolve(n)}catch(r){console.error("Error resolving sync operation:",r)}}).catch(n=>{console.error("Error in sync operation:",n);try{t.resolve(void 0)}catch(r){console.error("Error resolving failed sync operation:",r)}}).finally(()=>{this.activeOperations--,this.syncQueue.length>0&&!this.syncInProgress&&this.scheduleQueueProcessing()}))}}static clearQueue(){this.syncQueue.forEach(t=>{try{t.resolve(void 0)}catch(n){console.error("Error resolving cleared sync operation:",n)}}),this.syncQueue=[],this.processingTimeout!==null&&(clearTimeout(this.processingTimeout),this.processingTimeout=null)}static setMaxConcurrentOperations(t){this.maxConcurrentOperations=Math.max(1,t)}static getQueueLength(){return this.syncQueue.length}}J(kn,"syncInProgress",!1),J(kn,"syncQueue",[]),J(kn,"processingTimeout",null),J(kn,"maxConcurrentOperations",1),J(kn,"activeOperations",0);class Ev{static mergeTasks(t,n){return t.map(r=>{const s=n.find(o=>o.id===r.id);return s?{...r,completed:r.completed||s.completed}:r})}static hasTasksChanged(t,n){return JSON.stringify(t)!==JSON.stringify(n)}}class Lc{static queueTasksForLater(t,n){Bo.getInstance().queueOperation("daily_tasks","update",{userId:t,tasks:n,timestamp:new Date().toISOString()})}static queueOperationIfOffline(t,n){return $e.isOffline()?($e.notifyOfflineState(),Vr.addPendingOperation(t,{id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,table:n.type==="completeTask"?"task_completions":"daily_tasks",operation:n.type==="completeTask"?"insert":"update",data:n.data,timestamp:Date.now()})):!1}}class qb{static debouncedSaveTasks(t,n,r=1e3){return new Promise(s=>{this.syncDebounceTimeout!==null&&clearTimeout(this.syncDebounceTimeout),this.syncDebounceTimeout=window.setTimeout(async()=>{this.syncDebounceTimeout=null;try{if($e.isOffline()){Lc.queueTasksForLater(t,n),s(!0);return}const o=await tn.saveDailyTasks(t,n);s(o)}catch(o){console.error("Error in debouncedSaveTasks:",o),Lc.queueTasksForLater(t,n),s(!1)}},r)})}static clearPendingDebounce(){this.syncDebounceTimeout!==null&&(clearTimeout(this.syncDebounceTimeout),this.syncDebounceTimeout=null)}}J(qb,"syncDebounceTimeout",null);class Kb{static async syncTasks(t,n){return this.syncInProgress||kn.isSyncInProgress()?new Promise(r=>{console.log("Task sync already in progress, queueing operation"),kn.addToQueue({resolve:r,operation:async()=>{const s=await this.performSync(t,n);r(s)}})}):this.performSync(t,n)}static async performSync(t,n){if(this.syncInProgress)return console.log("Sync already in progress, skipping duplicate request"),n;this.syncInProgress=!0,kn.setSyncInProgress(!0);try{if(console.log("Starting task sync for user:",t),$e.isOffline())return console.log("Device is offline, using local tasks only"),n;try{const r=await tn.loadDailyTasks(t,n),s=Ev.mergeTasks(n,r);return Ev.hasTasksChanged(s,n)?(console.log("Tasks changed during sync, saving merged state"),await tn.saveDailyTasks(t,s)||(console.error("Error saving tasks to Supabase"),Lc.queueTasksForLater(t,s))):console.log("No task changes during sync"),s}catch(r){return console.error("Sync error:",r),n}}finally{this.syncInProgress=!1,kn.setSyncInProgress(!1),kn.processNextInQueue()}}static queueOperationIfOffline(t,n){return Lc.queueOperationIfOffline(t,n)}static debouncedSaveTasks(t,n,r=1e3){return qb.debouncedSaveTasks(t,n,r)}}J(Kb,"syncInProgress",!1);class Ct{static initialize(){this.isInitialized||($e.startPeriodicDetection(this.syncIntervalMs),Bo.getInstance().startSync(this.syncIntervalMs),this.isInitialized=!0,console.log("SyncService initialized"))}static isOffline(){return $e.isOffline()}static async detectOfflineStatus(){return $e.detectOfflineStatus()}static async syncTasks(t,n){return this.isInitialized||this.initialize(),Kb.syncTasks(t,n)}static async syncStreak(t,n){this.isInitialized||this.initialize();try{return t}catch(r){return console.error("Error syncing streak:",r),t}}static async retryFailedOperations(t){if(this.isInitialized||this.initialize(),$e.isOffline()){console.log("Still offline, skipping retry");return}return Jl.retryFailedOperations(t)}static queueOperationIfOffline(t,n){if(!$e.isOffline())return!1;const r={id:`${Date.now()}-${Math.random().toString(36).slice(2,7)}`,table:n.type==="completeTask"?"task_completions":"daily_tasks",operation:n.type==="completeTask"?"insert":"update",data:n.data,timestamp:Date.now()};return Vr.addPendingOperation(t,r)}static initializePeriodicSync(t){this.isInitialized||this.initialize();const n=setInterval(()=>{t&&!$e.isOffline()&&this.retryFailedOperations(t)},this.syncIntervalMs);return()=>{clearInterval(n)}}static setSyncInterval(t){this.syncIntervalMs=Math.max(5e3,t),this.isInitialized&&($e.startPeriodicDetection(this.syncIntervalMs),Bo.getInstance().startSync(this.syncIntervalMs))}static getPendingOperationCount(t){return Vr.getPendingOperationCount(t)}static addOfflineListener(t){return $e.addOfflineListener(t)}}J(Ct,"isInitialized",!1),J(Ct,"syncIntervalMs",6e4);const Qs=[{id:"post",label:"Posted to My Page",points:10,completed:!1},{id:"comments",label:"Replied to Comments",points:3,completed:!1},{id:"creators",label:"Engaged with Creators",points:3,completed:!1},{id:"story",label:"Posted to My Story",points:3,completed:!1},{id:"multiplatform",label:"Posted to Multiple Platforms",points:3,completed:!1}],kh=e=>`chichi_daily_tasks_${e||"guest"}_${sn(new Date,"yyyy-MM-dd")}`,r2=()=>{const[e,t]=p.useState(Qs),[n,r]=p.useState(!0),{user:s}=ze(),o=p.useRef(!1),i=p.useRef(null);p.useEffect(()=>{Ct.initialize()},[]);const a=async()=>{r(!0);try{if(!s)return Qs;const u=kh(s.id),f=localStorage.getItem(u);if(f)try{const h=JSON.parse(f);if(!Ct.isOffline())try{console.log("Syncing tasks with server");const m=await Ct.syncTasks(s.id,h);return JSON.stringify(m)!==f&&localStorage.setItem(u,JSON.stringify(m)),m}catch(m){return console.error("Error syncing tasks:",m),h}return h}catch(h){return console.error("Error parsing tasks:",h),Qs}else try{console.log("Loading tasks from Supabase");const h=await tn.loadDailyTasks(s.id,Qs);return localStorage.setItem(u,JSON.stringify(h)),h}catch(h){return console.error("Error loading tasks from Supabase:",h),Qs}}finally{r(!1),o.current=!0}};p.useEffect(()=>{(async()=>{const f=await a();t(f)})()},[s==null?void 0:s.id]);const l=u=>{if(!(s!=null&&s.id)||!o.current)return;const f=kh(s.id);localStorage.setItem(f,JSON.stringify(u)),i.current!==null&&clearTimeout(i.current),i.current=window.setTimeout(async()=>{i.current=null;try{Ct.isOffline()?Ct.queueOperationIfOffline(s.id,{type:"saveTasks",data:{tasks:u}}):await tn.saveDailyTasks(s.id,u)}catch(h){console.error("Error saving tasks:",h),Ct.queueOperationIfOffline(s.id,{type:"saveTasks",data:{tasks:u}}),ae({title:"Warning",description:"We had trouble saving your progress, but it will be saved when you're back online.",variant:"destructive"})}},1e3)};return{tasks:e,setTasks:u=>{t(f=>{const h=typeof u=="function"?u(f):u;return JSON.stringify(h)!==JSON.stringify(f)&&l(h),h})},isLoading:n}},s2=()=>{const[e,t]=p.useState(new Set);return{validateTaskCompletion:(o,i,a,l)=>{if(console.log("=== TASK VALIDATION START ==="),!a||l)return console.log("BLOCKED: Cannot complete task - Not logged in or already submitting"),{canComplete:!1,reason:"Not logged in or already submitting"};if(e.has(o))return console.log("BLOCKED: Task already completed:",o),{canComplete:!1,reason:"Task already completed in this session"};const c=i.find(u=>u.id===o);return!c||c.completed?(console.log("BLOCKED: Task not found or already completed:",o),{canComplete:!1,reason:"Task not found or already completed"}):(console.log("VALIDATION PASSED: Task can be completed"),{canComplete:!0,task:c})},markTaskAsCompleted:o=>{t(i=>new Set(i).add(o))},unmarkTaskAsCompleted:o=>{t(i=>{const a=new Set(i);return a.delete(o),a})}}},o2=()=>({handleTaskSaving:async(t,n,r)=>{console.log("=== TASK SAVING START ==="),yr.logPointsUpdateFlow("SAVING_TO_DB",{taskId:n,points:r.points,userId:t}),console.log("STEP 1: Attempting to save task to database");const s=await tn.saveDailyTaskWithCheck(t,n,r.points);if(yr.logPointsUpdateFlow("DB_SAVE_RESULT",s),console.log("STEP 1 RESULT:",s),!s.success)throw console.error("STEP 1 FAILED:",s.error),new Error(s.error||"Failed to save task");return s}});class Gb{static async getProfile(t){try{const{data:n,error:r}=await O.from("user_profiles").select("*").eq("id",t).maybeSingle();return r?(console.error("Error fetching user profile:",r),null):n||null}catch(n){return console.error("Unexpected error fetching user profile:",n),null}}static async updateProfile(t,n){try{if(!await this.getProfile(t)){console.log("Creating new profile for user:",t);const{data:i,error:a}=await O.from("user_profiles").insert({id:t,email:n.email||"",name:n.name||"User",points:0,level:1,level_points:0,max_level_points:100,current_streak:0,longest_streak:0,tasks_completed:0,total_tasks:0,weekly_activity:0,unlocked_achievements:[],niche_preferences:[],social_links:{},...n}).select("*").maybeSingle();return a?(console.error("Error creating user profile:",a),null):i}const{data:s,error:o}=await O.from("user_profiles").update({...n,updated_at:new Date().toISOString()}).eq("id",t).select("*").maybeSingle();return o?(console.error("Error updating user profile:",o),null):s||null}catch(r){return console.error("Unexpected error updating user profile:",r),null}}static async logActivity(t,n,r={}){try{const{error:s}=await O.from("activity_logs").insert({user_id:t,action:n,details:r});s&&console.error("Error logging activity:",s)}catch(s){console.error("Unexpected error logging activity:",s)}}static async ensureProfileExists(t,n,r){try{let s=await this.getProfile(t);return s||(console.log("Creating profile for new user:",t),s=await this.updateProfile(t,{id:t,email:n,name:r||n.split("@")[0],points:0,level:1,level_points:0,max_level_points:100,current_streak:0,longest_streak:0,tasks_completed:0,total_tasks:0,weekly_activity:0,unlocked_achievements:[],niche_preferences:[],social_links:{}})),s}catch(s){return console.error("Error ensuring profile exists:",s),null}}}class Ic{static async canUserRecover(t){try{return await this.getRecoveryCount(t)<this.MAX_RECOVERY_PER_MONTH}catch(n){return console.error("Error checking recovery eligibility:",n),!1}}static async getRecoveryCount(t){try{if(!O)return 0;const n=new Date,r=new Date(n.getFullYear(),n.getMonth(),1),{data:s,error:o}=await O.from("activity_logs").select("id").eq("user_id",t).eq("action","streak_recovery").gte("created_at",r.toISOString()).order("created_at",{ascending:!1});return o?(console.error("Error fetching recovery count:",o),0):s?s.length:0}catch(n){return console.error("Error in getRecoveryCount:",n),0}}static async recordRecoveryUsage(t){if(!O)return;const{error:n}=await O.from("activity_logs").insert({user_id:t,action:"streak_recovery",details:{timestamp:new Date().toISOString()}});if(n)throw console.error("Error recording recovery usage:",n),n}static async recoverStreak(t){if(!t||!t.id)return{user:t,success:!1,message:"User not found"};try{if(!await this.canUserRecover(t.id))return{user:t,success:!1,message:"No recovery attempts remaining this month"};const r=await this.getRecoveryCount(t.id),s=(t.currentStreak||0)+1,o={...t,currentStreak:s,longestStreak:Math.max(s,t.longestStreak||0)};try{if(await this.recordRecoveryUsage(t.id),O){const{error:i}=await O.from("user_profiles").update({current_streak:o.currentStreak,longest_streak:o.longestStreak,updated_at:new Date().toISOString()}).eq("id",t.id);if(i)return console.error("Error updating streak in Supabase:",i),{user:t,success:!1,message:"Failed to update streak"}}return Gb.logActivity(t.id,"streak_recovery",{previous_streak:t.currentStreak,new_streak:s,recovery_count:r+1}),{user:o,success:!0,message:`Streak recovered! Your current streak is now ${s} days.`}}catch(i){return console.error("Error recovering streak:",i),{user:t,success:!1,message:"Failed to process streak recovery"}}}catch(n){return console.error("Error in recoverStreak:",n),{user:t,success:!1,message:"An unexpected error occurred"}}}}J(Ic,"MAX_RECOVERY_PER_MONTH",3);const Wd=[{id:"first-task",name:"First Step",description:"Complete your first task",daysRequired:1,points:10,icon:"🚀",type:"first"},{id:"three-day",name:"3-Day Streak",description:"Complete tasks for 3 days in a row",daysRequired:3,points:20,icon:"🔥",type:"consecutive"},{id:"one-week",name:"7-Day Streak",description:"Complete tasks for 7 days in a row",daysRequired:7,points:50,icon:"⭐",type:"consecutive"},{id:"two-week",name:"2-Week Titan",description:"Complete tasks for 14 days in a row",daysRequired:14,points:75,icon:"🌟",type:"consecutive"},{id:"total-fifteen",name:"15-Day Milestone",description:"Complete tasks on 15 different days (non-consecutive)",daysRequired:15,points:60,icon:"📅",type:"total"},{id:"three-week",name:"3-Week Trailblazer",description:"Complete tasks for 21 days in a row",daysRequired:21,points:100,icon:"✨",type:"consecutive"},{id:"thirty-day",name:"30-Day Champion",description:"Complete tasks for 30 days in a row",daysRequired:30,points:150,icon:"🏆",type:"consecutive"}],i2=(e,t,n,r)=>{if(n&&!r.includes("first-task"))return Wd.find(i=>i.id==="first-task")||null;const s=Wd.find(i=>i.type==="consecutive"&&i.daysRequired===e&&!r.includes(i.id));return s||Wd.find(i=>i.type==="total"&&i.daysRequired===t&&!r.includes(i.id))||null};class Tv{static checkAchievements(t,n,r,s){return i2(t,n,r,s)}}class Xi{static async processStreakUpdate(t,n){let r;typeof t.lastActivityDate=="string"?r=new Date(t.lastActivityDate):t.lastActivityDate instanceof Date?r=t.lastActivityDate:(console.warn("Invalid lastActivityDate, using today as fallback"),r=new Date);let s=t.currentStreak||0,o=null,i=!1;const a=t.tasksCompleted===0,l=await this.countTotalTaskDays(t.id);if(console.log(`Total task days for user: ${l}`),!r||isNaN(r.getTime()))console.log("First activity detected or invalid last activity date"),s=1;else{if(Mc(r,n))return console.log("Already logged activity today, streak unchanged"),l===15&&!t.unlockedAchievements.includes("total-fifteen")&&(o=Tv.checkAchievements(s,l,a,t.unlockedAchievements||[])),{user:t,achievement:o,canRecover:!1};if(qD(r))console.log("Consecutive day detected"),s=(t.currentStreak||0)+1;else{Xl(n,1);const u=Xl(n,2);if(Mc(r,u))console.log("Streak broken but eligible for recovery - day before yesterday"),i=await Ic.canUserRecover(t.id),s=1;else{const f=Xl(n,1);f.setHours(0,0,0,0);const h=new Date(f);h.setHours(h.getHours()+this.RECOVERY_GRACE_PERIOD_HOURS),HD(r,{start:f,end:h})?(console.log("Within grace period for recovery"),i=await Ic.canUserRecover(t.id),s=1):(console.log("Streak broken - reset to 1"),s=1)}}}s>365&&(console.warn(`Capping unrealistic streak value: ${s} -> 365`),s=365);const c={...t,currentStreak:s,longestStreak:Math.max(s,t.longestStreak||0),lastActivityDate:n};console.log("Updated user streak:",{newStreak:s,longestStreak:c.longestStreak});try{if(O){const{error:u}=await O.from("user_profiles").update({current_streak:c.currentStreak,longest_streak:c.longestStreak,last_activity_date:c.lastActivityDate.toISOString(),updated_at:new Date().toISOString()}).eq("id",t.id);u&&console.error("Error updating streak in Supabase:",u)}}catch{console.log("Supabase not available, skipping remote update")}try{Gb.logActivity(t.id,"streak_update",{current_streak:s,longest_streak:c.longestStreak})}catch(u){console.error("Error logging activity:",u)}return o=Tv.checkAchievements(s,l,a,t.unlockedAchievements||[]),console.log("Streak updated successfully"),{user:c,achievement:o,canRecover:i}}static async countTotalTaskDays(t){try{if(!O)return console.log("Supabase not available, using default value"),0;const{data:n,error:r}=await O.from("task_completions").select("completed_at").eq("user_id",t);if(r)return console.error("Error fetching task completions:",r),0;if(!n||n.length===0)return 0;const s=n.map(i=>new Date(i.completed_at)).filter(i=>!isNaN(i.getTime()));return new Set(s.map(i=>new Date(i).toISOString().split("T")[0])).size}catch(n){return console.error("Error counting task days:",n),0}}}J(Xi,"MAX_RECOVERY_PER_MONTH",3),J(Xi,"RECOVERY_GRACE_PERIOD_HOURS",36);class Fc{static async updateStreak(t,n=!1){if(!t||!t.id)return console.error("Cannot update streak: User or user ID is missing"),{user:t,achievement:null,canRecover:!1};const r=Date.now(),s=this.lastUpdateTime[t.id]||0,o=r-s;if(!n&&o<3e4)return console.log(`Skipping streak update - last updated ${o}ms ago`),{user:t,achievement:null,canRecover:!1};console.log(`Updating streak for user ${t.id} ${n?"(FORCED)":""}`),this.lastUpdateTime[t.id]=r;try{const{data:i,error:a}=await O.functions.invoke("get_server_timestamp");if(a)return console.error("Error fetching server timestamp:",a),await Xi.processStreakUpdate(t,new Date);const l=new Date(i.timestamp);return console.log("Using server timestamp:",l),await Xi.processStreakUpdate(t,l)}catch(i){return console.error("Error in updateStreak:",i),await Xi.processStreakUpdate(t,new Date)}}static async recoverStreak(t){return await Ic.recoverStreak(t)}static async forceUpdateStreak(t){return this.updateStreak(t,!0)}}J(Fc,"lastUpdateTime",{});class fm{static async createWinActivity(t,n,r){try{console.log("Creating win feed activity:",{userId:t,winTitle:n,platform:r});const{data:s,error:o}=await O.from("creator_feed_activities").insert({user_id:t,activity_type:"win",title:`Logged a win: ${n}`,description:`Achieved success on ${r}`,data:{platform:r,win_title:n},is_public:!0}).select().single();if(o)throw console.error("Error creating win activity:",o),o;return console.log("Win feed activity created successfully:",s),s}catch(s){console.error("Error creating win activity:",s)}}static async createTaskActivity(t,n,r,s){try{console.log("Creating task feed activity:",{userId:t,taskName:n,taskType:r,points:s});const{data:o,error:i}=await O.from("creator_feed_activities").insert({user_id:t,activity_type:"task_completion",title:`Completed ${n}`,description:`Earned ${s} points from ${r}`,data:{task_name:n,task_type:r,points_earned:s},is_public:!0}).select().single();if(i)throw console.error("Error creating task activity:",i),i;return console.log("Task completion feed activity created successfully:",o),o}catch(o){console.error("Error creating task activity:",o)}}static async createContentProgressActivity(t,n){try{console.log("Creating content progress feed activity:",{userId:t,points:n});const{data:r,error:s}=await O.from("creator_feed_activities").insert({user_id:t,activity_type:"content_progress",title:"Completed content creation workflow!",description:`Earned ${n} points for completing all content steps`,data:{points_earned:n},is_public:!0}).select().single();if(s)throw console.error("Error creating content progress activity:",s),s;return console.log("Content progress feed activity created successfully:",r),r}catch(r){console.error("Error creating content progress activity:",r)}}static async createMilestoneActivity(t,n){try{console.log("Creating milestone feed activity:",{userId:t,points:n});const{data:r,error:s}=await O.from("creator_feed_activities").insert({user_id:t,activity_type:"milestone",title:`Hit ${n} points!`,description:"Reached a new milestone",data:{points:n},is_public:!0}).select().single();if(s)throw console.error("Error creating milestone activity:",s),s;return console.log("Milestone feed activity created successfully:",r),r}catch(r){console.error("Error creating milestone activity:",r)}}static async createStreakActivity(t,n){try{console.log("Creating streak feed activity:",{userId:t,streakCount:n});const{data:r,error:s}=await O.from("creator_feed_activities").insert({user_id:t,activity_type:"streak",title:`Posted today — ${n} day streak continues!`,description:"Maintaining consistency",data:{streak_count:n},is_public:!0}).select().single();if(s)throw console.error("Error creating streak activity:",s),s;return console.log("Streak feed activity created successfully:",r),r}catch(r){console.error("Error creating streak activity:",r)}}static async createBadgeActivity(t,n){try{console.log("Creating badge feed activity:",{userId:t,badgeName:n});const{data:r,error:s}=await O.from("creator_feed_activities").insert({user_id:t,activity_type:"badge_unlock",title:`Unlocked the ${n}!`,description:"Achieved a new badge",data:{badge_name:n},is_public:!0}).select().single();if(s)throw console.error("Error creating badge activity:",s),s;return console.log("Badge unlock feed activity created successfully:",r),r}catch(r){console.error("Error creating badge activity:",r)}}static async createConnectionActivity(t,n,r,s){try{console.log("Creating connection feed activity:",{userAId:t,userBId:n,userAName:r,userBName:s});const{data:o,error:i}=await O.from("creator_feed_activities").insert({user_id:t,activity_type:"connection",title:`${r} and ${s} are now connected`,description:"New creators connected",data:{connected_user_id:n,connected_user_name:s},is_public:!0}).select().single();if(i)throw console.error("Error creating connection activity:",i),i;return console.log("Connection feed activity created successfully:",o),o}catch(o){console.error("Error creating connection activity:",o)}}}const a2=Object.freeze(Object.defineProperty({__proto__:null,FeedActivityService:fm},Symbol.toStringTag,{value:"Module"})),l2=()=>({handleStreakUpdate:async(t,n,r,s)=>{if(t==="post")try{const o=await Fc.forceUpdateStreak(n);try{await fm.createStreakActivity(n.id,o.user.currentStreak||1)}catch(i){console.error("Failed to create streak feed activity (non-critical):",i)}return o}catch(o){return console.error("Failed to update streak (non-critical):",o),null}return null}}),c2=()=>{const{toast:e}=_u();return{createTaskActivity:async(o,i,a,l)=>{console.log("STEP 2a.5: Creating feed activity for task completion");try{await fm.createTaskActivity(o,i,"task_completion",l),console.log("STEP 2a.5 SUCCESS: Feed activity created")}catch(c){console.error("STEP 2a.5 WARNING: Failed to create feed activity (non-critical):",c)}},showCompletionToast:(o,i)=>{console.log("STEP 2d: Showing toast notification");const a=o==="post"?"Main task":"Bonus task",l=o==="post"?" Your streak continues!":"";e({title:`+${i} points!`,description:`${a} completed successfully!${l}`})},showErrorToast:o=>{e({title:"Error",description:o.message||"Could not complete task. Please try again.",variant:"destructive"})},showDuplicateToast:()=>{e({title:"Task already completed",description:"You've already completed this task today!",variant:"destructive"})}}},u2=(e,t)=>{const[n,r]=p.useState(!1),{user:s,updateUserPoints:o,updateUserData:i}=ze(),{validateTaskCompletion:a,markTaskAsCompleted:l,unmarkTaskAsCompleted:c}=s2(),{handleTaskSaving:u}=o2(),{handleStreakUpdate:f}=l2(),{createTaskActivity:h,showCompletionToast:m,showErrorToast:v,showDuplicateToast:g}=c2();return{isSubmitting:n,handleCompleteTask:async(y,w)=>{const S=a(y,e,s==null?void 0:s.id,n);if(!S.canComplete||!S.task)return;const b=S.task;try{r(!0),l(y),t(_=>_.map(C=>C.id===y?{...C,completed:!0}:C));const k=await u(s.id,y,b);k.pointsAwarded>0?(w&&w(k.pointsAwarded),setTimeout(()=>{const _=new CustomEvent("task-completed",{detail:{points:k.pointsAwarded}});window.dispatchEvent(_)},300),setTimeout(async()=>{await o(k.pointsAwarded)},400),y==="post"&&i&&setTimeout(async()=>{try{const _=await f(y,s,k.pointsAwarded,i);_&&_.user&&await i({currentStreak:_.user.currentStreak,longestStreak:_.user.longestStreak,lastActivityDate:_.user.lastActivityDate})}catch(_){console.error("Error updating streak:",_)}},600),setTimeout(async()=>{await h(s.id,b.label,y,k.pointsAwarded)},500),setTimeout(()=>{m(y,k.pointsAwarded)},200)):g()}catch(k){console.error("Error completing task:",k),t(_=>_.map(C=>C.id===y?{...C,completed:!1}:C)),c(y),v(k instanceof Error?k:new Error("Could not complete task. Please try again."))}finally{r(!1)}}}},d2=()=>{const[e,t]=p.useState($e.isOffline()),{user:n}=ze();return p.useEffect(()=>(Ct.initialize(),(async()=>{const o=await Ct.detectOfflineStatus();t(o)})(),$e.addOfflineListener(o=>{t(o),!o&&(n!=null&&n.id)&&Ct.retryFailedOperations(n.id)})),[n==null?void 0:n.id]),p.useEffect(()=>n!=null&&n.id?Ct.initializePeriodicSync(n.id):void 0,[n==null?void 0:n.id]),{isOffline:e}},f2=e=>{const{toast:t}=_u(),{user:n}=ze();p.useEffect(()=>{const r=()=>{const s=new Date,o=Qn(dm(s,1)),i=Bb(o,s),a=setTimeout(()=>{console.log("Resetting daily tasks (keeping all points accumulated)");const l=Qs.map(c=>({...c,completed:!1}));e(l),n!=null&&n.id&&(localStorage.removeItem(kh(n.id)),tn.saveDailyTasks(n.id,l).catch(c=>{console.error("Error resetting tasks in Supabase:",c),Ct.queueOperationIfOffline(n.id,{type:"resetTasks",data:{tasks:l}})})),t({title:"New Day Started!",description:"Daily tasks reset. Your total points are preserved!"}),r()},i);return()=>clearTimeout(a)};return r()},[n==null?void 0:n.id,e,t])},h2=e=>{const[t,n]=p.useState(!1),{user:r,updateUserData:s}=ze();return p.useEffect(()=>{r&&(async()=>{if(r)try{const{canRecover:i}=await Fc.updateStreak(r);n(i)}catch(i){console.error("Error checking streak status:",i)}})()},[r]),p.useEffect(()=>{if(!(r!=null&&r.id)||!s)return;e.some(i=>i.completed)&&Fc.updateStreak(r).then(i=>{i.user!==r&&s&&s(i.user),n(i.canRecover)})},[e,r,s]),{canRecoverStreak:t}},Yb=()=>{const{tasks:e,setTasks:t,isLoading:n}=r2(),{isOffline:r}=d2(),{isSubmitting:s,handleCompleteTask:o}=u2(e,t);f2(t);const{canRecoverStreak:i}=h2(e);return{tasks:e,isLoading:n,isSubmitting:s,isOffline:r,canRecoverStreak:i,handleCompleteTask:o}};function p2(e,t=14){const[n,r]=p.useState([]),[s,o]=p.useState(!0),i=p.useRef(),a=p.useRef(null),l=p.useRef(null),c=p.useCallback(async()=>{if(!e){r([]),o(!1);return}if(i.current===e&&a.current!==null){console.log("Fetch already in progress, skipping");return}i.current=e,o(!0);try{const h=Qn(new Date),m=sn(h,"yyyy-MM-dd"),v=dm(h,t),g=sn(v,"yyyy-MM-dd");console.log(`Fetching calendar tasks for user ${e} from ${m} to ${g}`);const{data:x,error:y}=await O.from("calendar_tasks").select("*").eq("user_id",e).gte("date",m).lte("date",g).eq("completed",!1).order("date",{ascending:!0});if(y){console.error("Error fetching upcoming posts:",y),ae({variant:"destructive",title:"Error fetching posts",description:y.message});return}if(x&&x.length>0){console.log("Fetched upcoming posts:",x);const w=x.map(S=>({id:S.id,title:S.title,description:S.description,date:new Date(S.date),platform:S.platform,contentType:S.content_type,completed:S.completed}));r(w)}else console.log("No upcoming posts found"),r([])}catch(h){console.error("Error in fetchUpcomingPosts:",h),ae({variant:"destructive",title:"Error",description:"Failed to load upcoming posts"})}finally{o(!1),a.current=null}},[e,t]),u=p.useCallback(async()=>{l.current!==null&&clearTimeout(l.current),a.current!==null&&clearTimeout(a.current),l.current=window.setTimeout(()=>{c(),l.current=null},500)},[c]);p.useEffect(()=>{e!==i.current&&c()},[e,c]);const f=p.useCallback(async h=>{if(e)try{const{error:m}=await O.from("calendar_tasks").update({completed:!0}).eq("id",h);if(m){console.error("Error completing post:",m),ae({variant:"destructive",title:"Error",description:"Failed to mark post as complete"});return}setTimeout(()=>{const v=new CustomEvent("task-completed",{detail:{points:10}});window.dispatchEvent(v)},300),ae({title:"Success",description:"Post marked as complete"}),setTimeout(()=>{u()},800)}catch(m){console.error("Error in handleCompletePost:",m),ae({variant:"destructive",title:"Error",description:"Failed to update post status"})}},[e,u]);return p.useEffect(()=>()=>{a.current!==null&&clearTimeout(a.current),l.current!==null&&clearTimeout(l.current)},[]),{upcomingPosts:n,isLoadingPosts:s,handleCompletePost:f,refreshPosts:u}}const cn=p.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:V("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));cn.displayName="Card";const ts=p.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:V("flex flex-col space-y-1.5 p-6",e),...t}));ts.displayName="CardHeader";const ns=p.forwardRef(({className:e,...t},n)=>d.jsx("h3",{ref:n,className:V("text-2xl font-semibold leading-none tracking-tight",e),...t}));ns.displayName="CardTitle";const Qb=p.forwardRef(({className:e,...t},n)=>d.jsx("p",{ref:n,className:V("text-sm text-muted-foreground",e),...t}));Qb.displayName="CardDescription";const An=p.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:V("p-6 pt-0",e),...t}));An.displayName="CardContent";const m2=p.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:V("flex items-center p-6 pt-0",e),...t}));m2.displayName="CardFooter";function g2(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Xb(...e){return t=>e.forEach(n=>g2(n,t))}function oe(...e){return p.useCallback(Xb(...e),e)}var Ns=p.forwardRef((e,t)=>{const{children:n,...r}=e,s=p.Children.toArray(n),o=s.find(y2);if(o){const i=o.props.children,a=s.map(l=>l===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:l);return d.jsx(_h,{...r,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,a):null})}return d.jsx(_h,{...r,ref:t,children:n})});Ns.displayName="Slot";var _h=p.forwardRef((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const s=w2(n);return p.cloneElement(n,{...v2(r,n.props),ref:t?Xb(t,s):s})}return p.Children.count(n)>1?p.Children.only(null):null});_h.displayName="SlotClone";var Jb=({children:e})=>d.jsx(d.Fragment,{children:e});function y2(e){return p.isValidElement(e)&&e.type===Jb}function v2(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function w2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const jv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Av=Ob,hm=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Av(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const h=jv(u)||jv(f);return s[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(v=>{let[g,x]=v;return Array.isArray(x)?x.includes({...o,...a}[g]):{...o,...a}[g]===x})?[...c,f,h]:c},[]);return Av(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)},x2=hm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-chichi-purple text-white hover:bg-chichi-purple-dark",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-chichi-purple bg-background text-chichi-purple hover:bg-chichi-purple-soft hover:text-chichi-purple",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-chichi-purple-light underline-offset-4 hover:underline",accent:"bg-chichi-lime text-black hover:bg-chichi-lime/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Ns:"button";return d.jsx(i,{className:V(x2({variant:t,size:n,className:e})),ref:o,...s})});re.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zb=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>p.createElement("svg",{ref:l,...b2,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Zb("lucide",s),...a},[...i.map(([c,u])=>p.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=(e,t)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(k2,{ref:o,iconNode:t,className:Zb(`lucide-${S2(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=G("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=G("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=G("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=G("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=G("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=G("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=G("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=G("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=G("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=G("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=G("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=G("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=G("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=G("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=G("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=G("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=G("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=G("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=G("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=G("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=G("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=G("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=G("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=G("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=G("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=G("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=G("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=G("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=G("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=G("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=G("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),K2=()=>{const{user:e}=ze();return e!=null&&e.name?null:d.jsx(cn,{className:"bg-gradient-to-r from-chichi-orange/80 to-chichi-purple/80 text-white",children:d.jsxs(An,{className:"p-6 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Welcome to CHICHI!"}),d.jsx("p",{className:"text-sm mt-1",children:"Ready to start your content creation journey?"})]}),d.jsx(re,{asChild:!0,variant:"secondary",size:"sm",className:"bg-white text-chichi-purple hover:bg-gray-100",children:d.jsxs("a",{href:"/profile",children:["Personalize ",d.jsx(_2,{className:"ml-2 h-4 w-4"})]})})]})})},G2={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function ym(e="md"){const[t,n]=p.useState(void 0);return p.useEffect(()=>{const r=()=>{n(window.innerWidth<G2[e])};r();let s;const o=()=>{clearTimeout(s),s=setTimeout(r,100)};return window.addEventListener("resize",o,{passive:!0}),()=>{window.removeEventListener("resize",o),clearTimeout(s)}},[e]),!!t}const Y2=()=>(ym(),d.jsx("div",{className:"flex justify-between items-center mb-1 md:mb-6",children:d.jsx("div",{className:"flex items-center",children:d.jsx(K2,{})})})),i1=[];window.__chichiRecentLogs=i1;function Q2(){try{const e=window.innerWidth,t=window.innerHeight,n=e<=768,r=t>e;return{userAgent:navigator.userAgent,viewport:`${e}x${t}`,deviceType:n?"mobile":"desktop",orientation:r?"portrait":"landscape",platform:navigator.platform,connection:navigator.connection?{type:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}:"unknown"}}catch{return"Error getting device info"}}async function X2(e,t){try{const{supabase:n}=await ke(async()=>{const{supabase:l}=await Promise.resolve().then(()=>WN);return{supabase:l}},void 0),r=navigator.userAgent,s=window.location.href,o=new Date().toISOString(),i=Q2(),a=i1.filter(l=>l.level==="error"||l.level==="uncaught"||l.level==="uncaught promise").slice(-20);return await n.from("feedback").insert({user_id:e,content:`Automatic error report: ${t||"general error"}`,feedback_type:"error_report",created_at:o,browser_info:{userAgent:r,url:s,timestamp:o,deviceInfo:i,recentErrorLogs:a}}),!0}catch(n){return console.error("Failed to report logs to Supabase:",n),!1}}class vn extends p.Component{constructor(){super(...arguments);J(this,"state",{hasError:!1,error:null,errorInfo:null});J(this,"resetError",()=>{this.setState({hasError:!1,error:null,errorInfo:null})})}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){if(console.error("Error caught by ErrorBoundary:",n,r),this.setState({errorInfo:r}),this.props.onError&&this.props.onError(n,r),this.props.silent!==!0){let s="unknown";try{const o=JSON.parse(localStorage.getItem("chichi_user")||"{}");o!=null&&o.id&&(s=o.id)}catch{}X2(s,"error_boundary")}this.props.withToast&&ae({title:"Something went wrong",description:n.message||"An unexpected error occurred",variant:"destructive"})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"flex flex-col items-center justify-center p-6 space-y-4 bg-background rounded-lg border border-border shadow-sm",children:d.jsxs("div",{className:"w-full text-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-destructive mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"We're sorry, but there was an error in this part of the application."}),!1,d.jsx(re,{onClick:this.resetError,children:"Try Again"})]})}):this.props.children}}J(vn,"defaultProps",{withToast:!0,silent:!1});const J2=hm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-chichi-purple text-white hover:bg-chichi-purple/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",accent:"border-transparent bg-chichi-lime text-black hover:bg-chichi-lime/80",bronze:"border-transparent bg-chichi-bronze text-white",silver:"border-transparent bg-chichi-silver text-white",gold:"border-transparent bg-chichi-gold text-black",flame:"border-transparent bg-chichi-orange text-white"}},defaultVariants:{variant:"default"}});function nr({className:e,variant:t,...n}){return d.jsx("div",{className:V(J2({variant:t}),e),...n})}const vm=p.createContext({});function wm(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ou=p.createContext(null),xm=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Z2 extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function eM({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=p.useContext(xm);return p.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),d.jsx(Z2,{isPresent:t,childRef:r,sizeRef:s,children:p.cloneElement(e,{ref:r})})}const tM=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const a=wm(nM),l=p.useId(),c=p.useCallback(f=>{a.set(f,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),u=p.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:c,register:f=>(a.set(f,!1),()=>a.delete(f))}),o?[Math.random(),c]:[n,c]);return p.useMemo(()=>{a.forEach((f,h)=>a.set(h,!1))},[n]),p.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=d.jsx(eM,{isPresent:n,children:e})),d.jsx(Ou.Provider,{value:u,children:e})};function nM(){return new Map}function a1(e=!0){const t=p.useContext(Ou);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,o=p.useId();p.useEffect(()=>{e&&s(o)},[e]);const i=p.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,i]:[!0]}const Pl=e=>e.key||"";function Dv(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Sm=typeof window<"u",l1=Sm?p.useLayoutEffect:p.useEffect,rM=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:i=!1})=>{const[a,l]=a1(i),c=p.useMemo(()=>Dv(e),[e]),u=i&&!a?[]:c.map(Pl),f=p.useRef(!0),h=p.useRef(c),m=wm(()=>new Map),[v,g]=p.useState(c),[x,y]=p.useState(c);l1(()=>{f.current=!1,h.current=c;for(let b=0;b<x.length;b++){const k=Pl(x[b]);u.includes(k)?m.delete(k):m.get(k)!==!0&&m.set(k,!1)}},[x,u.length,u.join("-")]);const w=[];if(c!==v){let b=[...c];for(let k=0;k<x.length;k++){const _=x[k],C=Pl(_);u.includes(C)||(b.splice(k,0,_),w.push(_))}o==="wait"&&w.length&&(b=w),y(Dv(b)),g(c);return}const{forceRender:S}=p.useContext(vm);return d.jsx(d.Fragment,{children:x.map(b=>{const k=Pl(b),_=i&&!a?!1:c===x||u.includes(k),C=()=>{if(m.has(k))m.set(k,!0);else return;let P=!0;m.forEach(T=>{T||(P=!1)}),P&&(S==null||S(),y(h.current),i&&(l==null||l()),r&&r())};return d.jsx(tM,{isPresent:_,initial:!f.current||n?void 0:!1,custom:_?void 0:t,presenceAffectsLayout:s,mode:o,onExitComplete:_?void 0:C,children:b},k)})})},jt=e=>e;let Ch=jt;function bm(e){let t;return()=>(t===void 0&&(t=e()),t)}const zo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Bn=e=>e*1e3,zn=e=>e/1e3,sM={skipAnimations:!1,useManualTiming:!1};function oM(e){let t=new Set,n=new Set,r=!1,s=!1;const o=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function a(c){o.has(c)&&(l.schedule(c),e()),c(i)}const l={schedule:(c,u=!1,f=!1)=>{const m=f&&r?t:n;return u&&o.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),o.delete(c)},process:c=>{if(i=c,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const El=["read","resolveKeyframes","update","preRender","render","postRender"],iM=40;function c1(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,i=El.reduce((y,w)=>(y[w]=oM(o),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:h}=i,m=()=>{const y=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,iM),1),s.timestamp=y,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),f.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},v=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:El.reduce((y,w)=>{const S=i[w];return y[w]=(b,k=!1,_=!1)=>(n||v(),S.schedule(b,k,_)),y},{}),cancel:y=>{for(let w=0;w<El.length;w++)i[El[w]].cancel(y)},state:s,steps:i}}const{schedule:xe,cancel:Wr,state:qe,steps:Hd}=c1(typeof requestAnimationFrame<"u"?requestAnimationFrame:jt,!0),u1=p.createContext({strict:!1}),Mv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wo={};for(const e in Mv)Wo[e]={isEnabled:t=>Mv[e].some(n=>!!t[n])};function aM(e){for(const t in e)Wo[t]={...Wo[t],...e[t]}}const lM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lM.has(e)}let d1=e=>!Bc(e);function cM(e){e&&(d1=t=>t.startsWith("on")?!Bc(t):e(t))}try{cM(require("@emotion/is-prop-valid").default)}catch{}function uM(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(d1(s)||n===!0&&Bc(s)||!t&&!Bc(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function dM(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Du=p.createContext({});function Ca(e){return typeof e=="string"||Array.isArray(e)}function Mu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const km=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_m=["initial",...km];function Lu(e){return Mu(e.animate)||_m.some(t=>Ca(e[t]))}function f1(e){return!!(Lu(e)||e.variants)}function fM(e,t){if(Lu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ca(n)?n:void 0,animate:Ca(r)?r:void 0}}return e.inherit!==!1?t:{}}function hM(e){const{initial:t,animate:n}=fM(e,p.useContext(Du));return p.useMemo(()=>({initial:t,animate:n}),[Lv(t),Lv(n)])}function Lv(e){return Array.isArray(e)?e.join(" "):e}const pM=Symbol.for("motionComponentSymbol");function co(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mM(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):co(n)&&(n.current=r))},[t])}const Cm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gM="framerAppearId",h1="data-"+Cm(gM),{schedule:Pm,cancel:sB}=c1(queueMicrotask,!1),p1=p.createContext({});function yM(e,t,n,r,s){var o,i;const{visualElement:a}=p.useContext(Du),l=p.useContext(u1),c=p.useContext(Ou),u=p.useContext(xm).reducedMotion,f=p.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,m=p.useContext(p1);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&vM(f.current,n,s,m);const v=p.useRef(!1);p.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const g=n[h1],x=p.useRef(!!g&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,g))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return l1(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Pm.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),p.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),x.current=!1))}),h}function vM(e,t,n,r){const{layoutId:s,layout:o,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:m1(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!i||a&&co(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function m1(e){if(e)return e.options.allowProjection!==!1?e.projection:m1(e.parent)}function wM({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var o,i;e&&aM(e);function a(c,u){let f;const h={...p.useContext(xm),...c,layoutId:xM(c)},{isStatic:m}=h,v=hM(c),g=r(c,m);if(!m&&Sm){SM();const x=bM(h);f=x.MeasureLayout,v.visualElement=yM(s,g,h,t,x.ProjectionNode)}return d.jsxs(Du.Provider,{value:v,children:[f&&v.visualElement?d.jsx(f,{visualElement:v.visualElement,...h}):null,n(s,c,mM(g,v.visualElement,u),g,m,v.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(i=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&i!==void 0?i:""})`}`;const l=p.forwardRef(a);return l[pM]=s,l}function xM({layoutId:e}){const t=p.useContext(vm).id;return t&&e!==void 0?t+"-"+e:e}function SM(e,t){p.useContext(u1).strict}function bM(e){const{drag:t,layout:n}=Wo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const kM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Em(e){return typeof e!="string"||e.includes("-")?!1:!!(kM.indexOf(e)>-1||/[A-Z]/u.test(e))}function Iv(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Tm(e,t,n,r){if(typeof t=="function"){const[s,o]=Iv(r);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=Iv(r);t=t(n!==void 0?n:e.custom,s,o)}return t}const Ph=e=>Array.isArray(e),_M=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),CM=e=>Ph(e)?e[e.length-1]||0:e,st=e=>!!(e&&e.getVelocity);function Zl(e){const t=st(e)?e.get():e;return _M(t)?t.toValue():t}function PM({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,o){const i={latestValues:EM(r,s,o,e),renderState:t()};return n&&(i.onMount=a=>n({props:r,current:a,...i}),i.onUpdate=a=>n(a)),i}const g1=e=>(t,n)=>{const r=p.useContext(Du),s=p.useContext(Ou),o=()=>PM(e,t,r,s);return n?o():wm(o)};function EM(e,t,n,r){const s={},o=r(e,{});for(const h in o)s[h]=Zl(o[h]);let{initial:i,animate:a}=e;const l=Lu(e),c=f1(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||i===!1;const f=u?a:i;if(f&&typeof f!="boolean"&&!Mu(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const v=Tm(e,h[m]);if(v){const{transitionEnd:g,transition:x,...y}=v;for(const w in y){let S=y[w];if(Array.isArray(S)){const b=u?S.length-1:0;S=S[b]}S!==null&&(s[w]=S)}for(const w in g)s[w]=g[w]}}}return s}const si=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$s=new Set(si),y1=e=>t=>typeof t=="string"&&t.startsWith(e),v1=y1("--"),TM=y1("var(--"),jm=e=>TM(e)?jM.test(e.split("/*")[0].trim()):!1,jM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,w1=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xn=(e,t,n)=>n>t?t:n<e?e:n,oi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pa={...oi,transform:e=>Xn(0,1,e)},Tl={...oi,default:1},Wa=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),dr=Wa("deg"),En=Wa("%"),U=Wa("px"),AM=Wa("vh"),RM=Wa("vw"),Fv={...En,parse:e=>En.parse(e)/100,transform:e=>En.transform(e*100)},NM={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U},OM={rotate:dr,rotateX:dr,rotateY:dr,rotateZ:dr,scale:Tl,scaleX:Tl,scaleY:Tl,scaleZ:Tl,skew:dr,skewX:dr,skewY:dr,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:Pa,originX:Fv,originY:Fv,originZ:U},Uv={...oi,transform:Math.round},Am={...NM,...OM,zIndex:Uv,size:U,fillOpacity:Pa,strokeOpacity:Pa,numOctaves:Uv},DM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MM=si.length;function LM(e,t,n){let r="",s=!0;for(let o=0;o<MM;o++){const i=si[o],a=e[i];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(i.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=w1(a,Am[i]);if(!l){s=!1;const u=DM[i]||i;r+=`${u}(${c}) `}n&&(t[i]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Rm(e,t,n){const{style:r,vars:s,transformOrigin:o}=e;let i=!1,a=!1;for(const l in t){const c=t[l];if($s.has(l)){i=!0;continue}else if(v1(l)){s[l]=c;continue}else{const u=w1(c,Am[l]);l.startsWith("origin")?(a=!0,o[l]=u):r[l]=u}}if(t.transform||(i||n?r.transform=LM(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=o;r.transformOrigin=`${l} ${c} ${u}`}}const IM={offset:"stroke-dashoffset",array:"stroke-dasharray"},FM={offset:"strokeDashoffset",array:"strokeDasharray"};function UM(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?IM:FM;e[o.offset]=U.transform(-r);const i=U.transform(t),a=U.transform(n);e[o.array]=`${i} ${a}`}function $v(e,t,n){return typeof e=="string"?e:U.transform(t+n*e)}function $M(e,t,n){const r=$v(t,e.x,e.width),s=$v(n,e.y,e.height);return`${r} ${s}`}function Nm(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},u,f){if(Rm(e,c,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:v}=e;h.transform&&(v&&(m.transform=h.transform),delete h.transform),v&&(s!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=$M(v,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&UM(h,i,a,l,!1)}const Om=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),x1=()=>({...Om(),attrs:{}}),Dm=e=>typeof e=="string"&&e.toLowerCase()==="svg";function S1(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const b1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function k1(e,t,n,r){S1(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(b1.has(s)?s:Cm(s),t.attrs[s])}const zc={};function VM(e){Object.assign(zc,e)}function _1(e,{layout:t,layoutId:n}){return $s.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!zc[e]||e==="opacity")}function Mm(e,t,n){var r;const{style:s}=e,o={};for(const i in s)(st(s[i])||t.style&&st(t.style[i])||_1(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=s[i]);return o}function C1(e,t,n){const r=Mm(e,t,n);for(const s in e)if(st(e[s])||st(t[s])){const o=si.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=e[s]}return r}function BM(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Vv=["x","y","width","height","cx","cy","r"],zM={useVisualState:g1({scrapeMotionValuesFromProps:C1,createRenderState:x1,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let o=!!e.drag;if(!o){for(const a in s)if($s.has(a)){o=!0;break}}if(!o)return;let i=!t;if(t)for(let a=0;a<Vv.length;a++){const l=Vv[a];e[l]!==t[l]&&(i=!0)}i&&xe.read(()=>{BM(n,r),xe.render(()=>{Nm(r,s,Dm(n.tagName),e.transformTemplate),k1(n,r)})})}})},WM={useVisualState:g1({scrapeMotionValuesFromProps:Mm,createRenderState:Om})};function P1(e,t,n){for(const r in t)!st(t[r])&&!_1(r,n)&&(e[r]=t[r])}function HM({transformTemplate:e},t){return p.useMemo(()=>{const n=Om();return Rm(n,t,e),Object.assign({},n.vars,n.style)},[t])}function qM(e,t){const n=e.style||{},r={};return P1(r,n,e),Object.assign(r,HM(e,t)),r}function KM(e,t){const n={},r=qM(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function GM(e,t,n,r){const s=p.useMemo(()=>{const o=x1();return Nm(o,t,Dm(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};P1(o,e.style,e),s.style={...o,...s.style}}return s}function YM(e=!1){return(n,r,s,{latestValues:o},i)=>{const l=(Em(n)?GM:KM)(r,o,i,n),c=uM(r,typeof n=="string",e),u=n!==p.Fragment?{...c,...l,ref:s}:{},{children:f}=r,h=p.useMemo(()=>st(f)?f.get():f,[f]);return p.createElement(n,{...u,children:h})}}function QM(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const i={...Em(r)?zM:WM,preloadedFeatures:e,useRender:YM(s),createVisualElement:t,Component:r};return wM(i)}}function E1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Iu(e,t,n){const r=e.getProps();return Tm(r,t,n!==void 0?n:r.custom,e)}const XM=bm(()=>window.ScrollTimeline!==void 0);class JM{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(XM()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ZM extends JM{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Lm(e,t){return e?e[t]||e.default||e:void 0}const Eh=2e4;function T1(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Eh;)t+=n,r=e.next(t);return t>=Eh?1/0:t}function Im(e){return typeof e=="function"}function Bv(e,t){e.timeline=t,e.onfinish=null}const Fm=e=>Array.isArray(e)&&typeof e[0]=="number",eL={linearEasing:void 0};function tL(e,t){const n=bm(e);return()=>{var r;return(r=eL[t])!==null&&r!==void 0?r:n()}}const Wc=tL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),j1=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)r+=e(zo(0,s-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function A1(e){return!!(typeof e=="function"&&Wc()||!e||typeof e=="string"&&(e in Th||Wc())||Fm(e)||Array.isArray(e)&&e.every(A1))}const Oi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Th={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oi([0,.65,.55,1]),circOut:Oi([.55,0,1,.45]),backIn:Oi([.31,.01,.66,-.59]),backOut:Oi([.33,1.53,.69,.99])};function R1(e,t){if(e)return typeof e=="function"&&Wc()?j1(e,t):Fm(e)?Oi(e):Array.isArray(e)?e.map(n=>R1(n,t)||Th.easeOut):Th[e]}const Kt={x:!1,y:!1};function N1(){return Kt.x||Kt.y}function nL(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const o=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function O1(e,t){const n=nL(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function zv(e){return t=>{t.pointerType==="touch"||N1()||e(t)}}function rL(e,t,n={}){const[r,s,o]=O1(e,n),i=zv(a=>{const{target:l}=a,c=t(a);if(typeof c!="function"||!l)return;const u=zv(f=>{c(f),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,s)});return r.forEach(a=>{a.addEventListener("pointerenter",i,s)}),o}const D1=(e,t)=>t?e===t?!0:D1(e,t.parentElement):!1,Um=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,sL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oL(e){return sL.has(e.tagName)||e.tabIndex!==-1}const Di=new WeakSet;function Wv(e){return t=>{t.key==="Enter"&&e(t)}}function qd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const iL=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Wv(()=>{if(Di.has(n))return;qd(n,"down");const s=Wv(()=>{qd(n,"up")}),o=()=>qd(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Hv(e){return Um(e)&&!N1()}function aL(e,t,n={}){const[r,s,o]=O1(e,n),i=a=>{const l=a.currentTarget;if(!Hv(a)||Di.has(l))return;Di.add(l);const c=t(a),u=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!Hv(m)||!Di.has(l))&&(Di.delete(l),typeof c=="function"&&c(m,{success:v}))},f=m=>{u(m,n.useGlobalTarget||D1(l,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{!oL(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",i,s),a.addEventListener("focus",c=>iL(c,s),s)}),o}function lL(e){return e==="x"||e==="y"?Kt[e]?null:(Kt[e]=!0,()=>{Kt[e]=!1}):Kt.x||Kt.y?null:(Kt.x=Kt.y=!0,()=>{Kt.x=Kt.y=!1})}const M1=new Set(["width","height","top","left","right","bottom",...si]);let ec;function cL(){ec=void 0}const Tn={now:()=>(ec===void 0&&Tn.set(qe.isProcessing||sM.useManualTiming?qe.timestamp:performance.now()),ec),set:e=>{ec=e,queueMicrotask(cL)}};function $m(e,t){e.indexOf(t)===-1&&e.push(t)}function Vm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Bm{constructor(){this.subscriptions=[]}add(t){return $m(this.subscriptions,t),()=>Vm(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function L1(e,t){return t?e*(1e3/t):0}const qv=30,uL=e=>!isNaN(parseFloat(e));class dL{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=Tn.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=uL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Bm);const r=this.events[t].add(n);return t==="change"?()=>{r(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qv);return L1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ea(e,t){return new dL(e,t)}function fL(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ea(n))}function hL(e,t){const n=Iu(e,t);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const i in o){const a=CM(o[i]);fL(e,i,a)}}function pL(e){return!!(st(e)&&e.add)}function jh(e,t){const n=e.getValue("willChange");if(pL(n))return n.add(t)}function I1(e){return e.props[h1]}const F1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,mL=1e-7,gL=12;function yL(e,t,n,r,s){let o,i,a=0;do i=t+(n-t)/2,o=F1(i,r,s)-e,o>0?n=i:t=i;while(Math.abs(o)>mL&&++a<gL);return i}function Ha(e,t,n,r){if(e===t&&n===r)return jt;const s=o=>yL(o,0,1,e,n);return o=>o===0||o===1?o:F1(s(o),t,r)}const U1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$1=e=>t=>1-e(1-t),V1=Ha(.33,1.53,.69,.99),zm=$1(V1),B1=U1(zm),z1=e=>(e*=2)<1?.5*zm(e):.5*(2-Math.pow(2,-10*(e-1))),Wm=e=>1-Math.sin(Math.acos(e)),W1=$1(Wm),H1=U1(Wm),q1=e=>/^0[^.\s]+$/u.test(e);function vL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||q1(e):!0}const Ji=e=>Math.round(e*1e5)/1e5,Hm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wL(e){return e==null}const xL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qm=(e,t)=>n=>!!(typeof n=="string"&&xL.test(n)&&n.startsWith(e)||t&&!wL(n)&&Object.prototype.hasOwnProperty.call(n,t)),K1=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,o,i,a]=r.match(Hm);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},SL=e=>Xn(0,255,e),Kd={...oi,transform:e=>Math.round(SL(e))},vs={test:qm("rgb","red"),parse:K1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Kd.transform(e)+", "+Kd.transform(t)+", "+Kd.transform(n)+", "+Ji(Pa.transform(r))+")"};function bL(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ah={test:qm("#"),parse:bL,transform:vs.transform},uo={test:qm("hsl","hue"),parse:K1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+En.transform(Ji(t))+", "+En.transform(Ji(n))+", "+Ji(Pa.transform(r))+")"},nt={test:e=>vs.test(e)||Ah.test(e)||uo.test(e),parse:e=>vs.test(e)?vs.parse(e):uo.test(e)?uo.parse(e):Ah.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?vs.transform(e):uo.transform(e)},kL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _L(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Hm))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(kL))===null||n===void 0?void 0:n.length)||0)>0}const G1="number",Y1="color",CL="var",PL="var(",Kv="${}",EL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ta(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const a=t.replace(EL,l=>(nt.test(l)?(r.color.push(o),s.push(Y1),n.push(nt.parse(l))):l.startsWith(PL)?(r.var.push(o),s.push(CL),n.push(l)):(r.number.push(o),s.push(G1),n.push(parseFloat(l))),++o,Kv)).split(Kv);return{values:n,split:a,indexes:r,types:s}}function Q1(e){return Ta(e).values}function X1(e){const{split:t,types:n}=Ta(e),r=t.length;return s=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],s[i]!==void 0){const a=n[i];a===G1?o+=Ji(s[i]):a===Y1?o+=nt.transform(s[i]):o+=s[i]}return o}}const TL=e=>typeof e=="number"?0:e;function jL(e){const t=Q1(e);return X1(e)(t.map(TL))}const Hr={test:_L,parse:Q1,createTransformer:X1,getAnimatableNone:jL},AL=new Set(["brightness","contrast","saturate","opacity"]);function RL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Hm)||[];if(!r)return e;const s=n.replace(r,"");let o=AL.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const NL=/\b([a-z-]*)\(.*?\)/gu,Rh={...Hr,getAnimatableNone:e=>{const t=e.match(NL);return t?t.map(RL).join(" "):e}},OL={...Am,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:Rh,WebkitFilter:Rh},Km=e=>OL[e];function J1(e,t){let n=Km(e);return n!==Rh&&(n=Hr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const DL=new Set(["auto","none","0"]);function ML(e,t,n){let r=0,s;for(;r<e.length&&!s;){const o=e[r];typeof o=="string"&&!DL.has(o)&&Ta(o).values.length&&(s=e[r]),r++}if(s&&n)for(const o of t)e[o]=J1(n,s)}const Gv=e=>e===oi||e===U,Yv=(e,t)=>parseFloat(e.split(", ")[t]),Qv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Yv(s[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?Yv(o[1],e):0}},LL=new Set(["x","y","z"]),IL=si.filter(e=>!LL.has(e));function FL(e){const t=[];return IL.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ho={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Qv(4,13),y:Qv(5,14)};Ho.translateX=Ho.x;Ho.translateY=Ho.y;const Cs=new Set;let Nh=!1,Oh=!1;function Z1(){if(Oh){const e=Array.from(Cs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=FL(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,i])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Oh=!1,Nh=!1,Cs.forEach(e=>e.complete()),Cs.clear()}function ek(){Cs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Oh=!0)})}function UL(){ek(),Z1()}class Gm{constructor(t,n,r,s,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Cs.add(this),Nh||(Nh=!0,xe.read(ek),xe.resolveKeyframes(Z1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Cs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Cs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),$L=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VL(e){const t=$L.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function nk(e,t,n=1){const[r,s]=VL(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return tk(i)?parseFloat(i):i}return jm(s)?nk(s,t,n+1):s}const rk=e=>t=>t.test(e),BL={test:e=>e==="auto",parse:e=>e},sk=[oi,U,En,dr,RM,AM,BL],Xv=e=>sk.find(rk(e));class ok extends Gm{constructor(t,n,r,s,o){super(t,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),jm(c))){const u=nk(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!M1.has(r)||t.length!==2)return;const[s,o]=t,i=Xv(s),a=Xv(o);if(i!==a)if(Gv(i)&&Gv(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)vL(t[s])&&r.push(s);r.length&&ML(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ho[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=Ho[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const Jv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hr.test(e)||e==="0")&&!e.startsWith("url("));function zL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function WL(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=Jv(s,t),a=Jv(o,t);return!i||!a?!1:zL(e)||(n==="spring"||Im(n))&&r}const HL=e=>e!==null;function Fu(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(HL),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const qL=40;class ik{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Tn.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&UL(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Tn.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!WL(t,r,s,o))if(i)this.options.duration=0;else{l&&l(Fu(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ce=(e,t,n)=>e+(t-e)*n;function Gd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function KL({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,i=0;if(!t)s=o=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Gd(l,a,e+1/3),o=Gd(l,a,e),i=Gd(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function Hc(e,t){return n=>n>0?t:e}const Yd=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},GL=[Ah,vs,uo],YL=e=>GL.find(t=>t.test(e));function Zv(e){const t=YL(e);if(!t)return!1;let n=t.parse(e);return t===uo&&(n=KL(n)),n}const e0=(e,t)=>{const n=Zv(e),r=Zv(t);if(!n||!r)return Hc(e,t);const s={...n};return o=>(s.red=Yd(n.red,r.red,o),s.green=Yd(n.green,r.green,o),s.blue=Yd(n.blue,r.blue,o),s.alpha=Ce(n.alpha,r.alpha,o),vs.transform(s))},QL=(e,t)=>n=>t(e(n)),qa=(...e)=>e.reduce(QL),Dh=new Set(["none","hidden"]);function XL(e,t){return Dh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function JL(e,t){return n=>Ce(e,t,n)}function Ym(e){return typeof e=="number"?JL:typeof e=="string"?jm(e)?Hc:nt.test(e)?e0:tI:Array.isArray(e)?ak:typeof e=="object"?nt.test(e)?e0:ZL:Hc}function ak(e,t){const n=[...e],r=n.length,s=e.map((o,i)=>Ym(o)(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}}function ZL(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Ym(e[s])(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function eI(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const i=t.types[o],a=e.indexes[i][s[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[o]=l,s[i]++}return r}const tI=(e,t)=>{const n=Hr.createTransformer(t),r=Ta(e),s=Ta(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Dh.has(e)&&!s.values.length||Dh.has(t)&&!r.values.length?XL(e,t):qa(ak(eI(r,s),s.values),n):Hc(e,t)};function lk(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ce(e,t,n):Ym(e)(e,t)}const nI=5;function ck(e,t,n){const r=Math.max(t-nI,0);return L1(n-e(r),t-r)}const je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qd=.001;function rI({duration:e=je.duration,bounce:t=je.bounce,velocity:n=je.velocity,mass:r=je.mass}){let s,o,i=1-t;i=Xn(je.minDamping,je.maxDamping,i),e=Xn(je.minDuration,je.maxDuration,zn(e)),i<1?(s=c=>{const u=c*i,f=u*e,h=u-n,m=Mh(c,i),v=Math.exp(-f);return Qd-h/m*v},o=c=>{const f=c*i*e,h=f*n+n,m=Math.pow(i,2)*Math.pow(c,2)*e,v=Math.exp(-f),g=Mh(Math.pow(c,2),i);return(-s(c)+Qd>0?-1:1)*((h-m)*v)/g}):(s=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-Qd+u*f},o=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const a=5/e,l=oI(s,o,a);if(e=Bn(e),isNaN(l))return{stiffness:je.stiffness,damping:je.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const sI=12;function oI(e,t,n){let r=n;for(let s=1;s<sI;s++)r=r-e(r)/t(r);return r}function Mh(e,t){return e*Math.sqrt(1-t*t)}const iI=["duration","bounce"],aI=["stiffness","damping","mass"];function t0(e,t){return t.some(n=>e[n]!==void 0)}function lI(e){let t={velocity:je.velocity,stiffness:je.stiffness,damping:je.damping,mass:je.mass,isResolvedFromDuration:!1,...e};if(!t0(e,aI)&&t0(e,iI))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Xn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:je.mass,stiffness:s,damping:o}}else{const n=rI(e);t={...t,...n,mass:je.mass},t.isResolvedFromDuration=!0}return t}function uk(e=je.visualDuration,t=je.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=lI({...n,velocity:-zn(n.velocity||0)}),v=h||0,g=c/(2*Math.sqrt(l*u)),x=i-o,y=zn(Math.sqrt(l/u)),w=Math.abs(x)<5;r||(r=w?je.restSpeed.granular:je.restSpeed.default),s||(s=w?je.restDelta.granular:je.restDelta.default);let S;if(g<1){const k=Mh(y,g);S=_=>{const C=Math.exp(-g*y*_);return i-C*((v+g*y*x)/k*Math.sin(k*_)+x*Math.cos(k*_))}}else if(g===1)S=k=>i-Math.exp(-y*k)*(x+(v+y*x)*k);else{const k=y*Math.sqrt(g*g-1);S=_=>{const C=Math.exp(-g*y*_),P=Math.min(k*_,300);return i-C*((v+g*y*x)*Math.sinh(P)+k*x*Math.cosh(P))/k}}const b={calculatedDuration:m&&f||null,next:k=>{const _=S(k);if(m)a.done=k>=f;else{let C=0;g<1&&(C=k===0?Bn(v):ck(S,k,_));const P=Math.abs(C)<=r,T=Math.abs(i-_)<=s;a.done=P&&T}return a.value=a.done?i:_,a},toString:()=>{const k=Math.min(T1(b),Eh),_=j1(C=>b.next(k*C).value,k,30);return k+"ms "+_}};return b}function n0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},m=P=>a!==void 0&&P<a||l!==void 0&&P>l,v=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let g=n*t;const x=f+g,y=i===void 0?x:i(x);y!==x&&(g=y-f);const w=P=>-g*Math.exp(-P/r),S=P=>y+w(P),b=P=>{const T=w(P),A=S(P);h.done=Math.abs(T)<=c,h.value=h.done?y:A};let k,_;const C=P=>{m(h.value)&&(k=P,_=uk({keyframes:[h.value,v(h.value)],velocity:ck(S,P,h.value),damping:s,stiffness:o,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:P=>{let T=!1;return!_&&k===void 0&&(T=!0,b(P),C(P)),k!==void 0&&P>=k?_.next(P-k):(!T&&b(P),h)}}}const cI=Ha(.42,0,1,1),uI=Ha(0,0,.58,1),dk=Ha(.42,0,.58,1),dI=e=>Array.isArray(e)&&typeof e[0]!="number",r0={linear:jt,easeIn:cI,easeInOut:dk,easeOut:uI,circIn:Wm,circInOut:H1,circOut:W1,backIn:zm,backInOut:B1,backOut:V1,anticipate:z1},s0=e=>{if(Fm(e)){Ch(e.length===4);const[t,n,r,s]=e;return Ha(t,n,r,s)}else if(typeof e=="string")return Ch(r0[e]!==void 0),r0[e];return e};function fI(e,t,n){const r=[],s=n||lk,o=e.length-1;for(let i=0;i<o;i++){let a=s(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||jt:t;a=qa(l,a)}r.push(a)}return r}function hI(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(Ch(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=fI(t,r,s),l=a.length,c=u=>{if(i&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=zo(e[f],e[f+1],u);return a[f](h)};return n?u=>c(Xn(e[0],e[o-1],u)):c}function pI(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=zo(0,t,r);e.push(Ce(n,1,s))}}function mI(e){const t=[0];return pI(t,e.length-1),t}function gI(e,t){return e.map(n=>n*t)}function yI(e,t){return e.map(()=>t||dk).splice(0,e.length-1)}function qc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=dI(r)?r.map(s0):s0(r),o={done:!1,value:t[0]},i=gI(n&&n.length===t.length?n:mI(t),e),a=hI(i,t,{ease:Array.isArray(s)?s:yI(t,s)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const vI=e=>{const t=({timestamp:n})=>e(n);return{start:()=>xe.update(t,!0),stop:()=>Wr(t),now:()=>qe.isProcessing?qe.timestamp:Tn.now()}},wI={decay:n0,inertia:n0,tween:qc,keyframes:qc,spring:uk},xI=e=>e/100;class Qm extends ik{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:o}=this.options,i=(s==null?void 0:s.KeyframeResolver)||Gm,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new i(o,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=this.options,a=Im(n)?n:wI[n]||qc;let l,c;a!==qc&&typeof t[0]!="number"&&(l=qa(xI,lk(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});o==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=T1(u));const{calculatedDuration:f}=u,h=f+s,m=h*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:h,repeat:m,repeatType:v,repeatDelay:g,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,b=o;if(m){const P=Math.min(this.currentTime,u)/f;let T=Math.floor(P),A=P%1;!A&&P>=1&&(A=1),A===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(v==="reverse"?(A=1-A,g&&(A-=g/f)):v==="mirror"&&(b=i)),S=Xn(0,1,A)*f}const k=w?{done:!1,value:l[0]}:b.next(S);a&&(k.value=a(k.value));let{done:_}=k;!w&&c!==null&&(_=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return C&&s!==void 0&&(k.value=Fu(l,this.options,s)),x&&x(k.value),C&&this.finish(),k}get duration(){const{resolved:t}=this;return t?zn(t.calculatedDuration):0}get time(){return zn(this.currentTime)}set time(t){t=Bn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=zn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=vI,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const SI=new Set(["opacity","clipPath","filter","transform"]);function bI(e,t,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=R1(a,s);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}const kI=bm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Kc=10,_I=2e4;function CI(e){return Im(e.type)||e.type==="spring"||!A1(e.ease)}function PI(e,t){const n=new Qm({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let o=0;for(;!r.done&&o<_I;)r=n.sample(o),s.push(r.value),o+=Kc;return{times:void 0,keyframes:s,duration:o-Kc,ease:"linear"}}const fk={anticipate:z1,backInOut:B1,circInOut:H1};function EI(e){return e in fk}class o0 extends ik{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:o}=this.options;this.resolver=new ok(o,(i,a)=>this.onKeyframesResolved(i,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:o,type:i,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&Wc()&&EI(o)&&(o=fk[o]),CI(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:v,...g}=this.options,x=PI(t,g);t=x.keyframes,t.length===1&&(t[1]=t[0]),r=x.duration,s=x.times,o=x.ease,i="keyframes"}const u=bI(a.owner.current,l,t,{...this.options,duration:r,times:s,ease:o});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(Bv(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;a.set(Fu(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:i,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return zn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return zn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Bn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return jt;const{animation:r}=n;Bv(r,t)}return jt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:o,ease:i,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:h,...m}=this.options,v=new Qm({...m,keyframes:r,duration:s,type:o,ease:i,times:a,isGenerator:!0}),g=Bn(this.time);c.setWithVelocity(v.sample(g-Kc).value,v.sample(g).value,Kc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:i,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return kI()&&r&&SI.has(r)&&!l&&!c&&!s&&o!=="mirror"&&i!==0&&a!=="inertia"}}const TI={type:"spring",stiffness:500,damping:25,restSpeed:10},jI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),AI={type:"keyframes",duration:.8},RI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NI=(e,{keyframes:t})=>t.length>2?AI:$s.has(e)?e.startsWith("scale")?jI(t[1]):TI:RI;function OI({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Xm=(e,t,n,r={},s,o)=>i=>{const a=Lm(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Bn(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:s};OI(a)||(u={...u,...NI(e,u)}),u.duration&&(u.duration=Bn(u.duration)),u.repeatDelay&&(u.repeatDelay=Bn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!o&&t.get()!==void 0){const h=Fu(u.keyframes,a);if(h!==void 0)return xe.update(()=>{u.onUpdate(h),u.onComplete()}),new ZM([])}return!o&&o0.supports(u)?new o0(u):new Qm(u)};function DI({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function hk(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f,(o=e.latestValues[f])!==null&&o!==void 0?o:null),m=l[f];if(m===void 0||u&&DI(u,f))continue;const v={delay:n,...Lm(i||{},f)};let g=!1;if(window.MotionHandoffAnimation){const y=I1(e);if(y){const w=window.MotionHandoffAnimation(y,f,xe);w!==null&&(v.startTime=w,g=!0)}}jh(e,f),h.start(Xm(f,h,m,e.shouldReduceMotion&&M1.has(f)?{type:!1}:v,e,g));const x=h.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{xe.update(()=>{a&&hL(e,a)})}),c}function Lh(e,t,n={}){var r;const s=Iu(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const i=s?()=>Promise.all(hk(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=o;return MI(e,t,u+c,f,h,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function MI(e,t,n=0,r=0,s=1,o){const i=[],a=(e.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(LI).forEach((c,u)=>{c.notify("AnimationStart",t),i.push(Lh(c,t,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function LI(e,t){return e.sortNodePosition(t)}function II(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>Lh(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=Lh(e,t,n);else{const s=typeof t=="function"?Iu(e,t,n.custom):t;r=Promise.all(hk(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const FI=_m.length;function pk(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?pk(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<FI;n++){const r=_m[n],s=e.props[r];(Ca(s)||s===!1)&&(t[r]=s)}return t}const UI=[...km].reverse(),$I=km.length;function VI(e){return t=>Promise.all(t.map(({animation:n,options:r})=>II(e,n,r)))}function BI(e){let t=VI(e),n=i0(),r=!0;const s=l=>(c,u)=>{var f;const h=Iu(e,u,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:v,...g}=h;c={...c,...g,...v}}return c};function o(l){t=l(e)}function i(l){const{props:c}=e,u=pk(e.parent)||{},f=[],h=new Set;let m={},v=1/0;for(let x=0;x<$I;x++){const y=UI[x],w=n[y],S=c[y]!==void 0?c[y]:u[y],b=Ca(S),k=y===l?w.isActive:null;k===!1&&(v=x);let _=S===u[y]&&S!==c[y]&&b;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),w.protectedKeys={...m},!w.isActive&&k===null||!S&&!w.prevProp||Mu(S)||typeof S=="boolean")continue;const C=zI(w.prevProp,S);let P=C||y===l&&w.isActive&&!_&&b||x>v&&b,T=!1;const A=Array.isArray(S)?S:[S];let I=A.reduce(s(y),{});k===!1&&(I={});const{prevResolvedValues:M={}}=w,Y={...M,...I},z=F=>{P=!0,h.has(F)&&(T=!0,h.delete(F)),w.needsAnimating[F]=!0;const E=e.getValue(F);E&&(E.liveStyle=!1)};for(const F in Y){const E=I[F],N=M[F];if(m.hasOwnProperty(F))continue;let L=!1;Ph(E)&&Ph(N)?L=!E1(E,N):L=E!==N,L?E!=null?z(F):h.add(F):E!==void 0&&h.has(F)?z(F):w.protectedKeys[F]=!0}w.prevProp=S,w.prevResolvedValues=I,w.isActive&&(m={...m,...I}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(_&&C)||T)&&f.push(...A.map(F=>({animation:F,options:{type:y}})))}if(h.size){const x={};h.forEach(y=>{const w=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),x[y]=w??null}),f.push({animation:x})}let g=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=i(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:i,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=i0(),r=!0}}}function zI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!E1(t,e):!1}function as(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i0(){return{animate:as(!0),whileInView:as(),whileHover:as(),whileTap:as(),whileDrag:as(),whileFocus:as(),exit:as()}}class rs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class WI extends rs{constructor(t){super(t),t.animationState||(t.animationState=BI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Mu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let HI=0;class qI extends rs{constructor(){super(...arguments),this.id=HI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const KI={animation:{Feature:WI},exit:{Feature:qI}};function ja(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ka(e){return{point:{x:e.pageX,y:e.pageY}}}const GI=e=>t=>Um(t)&&e(t,Ka(t));function Zi(e,t,n,r){return ja(e,t,GI(n),r)}const a0=(e,t)=>Math.abs(e-t);function YI(e,t){const n=a0(e.x,t.x),r=a0(e.y,t.y);return Math.sqrt(n**2+r**2)}class mk{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Jd(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=YI(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:v}=f,{timestamp:g}=qe;this.history.push({...v,timestamp:g});const{onStart:x,onMove:y}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Xd(h,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Jd(f.type==="pointercancel"?this.lastMoveEventInfo:Xd(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),v&&v(f,x)},!Um(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=Ka(t),a=Xd(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=qe;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,Jd(a,this.history)),this.removeListeners=qa(Zi(this.contextWindow,"pointermove",this.handlePointerMove),Zi(this.contextWindow,"pointerup",this.handlePointerUp),Zi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wr(this.updatePoint)}}function Xd(e,t){return t?{point:t(e.point)}:e}function l0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Jd({point:e},t){return{point:e,delta:l0(e,gk(t)),offset:l0(e,QI(t)),velocity:XI(t,.1)}}function QI(e){return e[0]}function gk(e){return e[e.length-1]}function XI(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=gk(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Bn(t)));)n--;if(!r)return{x:0,y:0};const o=zn(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}const yk=1e-4,JI=1-yk,ZI=1+yk,vk=.01,eF=0-vk,tF=0+vk;function Nt(e){return e.max-e.min}function nF(e,t,n){return Math.abs(e-t)<=n}function c0(e,t,n,r=.5){e.origin=r,e.originPoint=Ce(t.min,t.max,e.origin),e.scale=Nt(n)/Nt(t),e.translate=Ce(n.min,n.max,e.origin)-e.originPoint,(e.scale>=JI&&e.scale<=ZI||isNaN(e.scale))&&(e.scale=1),(e.translate>=eF&&e.translate<=tF||isNaN(e.translate))&&(e.translate=0)}function ea(e,t,n,r){c0(e.x,t.x,n.x,r?r.originX:void 0),c0(e.y,t.y,n.y,r?r.originY:void 0)}function u0(e,t,n){e.min=n.min+t.min,e.max=e.min+Nt(t)}function rF(e,t,n){u0(e.x,t.x,n.x),u0(e.y,t.y,n.y)}function d0(e,t,n){e.min=t.min-n.min,e.max=e.min+Nt(t)}function ta(e,t,n){d0(e.x,t.x,n.x),d0(e.y,t.y,n.y)}function sF(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ce(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ce(n,e,r.max):Math.min(e,n)),e}function f0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function oF(e,{top:t,left:n,bottom:r,right:s}){return{x:f0(e.x,n,s),y:f0(e.y,t,r)}}function h0(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function iF(e,t){return{x:h0(e.x,t.x),y:h0(e.y,t.y)}}function aF(e,t){let n=.5;const r=Nt(e),s=Nt(t);return s>r?n=zo(t.min,t.max-r,e.min):r>s&&(n=zo(e.min,e.max-s,t.min)),Xn(0,1,n)}function lF(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ih=.35;function cF(e=Ih){return e===!1?e=0:e===!0&&(e=Ih),{x:p0(e,"left","right"),y:p0(e,"top","bottom")}}function p0(e,t,n){return{min:m0(e,t),max:m0(e,n)}}function m0(e,t){return typeof e=="number"?e:e[t]||0}const g0=()=>({translate:0,scale:1,origin:0,originPoint:0}),fo=()=>({x:g0(),y:g0()}),y0=()=>({min:0,max:0}),Re=()=>({x:y0(),y:y0()});function Lt(e){return[e("x"),e("y")]}function wk({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function uF({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dF(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zd(e){return e===void 0||e===1}function Fh({scale:e,scaleX:t,scaleY:n}){return!Zd(e)||!Zd(t)||!Zd(n)}function fs(e){return Fh(e)||xk(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function xk(e){return v0(e.x)||v0(e.y)}function v0(e){return e&&e!=="0%"}function Gc(e,t,n){const r=e-n,s=t*r;return n+s}function w0(e,t,n,r,s){return s!==void 0&&(e=Gc(e,s,r)),Gc(e,n,r)+t}function Uh(e,t=0,n=1,r,s){e.min=w0(e.min,t,n,r,s),e.max=w0(e.max,t,n,r,s)}function Sk(e,{x:t,y:n}){Uh(e.x,t.translate,t.scale,t.originPoint),Uh(e.y,n.translate,n.scale,n.originPoint)}const x0=.999999999999,S0=1.0000000000001;function fF(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,i;for(let a=0;a<s;a++){o=n[a],i=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&po(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Sk(e,i)),r&&fs(o.latestValues)&&po(e,o.latestValues))}t.x<S0&&t.x>x0&&(t.x=1),t.y<S0&&t.y>x0&&(t.y=1)}function ho(e,t){e.min=e.min+t,e.max=e.max+t}function b0(e,t,n,r,s=.5){const o=Ce(e.min,e.max,s);Uh(e,t,n,o,r)}function po(e,t){b0(e.x,t.x,t.scaleX,t.scale,t.originX),b0(e.y,t.y,t.scaleY,t.scale,t.originY)}function bk(e,t){return wk(dF(e.getBoundingClientRect(),t))}function hF(e,t,n){const r=bk(e,n),{scroll:s}=t;return s&&(ho(r.x,s.offset.x),ho(r.y,s.offset.y)),r}const kk=({current:e})=>e?e.ownerDocument.defaultView:null,pF=new WeakMap;class mF{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ka(u).point)},o=(u,f)=>{const{drag:h,dragPropagation:m,onDragStart:v}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lL(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lt(x=>{let y=this.getAxisMotionValue(x).get()||0;if(En.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[x];S&&(y=Nt(S)*(parseFloat(y)/100))}}this.originPoint[x]=y}),v&&xe.postRender(()=>v(u,f)),jh(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},i=(u,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:v,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=gF(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),g&&g(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Lt(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new mk(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:kk(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&xe.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!jl(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=sF(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&co(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=oF(s.layoutBox,n):this.constraints=!1,this.elastic=cF(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Lt(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=lF(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!co(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=hF(r,s.root,this.visualElement.getTransformPagePoint());let i=iF(s.layout.layoutBox,o);if(n){const a=n(uF(i));this.hasMutatedConstraints=!!a,a&&(i=wk(a))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Lt(u=>{if(!jl(u,n,this.currentDirection))return;let f=l&&l[u]||{};i&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return jh(this.visualElement,t),r.start(Xm(t,r,0,n,this.visualElement,!1))}stopAnimation(){Lt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Lt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Lt(n=>{const{drag:r}=this.getProps();if(!jl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:a}=s.layout.layoutBox[n];o.set(t[n]-Ce(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!co(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Lt(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();s[i]=aF({min:l,max:l},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Lt(i=>{if(!jl(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(Ce(l,c,s[i]))})}addListeners(){if(!this.visualElement.current)return;pF.set(this.visualElement,this);const t=this.visualElement.current,n=Zi(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();co(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xe.read(r);const i=ja(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Lt(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=Ih,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function jl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gF(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class yF extends rs{constructor(t){super(t),this.removeGroupControls=jt,this.removeListeners=jt,this.controls=new mF(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const k0=e=>(t,n)=>{e&&xe.postRender(()=>e(t,n))};class vF extends rs{constructor(){super(...arguments),this.removePointerDownListener=jt}onPointerDown(t){this.session=new mk(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kk(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:k0(t),onStart:k0(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&xe.postRender(()=>s(o,i))}}}mount(){this.removePointerDownListener=Zi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ei={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(U.test(e))e=parseFloat(e);else return e;const n=_0(e,t.target.x),r=_0(e,t.target.y);return`${n}% ${r}%`}},wF={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Hr.parse(e);if(s.length>5)return r;const o=Hr.createTransformer(e),i=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+i]/=a,s[1+i]/=l;const c=Ce(a,l,.5);return typeof s[2+i]=="number"&&(s[2+i]/=c),typeof s[3+i]=="number"&&(s[3+i]/=c),o(s)}};class xF extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;VM(SF),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),tc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||xe.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Pm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _k(e){const[t,n]=a1(),r=p.useContext(vm);return d.jsx(xF,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(p1),isPresent:t,safeToRemove:n})}const SF={borderRadius:{...Ei,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ei,borderTopRightRadius:Ei,borderBottomLeftRadius:Ei,borderBottomRightRadius:Ei,boxShadow:wF};function bF(e,t,n){const r=st(e)?e:Ea(e);return r.start(Xm("",r,t,n)),r.animation}function kF(e){return e instanceof SVGElement&&e.tagName!=="svg"}const _F=(e,t)=>e.depth-t.depth;class CF{constructor(){this.children=[],this.isDirty=!1}add(t){$m(this.children,t),this.isDirty=!0}remove(t){Vm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_F),this.isDirty=!1,this.children.forEach(t)}}function PF(e,t){const n=Tn.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(Wr(r),e(o-t))};return xe.read(r,!0),()=>Wr(r)}const Ck=["TopLeft","TopRight","BottomLeft","BottomRight"],EF=Ck.length,C0=e=>typeof e=="string"?parseFloat(e):e,P0=e=>typeof e=="number"||U.test(e);function TF(e,t,n,r,s,o){s?(e.opacity=Ce(0,n.opacity!==void 0?n.opacity:1,jF(r)),e.opacityExit=Ce(t.opacity!==void 0?t.opacity:1,0,AF(r))):o&&(e.opacity=Ce(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<EF;i++){const a=`border${Ck[i]}Radius`;let l=E0(t,a),c=E0(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||P0(l)===P0(c)?(e[a]=Math.max(Ce(C0(l),C0(c),r),0),(En.test(c)||En.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Ce(t.rotate||0,n.rotate||0,r))}function E0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const jF=Pk(0,.5,W1),AF=Pk(.5,.95,jt);function Pk(e,t,n){return r=>r<e?0:r>t?1:n(zo(e,t,r))}function T0(e,t){e.min=t.min,e.max=t.max}function Mt(e,t){T0(e.x,t.x),T0(e.y,t.y)}function j0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function A0(e,t,n,r,s){return e-=t,e=Gc(e,1/n,r),s!==void 0&&(e=Gc(e,1/s,r)),e}function RF(e,t=0,n=1,r=.5,s,o=e,i=e){if(En.test(t)&&(t=parseFloat(t),t=Ce(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=Ce(o.min,o.max,r);e===o&&(a-=t),e.min=A0(e.min,t,n,a,s),e.max=A0(e.max,t,n,a,s)}function R0(e,t,[n,r,s],o,i){RF(e,t[n],t[r],t[s],t.scale,o,i)}const NF=["x","scaleX","originX"],OF=["y","scaleY","originY"];function N0(e,t,n,r){R0(e.x,t,NF,n?n.x:void 0,r?r.x:void 0),R0(e.y,t,OF,n?n.y:void 0,r?r.y:void 0)}function O0(e){return e.translate===0&&e.scale===1}function Ek(e){return O0(e.x)&&O0(e.y)}function D0(e,t){return e.min===t.min&&e.max===t.max}function DF(e,t){return D0(e.x,t.x)&&D0(e.y,t.y)}function M0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Tk(e,t){return M0(e.x,t.x)&&M0(e.y,t.y)}function L0(e){return Nt(e.x)/Nt(e.y)}function I0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class MF{constructor(){this.members=[]}add(t){$m(this.members,t),t.scheduleRender()}remove(t){if(Vm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LF(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y,i=(n==null?void 0:n.z)||0;if((s||o||i)&&(r=`translate3d(${s}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const hs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Mi=typeof window<"u"&&window.MotionDebug!==void 0,ef=["","X","Y","Z"],IF={visibility:"hidden"},F0=1e3;let FF=0;function tf(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function jk(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=I1(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",xe,!(s||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&jk(r)}function Ak({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},a=t==null?void 0:t()){this.id=FF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mi&&(hs.totalNodes=hs.resolvedTargetDeltas=hs.recalculatedProjection=0),this.nodes.forEach(VF),this.nodes.forEach(qF),this.nodes.forEach(KF),this.nodes.forEach(BF),Mi&&window.MotionDebug.record(hs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new CF)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Bm),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kF(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=PF(h,250),tc.hasAnimatedSinceResize&&(tc.hasAnimatedSinceResize=!1,this.nodes.forEach($0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||JF,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!Tk(this.targetLayout,v)||m,S=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const b={...Lm(g,"layout"),onPlay:x,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||$0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GF),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(U0);return}this.isUpdating||this.nodes.forEach(WF),this.isUpdating=!1,this.nodes.forEach(HF),this.nodes.forEach(UF),this.nodes.forEach($F),this.clearAllSnapshots();const a=Tn.now();qe.delta=Xn(0,1e3/60,a-qe.timestamp),qe.timestamp=a,qe.isProcessing=!0,Hd.update.process(qe),Hd.preRender.process(qe),Hd.render.process(qe),qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zF),this.sharedNodes.forEach(YF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Ek(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&(a||fs(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),ZF(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return Re();const l=a.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(eU))){const{scroll:u}=this.root;u&&(ho(l.x,u.offset.x),ho(l.y,u.offset.y))}return l}removeElementScroll(i){var a;const l=Re();if(Mt(l,i),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Mt(l,i),ho(l.x,f.offset.x),ho(l.y,f.offset.y))}return l}applyTransform(i,a=!1){const l=Re();Mt(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&po(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),fs(u.latestValues)&&po(l,u.latestValues)}return fs(this.latestValues)&&po(l,this.latestValues),l}removeTransform(i){const a=Re();Mt(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!fs(c.latestValues))continue;Fh(c.latestValues)&&c.updateSnapshot();const u=Re(),f=c.measurePageBox();Mt(u,f),N0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return fs(this.latestValues)&&N0(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=qe.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),ta(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mt(this.target,this.layout.layoutBox),Sk(this.target,this.targetDelta)):Mt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),ta(this.relativeTargetOrigin,this.target,m.target),Mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mi&&hs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Fh(this.parent.latestValues)||xk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===qe.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Mt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;fF(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Re());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(j0(this.prevProjectionDelta.x,this.projectionDelta.x),j0(this.prevProjectionDelta.y,this.projectionDelta.y)),ea(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!I0(this.projectionDelta.x,this.prevProjectionDelta.x)||!I0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Mi&&hs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fo(),this.projectionDelta=fo(),this.projectionDeltaWithTransform=fo()}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Re(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,x=this.getStack(),y=!x||x.members.length<=1,w=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(XF));this.animationProgress=0;let S;this.mixTargetDelta=b=>{const k=b/1e3;V0(f.x,i.x,k),V0(f.y,i.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ta(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QF(this.relativeTarget,this.relativeTargetOrigin,h,k),S&&DF(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Re()),Mt(S,this.relativeTarget)),g&&(this.animationValues=u,TF(u,c,this.latestValues,k,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{tc.hasAnimatedSinceResize=!0,this.currentAnimation=bF(0,F0,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(F0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&Rk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Re();const f=Nt(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+f;const h=Nt(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}Mt(a,l),po(a,u),ea(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new MF),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&tf("z",i,c,this.animationValues);for(let u=0;u<ef.length;u++)tf(`rotate${ef[u]}`,i,c,this.animationValues),tf(`skew${ef[u]}`,i,c,this.animationValues);i.render();for(const u in c)i.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return IF;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Zl(i==null?void 0:i.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Zl(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!fs(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=LF(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in zc){if(h[g]===void 0)continue;const{correct:x,applyTo:y}=zc[g],w=c.transform==="none"?h[g]:x(h[g],f);if(y){const S=y.length;for(let b=0;b<S;b++)c[y[b]]=w}else c[g]=w}return this.options.layoutId&&(c.pointerEvents=f===this?Zl(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(U0),this.root.sharedNodes.clear()}}}function UF(e){e.updateLayout()}function $F(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;o==="size"?Lt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],m=Nt(h);h.min=r[f].min,h.max=h.min+m}):Rk(o,n.layoutBox,r)&&Lt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],m=Nt(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=fo();ea(a,r,n.layoutBox);const l=fo();i?ea(l,e.applyTransform(s,!0),n.measuredBox):ea(l,r,n.layoutBox);const c=!Ek(a);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const v=Re();ta(v,n.layoutBox,h.layoutBox);const g=Re();ta(g,r,m.layoutBox),Tk(v,g)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function VF(e){Mi&&hs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function BF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zF(e){e.clearSnapshot()}function U0(e){e.clearMeasurements()}function WF(e){e.isLayoutDirty=!1}function HF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qF(e){e.resolveTargetDelta()}function KF(e){e.calcProjection()}function GF(e){e.resetSkewAndRotation()}function YF(e){e.removeLeadSnapshot()}function V0(e,t,n){e.translate=Ce(t.translate,0,n),e.scale=Ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function B0(e,t,n,r){e.min=Ce(t.min,n.min,r),e.max=Ce(t.max,n.max,r)}function QF(e,t,n,r){B0(e.x,t.x,n.x,r),B0(e.y,t.y,n.y,r)}function XF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const JF={duration:.45,ease:[.4,0,.1,1]},z0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),W0=z0("applewebkit/")&&!z0("chrome/")?Math.round:jt;function H0(e){e.min=W0(e.min),e.max=W0(e.max)}function ZF(e){H0(e.x),H0(e.y)}function Rk(e,t,n){return e==="position"||e==="preserve-aspect"&&!nF(L0(t),L0(n),.2)}function eU(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const tU=Ak({attachResizeListener:(e,t)=>ja(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nf={current:void 0},Nk=Ak({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nf.current){const e=new tU({});e.mount(window),e.setOptions({layoutScroll:!0}),nf.current=e}return nf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nU={pan:{Feature:vF},drag:{Feature:yF,ProjectionNode:Nk,MeasureLayout:_k}};function q0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&xe.postRender(()=>o(t,Ka(t)))}class rU extends rs{mount(){const{current:t}=this.node;t&&(this.unmount=rL(t,n=>(q0(this.node,n,"Start"),r=>q0(this.node,r,"End"))))}unmount(){}}class sU extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qa(ja(this.node.current,"focus",()=>this.onFocus()),ja(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function K0(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&xe.postRender(()=>o(t,Ka(t)))}class oU extends rs{mount(){const{current:t}=this.node;t&&(this.unmount=aL(t,n=>(K0(this.node,n,"Start"),(r,{success:s})=>K0(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $h=new WeakMap,rf=new WeakMap,iU=e=>{const t=$h.get(e.target);t&&t(e)},aU=e=>{e.forEach(iU)};function lU({root:e,...t}){const n=e||document;rf.has(n)||rf.set(n,{});const r=rf.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(aU,{root:e,...t})),r[s]}function cU(e,t,n){const r=lU(t);return $h.set(e,n),r.observe(e),()=>{$h.delete(e),r.unobserve(e)}}const uU={some:0,all:1};class dU extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:uU[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return cU(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(fU(t,n))&&this.startObserver()}unmount(){}}function fU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const hU={inView:{Feature:dU},tap:{Feature:oU},focus:{Feature:sU},hover:{Feature:rU}},pU={layout:{ProjectionNode:Nk,MeasureLayout:_k}},Vh={current:null},Ok={current:!1};function mU(){if(Ok.current=!0,!!Sm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vh.current=e.matches;e.addListener(t),t()}else Vh.current=!1}const gU=[...sk,nt,Hr],yU=e=>gU.find(rk(e)),G0=new WeakMap;function vU(e,t,n){for(const r in t){const s=t[r],o=n[r];if(st(s))e.addValue(r,s);else if(st(o))e.addValue(r,Ea(s,{owner:e}));else if(o!==s)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(r);e.addValue(r,Ea(i!==void 0?i:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Y0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wU{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Tn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,xe.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=i;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=Lu(n),this.isVariantNode=f1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const v=h[m];l[m]!==void 0&&st(v)&&v.set(l[m],!1)}}mount(t){this.current=t,G0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ok.current||mU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){G0.delete(this.current),this.projection&&this.projection.unmount(),Wr(this.notifyUpdate),Wr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=$s.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wo){const n=Wo[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Y0.length;r++){const s=Y0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=t[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=vU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ea(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(tk(s)||q1(s))?s=parseFloat(s):!yU(s)&&Hr.test(n)&&(s=J1(t,n)),this.setBaseTarget(t,st(s)?s.get():s)),st(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=Tm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(s=i[t])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!st(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Bm),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Dk extends wU{constructor(){super(...arguments),this.KeyframeResolver=ok}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;st(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xU(e){return window.getComputedStyle(e)}class SU extends Dk{constructor(){super(...arguments),this.type="html",this.renderInstance=S1}readValueFromInstance(t,n){if($s.has(n)){const r=Km(n);return r&&r.default||0}else{const r=xU(t),s=(v1(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return bk(t,n)}build(t,n,r){Rm(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Mm(t,n,r)}}class bU extends Dk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Re}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if($s.has(n)){const r=Km(n);return r&&r.default||0}return n=b1.has(n)?n:Cm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return C1(t,n,r)}build(t,n,r){Nm(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){k1(t,n,r,s)}mount(t){this.isSVGTag=Dm(t.tagName),super.mount(t)}}const kU=(e,t)=>Em(e)?new bU(t):new SU(t,{allowProjection:e!==p.Fragment}),_U=QM({...KI,...hU,...nU,...pU},kU),Wn=dM(_U);function Q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function CU(e,t){const n=p.createContext(t),r=o=>{const{children:i,...a}=o,l=p.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=p.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function ii(e,t=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];const c=f=>{var y;const{scope:h,children:m,...v}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[l])||a,x=p.useMemo(()=>v,Object.values(v));return d.jsx(g.Provider,{value:x,children:m})};c.displayName=o+"Provider";function u(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[l])||a,v=p.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,PU(s,...t)]}function PU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Be=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},EU=Uw.useId||(()=>{}),TU=0;function Ps(e){const[t,n]=p.useState(EU());return Be(()=>{n(r=>r??String(TU++))},[e]),t?`radix-${t}`:""}function Ke(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Aa({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=jU({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,a=Ke(n),l=p.useCallback(c=>{if(o){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else s(c)},[o,e,s,a]);return[i,l]}function jU({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,s=p.useRef(r),o=Ke(t);return p.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var AU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],X=AU.reduce((e,t)=>{const n=p.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?Ns:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function RU(e,t){e&&Jo.flushSync(()=>e.dispatchEvent(t))}function NU(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var OU="DismissableLayer",Bh="dismissableLayer.update",DU="dismissableLayer.pointerDownOutside",MU="dismissableLayer.focusOutside",Q0,Mk=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uu=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=p.useContext(Mk),[u,f]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),v=oe(t,C=>f(C)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),w=u?g.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,b=w>=y,k=FU(C=>{const P=C.target,T=[...c.branches].some(A=>A.contains(P));!b||T||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},h),_=UU(C=>{const P=C.target;[...c.branches].some(A=>A.contains(P))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},h);return NU(C=>{w===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),p.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Q0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),X0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Q0)}},[u,h,n,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),X0())},[u,c]),p.useEffect(()=>{const C=()=>m({});return document.addEventListener(Bh,C),()=>document.removeEventListener(Bh,C)},[]),d.jsx(X.div,{...l,ref:v,style:{pointerEvents:S?b?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,k.onPointerDownCapture)})});Uu.displayName=OU;var LU="DismissableLayerBranch",IU=p.forwardRef((e,t)=>{const n=p.useContext(Mk),r=p.useRef(null),s=oe(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),d.jsx(X.div,{...e,ref:s})});IU.displayName=LU;function FU(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){Lk(DU,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function UU(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&Lk(MU,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function X0(){const e=new CustomEvent(Bh);document.dispatchEvent(e)}function Lk(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?RU(s,o):s.dispatchEvent(o)}var sf="focusScope.autoFocusOnMount",of="focusScope.autoFocusOnUnmount",J0={bubbles:!1,cancelable:!0},$U="FocusScope",Jm=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=p.useState(null),c=Ke(s),u=Ke(o),f=p.useRef(null),h=oe(t,g=>l(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(S){if(m.paused||!a)return;const b=S.target;a.contains(b)?f.current=b:fr(f.current,{select:!0})},x=function(S){if(m.paused||!a)return;const b=S.relatedTarget;b!==null&&(a.contains(b)||fr(f.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const k of S)k.removedNodes.length>0&&fr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,m.paused]),p.useEffect(()=>{if(a){ew.add(m);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(sf,J0);a.addEventListener(sf,c),a.dispatchEvent(y),y.defaultPrevented||(VU(qU(Ik(a)),{select:!0}),document.activeElement===g&&fr(a))}return()=>{a.removeEventListener(sf,c),setTimeout(()=>{const y=new CustomEvent(of,J0);a.addEventListener(of,u),a.dispatchEvent(y),y.defaultPrevented||fr(g??document.body,{select:!0}),a.removeEventListener(of,u),ew.remove(m)},0)}}},[a,c,u,m]);const v=p.useCallback(g=>{if(!n&&!r||m.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const w=g.currentTarget,[S,b]=BU(w);S&&b?!g.shiftKey&&y===b?(g.preventDefault(),n&&fr(S,{select:!0})):g.shiftKey&&y===S&&(g.preventDefault(),n&&fr(b,{select:!0})):y===w&&g.preventDefault()}},[n,r,m.paused]);return d.jsx(X.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});Jm.displayName=$U;function VU(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fr(r,{select:t}),document.activeElement!==n)return}function BU(e){const t=Ik(e),n=Z0(t,e),r=Z0(t.reverse(),e);return[n,r]}function Ik(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Z0(e,t){for(const n of e)if(!zU(n,{upTo:t}))return n}function zU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function WU(e){return e instanceof HTMLInputElement&&"select"in e}function fr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&WU(e)&&t&&e.select()}}var ew=HU();function HU(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=tw(e,t),e.unshift(t)},remove(t){var n;e=tw(e,t),(n=e[0])==null||n.resume()}}}function tw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function qU(e){return e.filter(t=>t.tagName!=="A")}var KU="Portal",Zm=p.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=p.useState(!1);Be(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?JT.createPortal(d.jsx(X.div,{...r,ref:t}),i):null});Zm.displayName=KU;function GU(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var rr=e=>{const{present:t,children:n}=e,r=YU(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=oe(r.ref,QU(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};rr.displayName="Presence";function YU(e){const[t,n]=p.useState(),r=p.useRef({}),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[a,l]=GU(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Al(r.current);o.current=a==="mounted"?c:"none"},[a]),Be(()=>{const c=r.current,u=s.current;if(u!==e){const h=o.current,m=Al(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Be(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=m=>{const g=Al(r.current).includes(m.animationName);if(m.target===t&&g&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(o.current=Al(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Al(e){return(e==null?void 0:e.animationName)||"none"}function QU(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var af=0;function Fk(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nw()),document.body.insertAdjacentElement("beforeend",e[1]??nw()),af++,()=>{af===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),af--}},[])}function nw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _n=function(){return _n=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_n.apply(this,arguments)};function Uk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function XU(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var nc="right-scroll-bar-position",rc="width-before-scroll-bar",JU="with-scroll-bars-hidden",ZU="--removed-body-scroll-bar-size";function lf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function e$(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var t$=typeof window<"u"?p.useLayoutEffect:p.useEffect,rw=new WeakMap;function n$(e,t){var n=e$(null,function(r){return e.forEach(function(s){return lf(s,r)})});return t$(function(){var r=rw.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||lf(a,null)}),o.forEach(function(a){s.has(a)||lf(a,i)})}rw.set(n,e)},[e]),n}function r$(e){return e}function s$(e,t){t===void 0&&(t=r$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var u=i;i=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),n}}}};return s}function o$(e){e===void 0&&(e={});var t=s$(null);return t.options=_n({async:!0,ssr:!1},e),t}var $k=function(e){var t=e.sideCar,n=Uk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,_n({},n))};$k.isSideCarExport=!0;function i$(e,t){return e.useMedium(t),$k}var Vk=o$(),cf=function(){},$u=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:cf,onWheelCapture:cf,onTouchMoveCapture:cf}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,v=e.inert,g=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,w=e.gapMode,S=Uk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,k=n$([n,t]),_=_n(_n({},S),s);return p.createElement(p.Fragment,null,u&&p.createElement(b,{sideCar:Vk,removeScrollBar:c,shards:f,noIsolation:m,inert:v,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),i?p.cloneElement(p.Children.only(a),_n(_n({},_),{ref:k})):p.createElement(y,_n({},_,{className:l,ref:k}),a))});$u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$u.classNames={fullWidth:rc,zeroRight:nc};var a$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function l$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a$();return t&&e.setAttribute("nonce",t),e}function c$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function u$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var d$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=l$())&&(c$(t,n),u$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},f$=function(){var e=d$();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Bk=function(){var e=f$(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},h$={left:0,top:0,right:0,gap:0},uf=function(e){return parseInt(e||"",10)||0},p$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[uf(n),uf(r),uf(s)]},m$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return h$;var t=p$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},g$=Bk(),ko="data-scroll-locked",y$=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(JU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(rc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(nc," .").concat(nc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rc," .").concat(rc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(ZU,": ").concat(a,`px;
  }
`)},sw=function(){var e=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(e)?e:0},v$=function(){p.useEffect(function(){return document.body.setAttribute(ko,(sw()+1).toString()),function(){var e=sw()-1;e<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,e.toString())}},[])},w$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;v$();var o=p.useMemo(function(){return m$(s)},[s]);return p.createElement(g$,{styles:y$(o,!t,s,n?"":"!important")})},zh=!1;if(typeof window<"u")try{var Rl=Object.defineProperty({},"passive",{get:function(){return zh=!0,!0}});window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{zh=!1}var qs=zh?{passive:!1}:!1,x$=function(e){return e.tagName==="TEXTAREA"},zk=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!x$(e)&&n[t]==="visible")},S$=function(e){return zk(e,"overflowY")},b$=function(e){return zk(e,"overflowX")},ow=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Wk(e,r);if(s){var o=Hk(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},k$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},_$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Wk=function(e,t){return e==="v"?S$(t):b$(t)},Hk=function(e,t){return e==="v"?k$(t):_$(t)},C$=function(e,t){return e==="h"&&t==="rtl"?-1:1},P$=function(e,t,n,r,s){var o=C$(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),c=!1,u=i>0,f=0,h=0;do{var m=Hk(e,a),v=m[0],g=m[1],x=m[2],y=g-x-o*v;(v||y)&&Wk(e,a)&&(f+=y,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(c=!0),c},Nl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},iw=function(e){return[e.deltaX,e.deltaY]},aw=function(e){return e&&"current"in e?e.current:e},E$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},T$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},j$=0,Ks=[];function A$(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(j$++)[0],o=p.useState(Bk)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=XU([e.lockRef.current],(e.shards||[]).map(aw),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=Nl(g),w=n.current,S="deltaX"in g?g.deltaX:w[0]-y[0],b="deltaY"in g?g.deltaY:w[1]-y[1],k,_=g.target,C=Math.abs(S)>Math.abs(b)?"h":"v";if("touches"in g&&C==="h"&&_.type==="range")return!1;var P=ow(C,_);if(!P)return!0;if(P?k=C:(k=C==="v"?"h":"v",P=ow(C,_)),!P)return!1;if(!r.current&&"changedTouches"in g&&(S||b)&&(r.current=k),!k)return!0;var T=r.current||k;return P$(T,x,g,T==="h"?S:b,!0)},[]),l=p.useCallback(function(g){var x=g;if(!(!Ks.length||Ks[Ks.length-1]!==o)){var y="deltaY"in x?iw(x):Nl(x),w=t.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&E$(k.delta,y)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var S=(i.current.shards||[]).map(aw).filter(Boolean).filter(function(k){return k.contains(x.target)}),b=S.length>0?a(x,S[0]):!i.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),c=p.useCallback(function(g,x,y,w){var S={name:g,delta:x,target:y,should:w,shadowParent:R$(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(b){return b!==S})},1)},[]),u=p.useCallback(function(g){n.current=Nl(g),r.current=void 0},[]),f=p.useCallback(function(g){c(g.type,iw(g),g.target,a(g,e.lockRef.current))},[]),h=p.useCallback(function(g){c(g.type,Nl(g),g.target,a(g,e.lockRef.current))},[]);p.useEffect(function(){return Ks.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,qs),document.addEventListener("touchmove",l,qs),document.addEventListener("touchstart",u,qs),function(){Ks=Ks.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,qs),document.removeEventListener("touchmove",l,qs),document.removeEventListener("touchstart",u,qs)}},[]);var m=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(o,{styles:T$(s)}):null,m?p.createElement(w$,{gapMode:e.gapMode}):null)}function R$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const N$=i$(Vk,A$);var eg=p.forwardRef(function(e,t){return p.createElement($u,_n({},e,{ref:t,sideCar:N$}))});eg.classNames=$u.classNames;var O$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gs=new WeakMap,Ol=new WeakMap,Dl={},df=0,qk=function(e){return e&&(e.host||qk(e.parentNode))},D$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=qk(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},M$=function(e,t,n,r){var s=D$(t,Array.isArray(e)?e:[e]);Dl[n]||(Dl[n]=new WeakMap);var o=Dl[n],i=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",g=(Gs.get(h)||0)+1,x=(o.get(h)||0)+1;Gs.set(h,g),o.set(h,x),i.push(h),g===1&&v&&Ol.set(h,!0),x===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(t),a.clear(),df++,function(){i.forEach(function(f){var h=Gs.get(f)-1,m=o.get(f)-1;Gs.set(f,h),o.set(f,m),h||(Ol.has(f)||f.removeAttribute(r),Ol.delete(f)),m||f.removeAttribute(n)}),df--,df||(Gs=new WeakMap,Gs=new WeakMap,Ol=new WeakMap,Dl={})}},Kk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=O$(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),M$(r,s,n,"aria-hidden")):function(){return null}},tg="Dialog",[Gk,iB]=ii(tg),[L$,un]=Gk(tg),Yk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=p.useRef(null),l=p.useRef(null),[c=!1,u]=Aa({prop:r,defaultProp:s,onChange:o});return d.jsx(L$,{scope:t,triggerRef:a,contentRef:l,contentId:Ps(),titleId:Ps(),descriptionId:Ps(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(f=>!f),[u]),modal:i,children:n})};Yk.displayName=tg;var Qk="DialogTrigger",Xk=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=un(Qk,n),o=oe(t,s.triggerRef);return d.jsx(X.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sg(s.open),...r,ref:o,onClick:Q(e.onClick,s.onOpenToggle)})});Xk.displayName=Qk;var ng="DialogPortal",[I$,Jk]=Gk(ng,{forceMount:void 0}),Zk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=un(ng,t);return d.jsx(I$,{scope:t,forceMount:n,children:p.Children.map(r,i=>d.jsx(rr,{present:n||o.open,children:d.jsx(Zm,{asChild:!0,container:s,children:i})}))})};Zk.displayName=ng;var Yc="DialogOverlay",e_=p.forwardRef((e,t)=>{const n=Jk(Yc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=un(Yc,e.__scopeDialog);return o.modal?d.jsx(rr,{present:r||o.open,children:d.jsx(F$,{...s,ref:t})}):null});e_.displayName=Yc;var F$=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=un(Yc,n);return d.jsx(eg,{as:Ns,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(X.div,{"data-state":sg(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Os="DialogContent",t_=p.forwardRef((e,t)=>{const n=Jk(Os,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=un(Os,e.__scopeDialog);return d.jsx(rr,{present:r||o.open,children:o.modal?d.jsx(U$,{...s,ref:t}):d.jsx($$,{...s,ref:t})})});t_.displayName=Os;var U$=p.forwardRef((e,t)=>{const n=un(Os,e.__scopeDialog),r=p.useRef(null),s=oe(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return Kk(o)},[]),d.jsx(n_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,o=>o.preventDefault())})}),$$=p.forwardRef((e,t)=>{const n=un(Os,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return d.jsx(n_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),n_=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=un(Os,n),l=p.useRef(null),c=oe(t,l);return Fk(),d.jsxs(d.Fragment,{children:[d.jsx(Jm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:d.jsx(Uu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":sg(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(V$,{titleId:a.titleId}),d.jsx(z$,{contentRef:l,descriptionId:a.descriptionId})]})]})}),rg="DialogTitle",r_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=un(rg,n);return d.jsx(X.h2,{id:s.titleId,...r,ref:t})});r_.displayName=rg;var s_="DialogDescription",o_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=un(s_,n);return d.jsx(X.p,{id:s.descriptionId,...r,ref:t})});o_.displayName=s_;var i_="DialogClose",a_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=un(i_,n);return d.jsx(X.button,{type:"button",...r,ref:t,onClick:Q(e.onClick,()=>s.onOpenChange(!1))})});a_.displayName=i_;function sg(e){return e?"open":"closed"}var l_="DialogTitleWarning",[aB,c_]=CU(l_,{contentName:Os,titleName:rg,docsSlug:"dialog"}),V$=({titleId:e})=>{const t=c_(l_),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},B$="DialogDescriptionWarning",z$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c_(B$).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},W$=Yk,H$=Xk,q$=Zk,u_=e_,d_=t_,f_=r_,h_=o_,K$=a_;const Vu=W$,lB=H$,G$=q$,p_=p.forwardRef(({className:e,...t},n)=>d.jsx(u_,{ref:n,className:V("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));p_.displayName=u_.displayName;const Ga=p.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(G$,{children:[d.jsx(p_,{}),d.jsxs(d_,{ref:r,className:V("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,d.jsxs(K$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(s1,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ga.displayName=d_.displayName;const Ya=({className:e,...t})=>d.jsx("div",{className:V("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ya.displayName="DialogHeader";const og=({className:e,...t})=>d.jsx("div",{className:V("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});og.displayName="DialogFooter";const Qa=p.forwardRef(({className:e,...t},n)=>d.jsx(f_,{ref:n,className:V("text-lg font-semibold leading-none tracking-tight",e),...t}));Qa.displayName=f_.displayName;const ig=p.forwardRef(({className:e,...t},n)=>d.jsx(h_,{ref:n,className:V("text-sm text-muted-foreground",e),...t}));ig.displayName=h_.displayName;const Y$=({open:e,onOpenChange:t,onRecoveryComplete:n})=>{const{user:r,updateUserStreak:s}=ze(),[o,i]=p.useState(!1),a=async()=>{if(!(!(r!=null&&r.id)||o||!s)){i(!0);try{await s(),n()}catch(l){console.error("Error recovering streak:",l)}finally{i(!1),t(!1)}}};return d.jsx(Vu,{open:e,onOpenChange:t,children:d.jsxs(Ga,{className:"sm:max-w-md",children:[d.jsxs(Ya,{children:[d.jsx(Qa,{children:"Recover Your Streak?"}),d.jsx(ig,{children:"Looks like you missed a day! Use 50 points to continue your streak."})]}),d.jsxs("div",{className:"py-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Current Points:"}),d.jsxs(nr,{children:[(r==null?void 0:r.points)||0," ",d.jsx(A2,{className:"h-3 w-3 ml-1"})]})]}),r&&r.points&&r.points<50&&d.jsxs("div",{className:"mt-2 p-3 rounded-md bg-amber-500/10 border border-amber-500 text-amber-700 text-sm",children:[d.jsx(r1,{className:"h-4 w-4 mr-2 inline-block align-middle"}),"Insufficient points to recover streak."]})]}),d.jsxs(og,{children:[d.jsx(re,{type:"button",variant:"secondary",onClick:()=>t(!1),disabled:o,children:"Cancel"}),d.jsx(re,{type:"button",className:"bg-chichi-orange hover:bg-chichi-orange/90",onClick:a,disabled:o||!r||!r.points||r.points<50,children:o?d.jsxs(d.Fragment,{children:[d.jsx(Uc,{className:"mr-2 h-4 w-4 animate-spin"}),"Recovering..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Uc,{className:"mr-2 h-4 w-4"}),"Recover Streak (-50)"]})})]})]})})},Q$=({currentStreak:e,longestStreak:t,canRecoverStreak:n,onRecoverStreak:r})=>{const{user:s}=ze(),[o,i]=p.useState(!1);console.log("StreakCounter - User data and streak props:",{propsCurrentStreak:e,propsLongestStreak:t,userCurrentStreak:s==null?void 0:s.currentStreak,userLongestStreak:s==null?void 0:s.longestStreak,userPoints:s==null?void 0:s.points,userLevel:s==null?void 0:s.level,userLevelPoints:s==null?void 0:s.levelPoints,userId:s==null?void 0:s.id,timestamp:new Date().toISOString()});const a=typeof(s==null?void 0:s.currentStreak)=="number"?s.currentStreak:e,l=typeof(s==null?void 0:s.longestStreak)=="number"?s.longestStreak:t,c=typeof a=="number"&&!isNaN(a)&&a>=0?a:0,u=typeof l=="number"&&!isNaN(l)&&l>=0?l:0;console.log("StreakCounter - Final streak values being displayed:",{safeCurrentStreak:c,safeLongestStreak:u,originalCurrentStreak:e,originalLongestStreak:t});const f=c>=5,h=s!=null&&s.lastActivityDate?Math.floor((KD().getTime()-new Date(s.lastActivityDate).getTime())/(1e3*60*60*24)):null,m=h!==null&&h>1;return d.jsxs(d.Fragment,{children:[d.jsxs(cn,{className:"bg-white rounded-xl p-5 border border-border shadow-sm",children:[d.jsx(ts,{className:"space-y-1",children:d.jsx(ns,{className:"text-lg font-semibold",children:"Your Current Streak"})}),d.jsx(An,{className:"pl-2 pt-0",children:d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Wn.div,{className:"mr-2",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.3,ease:[0,.71,.2,1.01]},children:d.jsx(Uc,{className:V("h-6 w-6",f?"text-chichi-orange animate-pulse":"text-chichi-orange")})},c),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-baseline",children:[d.jsx(Wn.span,{className:"text-3xl font-bold text-chichi-orange mr-1",initial:{scale:.8},animate:{scale:1},transition:{duration:.2},children:c},c),d.jsx("span",{className:"text-sm text-muted-foreground",children:"days"})]}),d.jsx("div",{className:"text-xs text-muted-foreground",children:u>c?`Best: ${u} days`:"Your best streak yet!"})]})]}),n&&d.jsx("div",{className:"mt-3",children:d.jsxs(re,{variant:"ghost",className:"w-full rounded-md p-2 flex items-center justify-between text-sm font-medium",onClick:()=>i(!0),children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(pm,{className:"mr-2 h-4 w-4 text-yellow-500"}),d.jsx("span",{children:"Missed a day? Tap to recover your streak"})]}),d.jsx(T2,{className:"ml-2 h-4 w-4 text-gray-500"})]})}),m&&d.jsx("div",{className:"mt-3",children:d.jsx(nr,{variant:"destructive",className:"w-full rounded-md p-2 flex items-center justify-between text-sm font-medium",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(r1,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Oh no! Your streak has been broken."})]})})})]})})]}),d.jsx(Y$,{open:o,onOpenChange:i,onRecoveryComplete:r})]})};function X$(e,t=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];function c(f){const{scope:h,children:m,...v}=f,g=(h==null?void 0:h[e][l])||a,x=p.useMemo(()=>v,Object.values(v));return d.jsx(g.Provider,{value:x,children:m})}function u(f,h){const m=(h==null?void 0:h[e][l])||a,v=p.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,J$(s,...t)]}function J$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var ag="Progress",lg=100,[Z$,cB]=X$(ag),[e3,t3]=Z$(ag),m_=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=n3,...i}=e;(s||s===0)&&!lw(s)&&console.error(r3(`${s}`,"Progress"));const a=lw(s)?s:lg;r!==null&&!cw(r,a)&&console.error(s3(`${r}`,"Progress"));const l=cw(r,a)?r:null,c=Qc(l)?o(l,a):void 0;return d.jsx(e3,{scope:n,value:l,max:a,children:d.jsx(X.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Qc(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":v_(l,a),"data-value":l??void 0,"data-max":a,...i,ref:t})})});m_.displayName=ag;var g_="ProgressIndicator",y_=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=t3(g_,n);return d.jsx(X.div,{"data-state":v_(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});y_.displayName=g_;function n3(e,t){return`${Math.round(e/t*100)}%`}function v_(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Qc(e){return typeof e=="number"}function lw(e){return Qc(e)&&!isNaN(e)&&e>0}function cw(e,t){return Qc(e)&&!isNaN(e)&&e<=t&&e>=0}function r3(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lg}\`.`}function s3(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var w_=m_,o3=y_;const x_=p.forwardRef(({className:e,value:t,indicatorClassName:n,...r},s)=>d.jsx(w_,{ref:s,className:V("relative h-4 w-full overflow-hidden rounded-full bg-secondary/20",e),...r,children:d.jsx(o3,{className:V("h-full w-full flex-1 bg-chichi-purple transition-all",n),style:{transform:`translateX(-${100-(t||0)}%)`}})}));x_.displayName=w_.displayName;const S_=p.memo(({totalPoints:e,levelPoints:t,maxLevelPoints:n,level:r,className:s})=>{const[o,i]=p.useState(0),[a,l]=p.useState(!1),c=p.useRef(null),u=p.useRef(null);p.useEffect(()=>{const k=_=>{const{points:C}=_.detail;c.current&&clearTimeout(c.current),u.current&&clearTimeout(u.current),i(P=>P+C),l(!0),c.current=window.setTimeout(()=>{l(!1)},800),u.current=window.setTimeout(()=>{i(0)},3e3)};return window.addEventListener("task-completed",k),()=>{window.removeEventListener("task-completed",k),c.current&&clearTimeout(c.current),u.current&&clearTimeout(u.current)}},[]);const f=isNaN(e)?0:Math.max(0,e),h=isNaN(t)?0:Math.max(0,t),m=isNaN(n)||n<=0?100:n,v=isNaN(r)||r<=0?1:Math.min(r,100),g=f+o,x=h+o,y=Math.min(100,x/m*100),[w,S]=p.useState(!1),b=[{name:"Content Template Pack",points:200,icon:"📁"},{name:"Exclusive Badge",points:500,icon:"🏆"},{name:"Analytics Report",points:350,icon:"📊"}];return d.jsxs("div",{className:V("rounded-xl p-5 border border-border shadow-sm transition-all duration-500",o>0&&"transform scale-[1.02]",s),children:[d.jsxs("div",{className:"flex items-center mb-3",children:[d.jsx(Vc,{className:V("h-5 w-5 mr-2 transition-all duration-500",o>0?"text-chichi-orange animate-pulse scale-110":"text-chichi-orange")}),d.jsx("h3",{className:"font-semibold text-lg",children:"Your Points"})]}),d.jsxs("div",{className:"flex items-baseline",children:[d.jsx("span",{className:V("text-3xl font-bold mr-1 transition-all duration-700",o>0?"text-chichi-orange scale-110":"text-chichi-orange",a&&"animate-pulse"),children:g.toLocaleString()}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"points"}),o>0&&d.jsxs("span",{className:"text-sm font-medium text-chichi-orange ml-2 animate-bounce transition-all duration-300",children:["+",o]})]}),d.jsxs("div",{className:"mt-4 space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{className:"font-medium",children:["Level ",v]}),d.jsxs("span",{className:"text-muted-foreground",children:[x,"/",m," points"]})]}),d.jsx(x_,{value:y,className:V("h-2 transition-all duration-1000",o>0&&"animate-pulse"),style:{background:"#f3f3f3"}}),d.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[d.jsx("span",{children:"Current"}),d.jsxs("span",{children:["Next Level: ",Math.max(0,m-x)," points needed"]})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[d.jsx(re,{variant:"ghost",className:"w-full text-chichi-orange hover:text-chichi-orange hover:bg-orange-50 transition-all duration-200",onClick:()=>S(!w),children:w?"Hide Rewards":"View Available Rewards"}),w&&d.jsx("div",{className:"mt-3 space-y-2 animate-fade-in",children:b.map((k,_)=>d.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg text-sm transition-all duration-200 hover:bg-gray-50",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-lg mr-2",children:k.icon}),d.jsx("span",{children:k.name})]}),d.jsxs("span",{className:"font-medium text-chichi-orange",children:[k.points," pts"]})]},_))})]})]})});S_.displayName="PointsCard";const i3=()=>({isOnline:!0,isSyncing:!1,pendingOperations:0}),a3=["top","right","bottom","left"],qr=Math.min,Pt=Math.max,Xc=Math.round,Ml=Math.floor,Kr=e=>({x:e,y:e}),l3={left:"right",right:"left",bottom:"top",top:"bottom"},c3={start:"end",end:"start"};function Wh(e,t,n){return Pt(e,qr(t,n))}function Jn(e,t){return typeof e=="function"?e(t):e}function Zn(e){return e.split("-")[0]}function ai(e){return e.split("-")[1]}function cg(e){return e==="x"?"y":"x"}function ug(e){return e==="y"?"height":"width"}function Gr(e){return["top","bottom"].includes(Zn(e))?"y":"x"}function dg(e){return cg(Gr(e))}function u3(e,t,n){n===void 0&&(n=!1);const r=ai(e),s=dg(e),o=ug(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Jc(i)),[i,Jc(i)]}function d3(e){const t=Jc(e);return[Hh(e),t,Hh(t)]}function Hh(e){return e.replace(/start|end/g,t=>c3[t])}function f3(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function h3(e,t,n,r){const s=ai(e);let o=f3(Zn(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Hh)))),o}function Jc(e){return e.replace(/left|right|bottom|top/g,t=>l3[t])}function p3(e){return{top:0,right:0,bottom:0,left:0,...e}}function b_(e){return typeof e!="number"?p3(e):{top:e,right:e,bottom:e,left:e}}function Zc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function uw(e,t,n){let{reference:r,floating:s}=e;const o=Gr(t),i=dg(t),a=ug(i),l=Zn(t),c=o==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ai(t)){case"start":m[i]-=h*(n&&c?-1:1);break;case"end":m[i]+=h*(n&&c?-1:1);break}return m}const m3=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=uw(c,r,l),h=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:x,fn:y}=a[g],{x:w,y:S,data:b,reset:k}=await y({x:u,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:c,platform:i,elements:{reference:e,floating:t}});u=w??u,f=S??f,m={...m,[x]:{...m[x],...b}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:u,y:f}=uw(c,h,l)),g=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:m}};async function Ra(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Jn(t,e),v=b_(m),x=a[h?f==="floating"?"reference":"floating":f],y=Zc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),b=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},k=Zc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(y.top-k.top+v.top)/b.y,bottom:(k.bottom-y.bottom+v.bottom)/b.y,left:(y.left-k.left+v.left)/b.x,right:(k.right-y.right+v.right)/b.x}}const g3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Jn(e,t)||{};if(c==null)return{};const f=b_(u),h={x:n,y:r},m=dg(s),v=ug(m),g=await i.getDimensions(c),x=m==="y",y=x?"top":"left",w=x?"bottom":"right",S=x?"clientHeight":"clientWidth",b=o.reference[v]+o.reference[m]-h[m]-o.floating[v],k=h[m]-o.reference[m],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=_?_[S]:0;(!C||!await(i.isElement==null?void 0:i.isElement(_)))&&(C=a.floating[S]||o.floating[v]);const P=b/2-k/2,T=C/2-g[v]/2-1,A=qr(f[y],T),I=qr(f[w],T),M=A,Y=C-g[v]-I,z=C/2-g[v]/2+P,ce=Wh(M,z,Y),B=!l.arrow&&ai(s)!=null&&z!==ce&&o.reference[v]/2-(z<M?A:I)-g[v]/2<0,F=B?z<M?z-M:z-Y:0;return{[m]:h[m]+F,data:{[m]:ce,centerOffset:z-ce-F,...B&&{alignmentOffset:F}},reset:B}}}),y3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=Jn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Zn(s),w=Gr(a),S=Zn(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=h||(S||!g?[Jc(a)]:d3(a)),_=v!=="none";!h&&_&&k.push(...h3(a,g,v,b));const C=[a,...k],P=await Ra(t,x),T=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&T.push(P[y]),f){const z=u3(s,i,b);T.push(P[z[0]],P[z[1]])}if(A=[...A,{placement:s,overflows:T}],!T.every(z=>z<=0)){var I,M;const z=(((I=o.flip)==null?void 0:I.index)||0)+1,ce=C[z];if(ce)return{data:{index:z,overflows:A},reset:{placement:ce}};let B=(M=A.filter(F=>F.overflows[0]<=0).sort((F,E)=>F.overflows[1]-E.overflows[1])[0])==null?void 0:M.placement;if(!B)switch(m){case"bestFit":{var Y;const F=(Y=A.filter(E=>{if(_){const N=Gr(E.placement);return N===w||N==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(N=>N>0).reduce((N,L)=>N+L,0)]).sort((E,N)=>E[1]-N[1])[0])==null?void 0:Y[0];F&&(B=F);break}case"initialPlacement":B=a;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function dw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fw(e){return a3.some(t=>e[t]>=0)}const v3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Jn(e,t);switch(r){case"referenceHidden":{const o=await Ra(t,{...s,elementContext:"reference"}),i=dw(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:fw(i)}}}case"escaped":{const o=await Ra(t,{...s,altBoundary:!0}),i=dw(o,n.floating);return{data:{escapedOffsets:i,escaped:fw(i)}}}default:return{}}}}};async function w3(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Zn(n),a=ai(n),l=Gr(n)==="y",c=["left","top"].includes(i)?-1:1,u=o&&l?-1:1,f=Jn(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}const x3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await w3(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},S3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...l}=Jn(e,t),c={x:n,y:r},u=await Ra(t,l),f=Gr(Zn(s)),h=cg(f);let m=c[h],v=c[f];if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=m+u[x],S=m-u[y];m=Wh(w,m,S)}if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=v+u[x],S=v-u[y];v=Wh(w,v,S)}const g=a.fn({...t,[h]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:i}}}}}},b3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Jn(e,t),u={x:n,y:r},f=Gr(s),h=cg(f);let m=u[h],v=u[f];const g=Jn(a,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=h==="y"?"height":"width",b=o.reference[h]-o.floating[S]+x.mainAxis,k=o.reference[h]+o.reference[S]-x.mainAxis;m<b?m=b:m>k&&(m=k)}if(c){var y,w;const S=h==="y"?"width":"height",b=["top","left"].includes(Zn(s)),k=o.reference[f]-o.floating[S]+(b&&((y=i.offset)==null?void 0:y[f])||0)+(b?0:x.crossAxis),_=o.reference[f]+o.reference[S]+(b?0:((w=i.offset)==null?void 0:w[f])||0)-(b?x.crossAxis:0);v<k?v=k:v>_&&(v=_)}return{[h]:m,[f]:v}}}},k3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...c}=Jn(e,t),u=await Ra(t,c),f=Zn(s),h=ai(s),m=Gr(s)==="y",{width:v,height:g}=o.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,x=h==="end"?"top":"bottom");const w=g-u.top-u.bottom,S=v-u.left-u.right,b=qr(g-u[x],w),k=qr(v-u[y],S),_=!t.middlewareData.shift;let C=b,P=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=w),_&&!h){const A=Pt(u.left,0),I=Pt(u.right,0),M=Pt(u.top,0),Y=Pt(u.bottom,0);m?P=v-2*(A!==0||I!==0?A+I:Pt(u.left,u.right)):C=g-2*(M!==0||Y!==0?M+Y:Pt(u.top,u.bottom))}await l({...t,availableWidth:P,availableHeight:C});const T=await i.getDimensions(a.floating);return v!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function Bu(){return typeof window<"u"}function li(e){return k_(e)?(e.nodeName||"").toLowerCase():"#document"}function At(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Rn(e){var t;return(t=(k_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function k_(e){return Bu()?e instanceof Node||e instanceof At(e).Node:!1}function an(e){return Bu()?e instanceof Element||e instanceof At(e).Element:!1}function jn(e){return Bu()?e instanceof HTMLElement||e instanceof At(e).HTMLElement:!1}function hw(e){return!Bu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof At(e).ShadowRoot}function Xa(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function _3(e){return["table","td","th"].includes(li(e))}function zu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function fg(e){const t=hg(),n=an(e)?ln(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function C3(e){let t=Yr(e);for(;jn(t)&&!qo(t);){if(fg(t))return t;if(zu(t))return null;t=Yr(t)}return null}function hg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qo(e){return["html","body","#document"].includes(li(e))}function ln(e){return At(e).getComputedStyle(e)}function Wu(e){return an(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yr(e){if(li(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hw(e)&&e.host||Rn(e);return hw(t)?t.host:t}function __(e){const t=Yr(e);return qo(t)?e.ownerDocument?e.ownerDocument.body:e.body:jn(t)&&Xa(t)?t:__(t)}function Na(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=__(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=At(s);if(o){const a=qh(i);return t.concat(i,i.visualViewport||[],Xa(s)?s:[],a&&n?Na(a):[])}return t.concat(s,Na(s,[],n))}function qh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function C_(e){const t=ln(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=jn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Xc(n)!==o||Xc(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function pg(e){return an(e)?e:e.contextElement}function _o(e){const t=pg(e);if(!jn(t))return Kr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=C_(t);let i=(o?Xc(n.width):n.width)/r,a=(o?Xc(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const P3=Kr(0);function P_(e){const t=At(e);return!hg()||!t.visualViewport?P3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function E3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==At(e)?!1:t}function Ds(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=pg(e);let i=Kr(1);t&&(r?an(r)&&(i=_o(r)):i=_o(e));const a=E3(o,n,r)?P_(o):Kr(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,u=s.width/i.x,f=s.height/i.y;if(o){const h=At(o),m=r&&an(r)?At(r):r;let v=h,g=qh(v);for(;g&&r&&m!==v;){const x=_o(g),y=g.getBoundingClientRect(),w=ln(g),S=y.left+(g.clientLeft+parseFloat(w.paddingLeft))*x.x,b=y.top+(g.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,f*=x.y,l+=S,c+=b,v=At(g),g=qh(v)}}return Zc({width:u,height:f,x:l,y:c})}function T3(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Rn(r),a=t?zu(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Kr(1);const u=Kr(0),f=jn(r);if((f||!f&&!o)&&((li(r)!=="body"||Xa(i))&&(l=Wu(r)),jn(r))){const h=Ds(r);c=_o(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function j3(e){return Array.from(e.getClientRects())}function Kh(e,t){const n=Wu(e).scrollLeft;return t?t.left+n:Ds(Rn(e)).left+n}function A3(e){const t=Rn(e),n=Wu(e),r=e.ownerDocument.body,s=Pt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Pt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Kh(e);const a=-n.scrollTop;return ln(r).direction==="rtl"&&(i+=Pt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function R3(e,t){const n=At(e),r=Rn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=hg();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function N3(e,t){const n=Ds(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=jn(e)?_o(e):Kr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function pw(e,t,n){let r;if(t==="viewport")r=R3(e,n);else if(t==="document")r=A3(Rn(e));else if(an(t))r=N3(t,n);else{const s=P_(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Zc(r)}function E_(e,t){const n=Yr(e);return n===t||!an(n)||qo(n)?!1:ln(n).position==="fixed"||E_(n,t)}function O3(e,t){const n=t.get(e);if(n)return n;let r=Na(e,[],!1).filter(a=>an(a)&&li(a)!=="body"),s=null;const o=ln(e).position==="fixed";let i=o?Yr(e):e;for(;an(i)&&!qo(i);){const a=ln(i),l=fg(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Xa(i)&&!l&&E_(e,i))?r=r.filter(u=>u!==i):s=a,i=Yr(i)}return t.set(e,r),r}function D3(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?zu(t)?[]:O3(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const f=pw(t,u,s);return c.top=Pt(f.top,c.top),c.right=qr(f.right,c.right),c.bottom=qr(f.bottom,c.bottom),c.left=Pt(f.left,c.left),c},pw(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function M3(e){const{width:t,height:n}=C_(e);return{width:t,height:n}}function L3(e,t,n){const r=jn(t),s=Rn(t),o=n==="fixed",i=Ds(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Kr(0);if(r||!r&&!o)if((li(t)!=="body"||Xa(s))&&(a=Wu(t)),r){const m=Ds(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&(l.x=Kh(s));let c=0,u=0;if(s&&!r&&!o){const m=s.getBoundingClientRect();u=m.top+a.scrollTop,c=m.left+a.scrollLeft-Kh(s,m)}const f=i.left+a.scrollLeft-l.x-c,h=i.top+a.scrollTop-l.y-u;return{x:f,y:h,width:i.width,height:i.height}}function ff(e){return ln(e).position==="static"}function mw(e,t){if(!jn(e)||ln(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Rn(e)===n&&(n=n.ownerDocument.body),n}function T_(e,t){const n=At(e);if(zu(e))return n;if(!jn(e)){let s=Yr(e);for(;s&&!qo(s);){if(an(s)&&!ff(s))return s;s=Yr(s)}return n}let r=mw(e,t);for(;r&&_3(r)&&ff(r);)r=mw(r,t);return r&&qo(r)&&ff(r)&&!fg(r)?n:r||C3(e)||n}const I3=async function(e){const t=this.getOffsetParent||T_,n=this.getDimensions,r=await n(e.floating);return{reference:L3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function F3(e){return ln(e).direction==="rtl"}const U3={convertOffsetParentRelativeRectToViewportRelativeRect:T3,getDocumentElement:Rn,getClippingRect:D3,getOffsetParent:T_,getElementRects:I3,getClientRects:j3,getDimensions:M3,getScale:_o,isElement:an,isRTL:F3};function $3(e,t){let n=null,r;const s=Rn(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:f,height:h}=e.getBoundingClientRect();if(a||t(),!f||!h)return;const m=Ml(u),v=Ml(s.clientWidth-(c+f)),g=Ml(s.clientHeight-(u+h)),x=Ml(c),w={rootMargin:-m+"px "+-v+"px "+-g+"px "+-x+"px",threshold:Pt(0,qr(1,l))||1};let S=!0;function b(k){const _=k[0].intersectionRatio;if(_!==l){if(!S)return i();_?i(!1,_):r=setTimeout(()=>{i(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(b,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(b,w)}n.observe(e)}return i(!0),o}function V3(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=pg(e),u=s||o?[...c?Na(c):[],...Na(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=c&&a?$3(c,n):null;let h=-1,m=null;i&&(m=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let v,g=l?Ds(e):null;l&&x();function x(){const y=Ds(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,v=requestAnimationFrame(x)}return n(),()=>{var y;u.forEach(w=>{s&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const B3=x3,z3=S3,W3=y3,H3=k3,q3=v3,gw=g3,K3=b3,G3=(e,t,n)=>{const r=new Map,s={platform:U3,...n},o={...s.platform,_c:r};return m3(e,t,{...s,platform:o})};var sc=typeof document<"u"?p.useLayoutEffect:p.useEffect;function eu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!eu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!eu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function j_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yw(e,t){const n=j_(e);return Math.round(t*n)/n}function hf(e){const t=p.useRef(e);return sc(()=>{t.current=e}),t}function Y3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);eu(h,r)||m(r);const[v,g]=p.useState(null),[x,y]=p.useState(null),w=p.useCallback(E=>{E!==_.current&&(_.current=E,g(E))},[]),S=p.useCallback(E=>{E!==C.current&&(C.current=E,y(E))},[]),b=o||v,k=i||x,_=p.useRef(null),C=p.useRef(null),P=p.useRef(u),T=l!=null,A=hf(l),I=hf(s),M=hf(c),Y=p.useCallback(()=>{if(!_.current||!C.current)return;const E={placement:t,strategy:n,middleware:h};I.current&&(E.platform=I.current),G3(_.current,C.current,E).then(N=>{const L={...N,isPositioned:M.current!==!1};z.current&&!eu(P.current,L)&&(P.current=L,Jo.flushSync(()=>{f(L)}))})},[h,t,n,I,M]);sc(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[c]);const z=p.useRef(!1);sc(()=>(z.current=!0,()=>{z.current=!1}),[]),sc(()=>{if(b&&(_.current=b),k&&(C.current=k),b&&k){if(A.current)return A.current(b,k,Y);Y()}},[b,k,Y,A,T]);const ce=p.useMemo(()=>({reference:_,floating:C,setReference:w,setFloating:S}),[w,S]),B=p.useMemo(()=>({reference:b,floating:k}),[b,k]),F=p.useMemo(()=>{const E={position:n,left:0,top:0};if(!B.floating)return E;const N=yw(B.floating,u.x),L=yw(B.floating,u.y);return a?{...E,transform:"translate("+N+"px, "+L+"px)",...j_(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:N,top:L}},[n,a,B.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:Y,refs:ce,elements:B,floatingStyles:F}),[u,Y,ce,B,F])}const Q3=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?gw({element:r.current,padding:s}).fn(n):{}:r?gw({element:r,padding:s}).fn(n):{}}}},X3=(e,t)=>({...B3(e),options:[e,t]}),J3=(e,t)=>({...z3(e),options:[e,t]}),Z3=(e,t)=>({...K3(e),options:[e,t]}),e5=(e,t)=>({...W3(e),options:[e,t]}),t5=(e,t)=>({...H3(e),options:[e,t]}),n5=(e,t)=>({...q3(e),options:[e,t]}),r5=(e,t)=>({...Q3(e),options:[e,t]});var s5="Arrow",A_=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return d.jsx(X.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});A_.displayName=s5;var o5=A_;function i5(e,t=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];function c(f){const{scope:h,children:m,...v}=f,g=(h==null?void 0:h[e][l])||a,x=p.useMemo(()=>v,Object.values(v));return d.jsx(g.Provider,{value:x,children:m})}function u(f,h){const m=(h==null?void 0:h[e][l])||a,v=p.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,a5(s,...t)]}function a5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function R_(e){const[t,n]=p.useState(void 0);return Be(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var mg="Popper",[N_,Hu]=i5(mg),[l5,O_]=N_(mg),D_=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return d.jsx(l5,{scope:t,anchor:r,onAnchorChange:s,children:n})};D_.displayName=mg;var M_="PopperAnchor",L_=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=O_(M_,n),i=p.useRef(null),a=oe(t,i);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:d.jsx(X.div,{...s,ref:a})});L_.displayName=M_;var gg="PopperContent",[c5,u5]=N_(gg),I_=p.forwardRef((e,t)=>{var $,me,Xe,fe,ue,de;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=e,x=O_(gg,n),[y,w]=p.useState(null),S=oe(t,St=>w(St)),[b,k]=p.useState(null),_=R_(b),C=(_==null?void 0:_.width)??0,P=(_==null?void 0:_.height)??0,T=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(c)?c:[c],M=I.length>0,Y={padding:A,boundary:I.filter(f5),altBoundary:M},{refs:z,floatingStyles:ce,placement:B,isPositioned:F,middlewareData:E}=Y3({strategy:"fixed",placement:T,whileElementsMounted:(...St)=>V3(...St,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[X3({mainAxis:s+P,alignmentAxis:i}),l&&J3({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Z3():void 0,...Y}),l&&e5({...Y}),t5({...Y,apply:({elements:St,rects:hn,availableWidth:ui,availableHeight:di})=>{const{width:fi,height:bP}=hn.reference,Za=St.floating.style;Za.setProperty("--radix-popper-available-width",`${ui}px`),Za.setProperty("--radix-popper-available-height",`${di}px`),Za.setProperty("--radix-popper-anchor-width",`${fi}px`),Za.setProperty("--radix-popper-anchor-height",`${bP}px`)}}),b&&r5({element:b,padding:a}),h5({arrowWidth:C,arrowHeight:P}),h&&n5({strategy:"referenceHidden",...Y})]}),[N,L]=$_(B),W=Ke(v);Be(()=>{F&&(W==null||W())},[F,W]);const Se=($=E.arrow)==null?void 0:$.x,dn=(me=E.arrow)==null?void 0:me.y,Qe=((Xe=E.arrow)==null?void 0:Xe.centerOffset)!==0,[fn,it]=p.useState();return Be(()=>{y&&it(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:F?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fn,"--radix-popper-transform-origin":[(fe=E.transformOrigin)==null?void 0:fe.x,(ue=E.transformOrigin)==null?void 0:ue.y].join(" "),...((de=E.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(c5,{scope:n,placedSide:N,onArrowChange:k,arrowX:Se,arrowY:dn,shouldHideArrow:Qe,children:d.jsx(X.div,{"data-side":N,"data-align":L,...g,ref:S,style:{...g.style,animation:F?void 0:"none"}})})})});I_.displayName=gg;var F_="PopperArrow",d5={top:"bottom",right:"left",bottom:"top",left:"right"},U_=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=u5(F_,r),i=d5[o.placedSide];return d.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:d.jsx(o5,{...s,ref:n,style:{...s.style,display:"block"}})})});U_.displayName=F_;function f5(e){return e!==null}var h5=e=>({name:"transformOrigin",options:e,fn(t){var x,y,w;const{placement:n,rects:r,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,u]=$_(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=i?f:`${h}px`,g=`${-l}px`):c==="top"?(v=i?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=i?f:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=i?f:`${m}px`),{data:{x:v,y:g}}}});function $_(e){const[t,n="center"]=e.split("-");return[t,n]}var V_=D_,B_=L_,z_=I_,W_=U_,p5="VisuallyHidden",yg=p.forwardRef((e,t)=>d.jsx(X.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));yg.displayName=p5;var m5=yg,[qu,uB]=ii("Tooltip",[Hu]),Ku=Hu(),H_="TooltipProvider",g5=700,Gh="tooltip.open",[y5,vg]=qu(H_),q_=e=>{const{__scopeTooltip:t,delayDuration:n=g5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[i,a]=p.useState(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(y5,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};q_.displayName=H_;var Gu="Tooltip",[v5,Yu]=qu(Gu),K_=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=vg(Gu,e.__scopeTooltip),c=Ku(t),[u,f]=p.useState(null),h=Ps(),m=p.useRef(0),v=i??l.disableHoverableContent,g=a??l.delayDuration,x=p.useRef(!1),[y=!1,w]=Aa({prop:r,defaultProp:s,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(Gh))):l.onClose(),o==null||o(C)}}),S=p.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),b=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,w(!0)},[w]),k=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),_=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,w(!0),m.current=0},g)},[g,w]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),d.jsx(V_,{...c,children:d.jsx(v5,{scope:t,contentId:h,open:y,stateAttribute:S,trigger:u,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{l.isOpenDelayed?_():b()},[l.isOpenDelayed,_,b]),onTriggerLeave:p.useCallback(()=>{v?k():(window.clearTimeout(m.current),m.current=0)},[k,v]),onOpen:b,onClose:k,disableHoverableContent:v,children:n})})};K_.displayName=Gu;var Yh="TooltipTrigger",G_=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Yu(Yh,n),o=vg(Yh,n),i=Ku(n),a=p.useRef(null),l=oe(t,a,s.onTriggerChange),c=p.useRef(!1),u=p.useRef(!1),f=p.useCallback(()=>c.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(B_,{asChild:!0,...i,children:d.jsx(X.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Q(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Q(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Q(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Q(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:Q(e.onBlur,s.onClose),onClick:Q(e.onClick,s.onClose)})})});G_.displayName=Yh;var w5="TooltipPortal",[dB,x5]=qu(w5,{forceMount:void 0}),Ko="TooltipContent",Y_=p.forwardRef((e,t)=>{const n=x5(Ko,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Yu(Ko,e.__scopeTooltip);return d.jsx(rr,{present:r||i.open,children:i.disableHoverableContent?d.jsx(Q_,{side:s,...o,ref:t}):d.jsx(S5,{side:s,...o,ref:t})})}),S5=p.forwardRef((e,t)=>{const n=Yu(Ko,e.__scopeTooltip),r=vg(Ko,e.__scopeTooltip),s=p.useRef(null),o=oe(t,s),[i,a]=p.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{a(null),f(!1)},[f]),m=p.useCallback((v,g)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},w=C5(y,x.getBoundingClientRect()),S=P5(y,w),b=E5(g.getBoundingClientRect()),k=j5([...S,...b]);a(k),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(l&&u){const v=x=>m(x,u),g=x=>m(x,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[l,u,m,h]),p.useEffect(()=>{if(i){const v=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),S=!T5(y,i);w?h():S&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,i,c,h]),d.jsx(Q_,{...e,ref:o})}),[b5,k5]=qu(Gu,{isInside:!1}),Q_=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=Yu(Ko,n),c=Ku(n),{onClose:u}=l;return p.useEffect(()=>(document.addEventListener(Gh,u),()=>document.removeEventListener(Gh,u)),[u]),p.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),d.jsx(Uu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(z_,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(Jb,{children:r}),d.jsx(b5,{scope:n,isInside:!0,children:d.jsx(m5,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Y_.displayName=Ko;var X_="TooltipArrow",_5=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ku(n);return k5(X_,n).isInside?null:d.jsx(W_,{...s,...r,ref:t})});_5.displayName=X_;function C5(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function P5(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function E5(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function T5(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,l=t[o].y,c=t[i].x,u=t[i].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function j5(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),A5(t)}function A5(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var R5=q_,N5=K_,O5=G_,J_=Y_;const D5=R5,M5=N5,L5=O5,Z_=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>d.jsx(J_,{ref:r,sideOffset:t,className:V("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Z_.displayName=J_.displayName;function wg({className:e=""}){const{isOnline:t,isSyncing:n,pendingOperations:r}=i3(),[s,o]=p.useState(!1),i=n?"syncing":t?"online":"offline",a=r;p.useEffect(()=>{if(i==="syncing"||i==="online"&&a>0)o(!0);else if(i==="online"&&a===0){const u=setTimeout(()=>{o(!1)},2e3);return()=>clearTimeout(u)}else o(!1)},[i,a]);const l=()=>{switch(i){case"offline":return d.jsx(j2,{className:"h-4 w-4 text-amber-500"});case"syncing":return d.jsx(Ov,{className:`h-4 w-4 text-blue-500 ${s?"animate-spin":""}`});case"online":return a>0?d.jsx(Ov,{className:`h-4 w-4 text-amber-500 ${s?"animate-spin":""}`}):d.jsx(Rv,{className:"h-4 w-4 text-green-500"});default:return d.jsx(Rv,{className:"h-4 w-4 text-green-500"})}},c=()=>{switch(i){case"offline":return"Offline - Changes will sync when you reconnect";case"syncing":return`Syncing ${a} changes...`;case"online":return a>0?`Online - ${a} changes pending sync`:"All changes synced";default:return"Online"}};return d.jsx(D5,{children:d.jsxs(M5,{delayDuration:300,children:[d.jsx(L5,{asChild:!0,children:d.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs ${e}`,children:[l(),a>0&&d.jsx("span",{className:"text-xs font-medium",children:a})]})}),d.jsx(Z_,{side:"bottom",children:d.jsx("p",{children:c()})})]})})}const I5=({currentStreak:e,longestStreak:t,totalPoints:n,levelPoints:r,maxLevelPoints:s,level:o,canRecoverStreak:i})=>(ym(),d.jsxs(cn,{className:"p-3 md:p-6 relative",children:[d.jsx(wg,{className:"absolute top-2 right-2"}),d.jsx("h2",{className:"text-lg md:text-xl font-semibold mb-3 md:mb-4",children:"Your Creator Progress"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-6",children:[d.jsx(vn,{children:d.jsx(Q$,{currentStreak:e,longestStreak:t,canRecoverStreak:i})}),d.jsx(vn,{children:d.jsx(S_,{totalPoints:n,levelPoints:r,maxLevelPoints:s,level:o})})]})]})),F5=()=>{const[e,t]=p.useState({idea:!1,recording:!1,editing:!1,caption:!1,post:!1}),[n,r]=p.useState(!0),[s,o]=p.useState(!1),[i,a]=p.useState(!1),[l,c]=p.useState(!1),[u,f]=p.useState(!1),h=p.useRef(!1),{user:m,updateUserPoints:v}=ze(),{toast:g}=_u();p.useEffect(()=>{let b;return i&&(b=window.setTimeout(()=>{a(!1)},3e3)),()=>{b&&clearTimeout(b)}},[i]);const x=()=>Object.values(e).filter(Boolean).length,y=x()/5*100;p.useEffect(()=>{(async()=>{if(m!=null&&m.id){r(!0);try{const k=sn(new Date,"yyyy-MM-dd"),{data:_,error:C}=await O.from("post_progress").select("*").eq("user_id",m.id).eq("date",k).single();if(C&&C.code!=="PGRST116"){console.error("Error fetching progress:",C),g({title:"Error",description:"Could not load your progress",variant:"destructive"});return}if(_){const P={idea:_.idea_complete,recording:_.recording_complete,editing:_.editing_complete,caption:_.caption_complete,post:_.post_complete};t(P);const T=Object.values(P).every(Boolean);c(T),T&&(f(!0),h.current=!0)}else{const{error:P}=await O.from("post_progress").insert({user_id:m.id,date:k});P&&console.error("Error creating progress:",P)}}finally{r(!1)}}})()},[m==null?void 0:m.id,g]);const w=()=>{try{const b=new Audio("/sound/complete-chime.mp3");b.volume=.3,b.play().catch(k=>{console.log("Sound autoplay prevented by browser:",k)})}catch(b){console.error("Error playing sound:",b)}};return{progressState:e,isLoading:n,isSaving:s,celebrationVisible:i,setCelebrationVisible:a,getCompletedStepsCount:x,progressPercentage:y,handleStepClick:async b=>{if(!(m!=null&&m.id)||s)return;const k={...e,[b]:!e[b]},_=Object.values(e).every(Boolean),C=Object.values(k).every(Boolean);t(k),o(!0),e[b]||w();try{const P=sn(new Date,"yyyy-MM-dd"),{error:T}=await O.from("post_progress").update({[`${b}_complete`]:k[b],updated_at:new Date().toISOString()}).eq("user_id",m.id).eq("date",P);if(T)throw T;if(C&&!_&&!h.current&&!u&&!l){if(f(!0),h.current=!0,v){await v(15);try{const{FeedActivityService:I}=await ke(async()=>{const{FeedActivityService:M}=await Promise.resolve().then(()=>a2);return{FeedActivityService:M}},void 0);await I.createContentProgressActivity(m.id,15),console.log("Content progress feed activity created successfully")}catch(I){console.error("Failed to create feed activity for content progress:",I)}const{dismiss:A}=g({title:"+15 Points!",description:"You've earned points for completing your content creation process!"});setTimeout(()=>{A()},5e3)}a(!0)}}catch(P){console.error("Error updating progress:",P),t(e),g({title:"Error",description:"Could not save your progress",variant:"destructive"})}finally{o(!1)}}}},U5=({id:e,label:t,icon:n,activeIcon:r,isComplete:s,isLoading:o,isSaving:i,onClick:a})=>d.jsxs("div",{className:"flex flex-col items-center z-20",children:[d.jsx(re,{onClick:a,disabled:o||i,variant:s?"default":"outline",size:"icon",className:`rounded-full h-10 w-10 relative ${s?"bg-chichi-purple text-white":"text-chichi-purple"} ${o||i?"opacity-50 cursor-not-allowed":""}`,"aria-label":`${s?"Mark":"Unmark"} ${t} as complete`,children:i?d.jsx(D2,{className:"h-5 w-5 animate-spin"}):s?r:n}),d.jsx("span",{className:"text-xs mt-2 font-medium",children:t})]}),$5=({percentage:e})=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"absolute h-0.5 w-full bg-gray-200 top-1/2 -translate-y-1/2 z-0"}),d.jsx("div",{className:"absolute h-0.5 bg-chichi-purple top-1/2 -translate-y-1/2 z-10 transition-all duration-500",style:{width:`${e}%`,maxWidth:"100%"}})]}),V5=({visible:e,onClose:t})=>(p.useEffect(()=>{if(e&&t){const n=setTimeout(()=>{t()},3e3);return()=>clearTimeout(n)}},[e,t]),e?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 animate-fade-in",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg text-center animate-scale-in",children:[d.jsx("div",{className:"text-4xl mb-2",children:"🎉"}),d.jsx("h3",{className:"text-xl font-bold text-chichi-purple mb-2",children:"All Steps Complete!"}),d.jsx("p",{children:"Great job completing your content creation process!"})]})}):null),B5=()=>{const{progressState:e,isLoading:t,isSaving:n,celebrationVisible:r,getCompletedStepsCount:s,progressPercentage:o,handleStepClick:i}=F5(),a=[{id:"idea",label:"Idea",icon:d.jsx(O2,{className:"h-5 w-5"}),activeIcon:d.jsx(br,{className:"h-5 w-5"})},{id:"recording",label:"Recording",icon:d.jsx(F2,{className:"h-5 w-5"}),activeIcon:d.jsx(br,{className:"h-5 w-5"})},{id:"editing",label:"Editing",icon:d.jsx(U2,{className:"h-5 w-5"}),activeIcon:d.jsx(br,{className:"h-5 w-5"})},{id:"caption",label:"Caption",icon:d.jsx(W2,{className:"h-5 w-5"}),activeIcon:d.jsx(br,{className:"h-5 w-5"})},{id:"post",label:"Post",icon:d.jsx($c,{className:"h-5 w-5"}),activeIcon:d.jsx(br,{className:"h-5 w-5"})}];return d.jsxs("div",{children:[d.jsx("div",{className:"mb-4",children:d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"font-medium text-base",children:"Progress"}),d.jsxs(nr,{variant:"outline",className:"bg-chichi-purple/5",children:[s(),"/5 Complete"]})]})}),d.jsxs("div",{className:"flex justify-between items-center relative pt-2",children:[d.jsx($5,{percentage:o}),a.map(l=>d.jsx(U5,{id:l.id,label:l.label,icon:l.icon,activeIcon:l.activeIcon,isComplete:e[l.id],isLoading:t,isSaving:n,onClick:()=>i(l.id)},l.id))]}),d.jsx(V5,{visible:r})]})},z5=({task:e,isSubmitting:t,isUserLoggedIn:n,onComplete:r})=>{const{id:s,label:o,points:i,completed:a}=e,[l,c]=p.useState(!1),u=f=>{f.preventDefault(),f.stopPropagation(),!a&&!t&&n&&(c(!0),r(s))};return p.useEffect(()=>{if(l){const f=setTimeout(()=>c(!1),2e3);return()=>clearTimeout(f)}},[l]),d.jsxs(Wn.div,{className:"relative",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[(l||a)&&d.jsx("div",{className:V("absolute inset-0 rounded-full opacity-75 blur-lg animate-pulse",a?"bg-green-400":"bg-chichi-purple")}),d.jsx(re,{type:"button",variant:a?"default":"outline",className:V("relative w-32 h-32 rounded-full text-center p-4 transition-all duration-300","shadow-lg hover:shadow-xl transform hover:scale-105",a?"bg-green-500 hover:bg-green-600 text-white border-green-400":"bg-white hover:bg-chichi-purple-soft text-chichi-purple border-2 border-chichi-purple",t&&"animate-pulse cursor-wait"),disabled:t||!n||a,onClick:u,onMouseDown:f=>{f.preventDefault(),f.stopPropagation()},onSubmit:f=>{f.preventDefault(),f.stopPropagation()},children:d.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[d.jsx("div",{className:"flex-shrink-0",children:a?d.jsx(Wn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:15},children:d.jsx(br,{className:"h-8 w-8"})}):t?d.jsx(Wn.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:d.jsx($c,{className:"h-8 w-8"})}):d.jsx($c,{className:"h-8 w-8"})}),d.jsx("div",{className:"text-xs font-medium leading-tight",children:a?"Posted!":t?"Posting...":"Post to Page"}),!a&&d.jsxs("div",{className:"flex items-center justify-center bg-chichi-orange text-white py-1 px-2 rounded-full",children:[d.jsx(Vc,{className:"h-3 w-3 mr-1"}),d.jsx("span",{className:"text-xs font-bold",children:i})]})]})})]})},W5=({task:e,isSubmitting:t,isUserLoggedIn:n,onComplete:r})=>{const{id:s,label:o,points:i,completed:a}=e,l=u=>{u.preventDefault(),u.stopPropagation(),!a&&!t&&n&&r(s)},c=()=>{switch(s){case"comments":return d.jsx(L2,{className:"h-4 w-4"});case"creators":return d.jsx(N2,{className:"h-4 w-4"});case"story":return d.jsx(P2,{className:"h-4 w-4"});case"multiplatform":return d.jsx(V2,{className:"h-4 w-4"});default:return d.jsx(Vc,{className:"h-4 w-4"})}};return d.jsxs(re,{type:"button",variant:a?"default":"outline",className:V("w-full h-12 justify-between px-3 py-2 transition-all duration-200",a?"bg-green-500 hover:bg-green-600 text-white border-green-400":"text-chichi-purple hover:bg-chichi-purple-soft border-chichi-purple/30","hover:shadow-md hover:scale-[1.02]",t&&"animate-pulse cursor-wait"),disabled:t||!n||a,onClick:l,onMouseDown:u=>{u.preventDefault(),u.stopPropagation()},onSubmit:u=>{u.preventDefault(),u.stopPropagation()},children:[d.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[d.jsx("div",{className:"flex-shrink-0 mr-2",children:a?d.jsx(br,{className:"h-4 w-4"}):c()}),d.jsx("span",{className:"text-xs font-medium truncate",children:o})]}),!a&&d.jsxs("div",{className:"flex items-center justify-center bg-chichi-orange/20 text-chichi-orange py-1 px-2 rounded-full flex-shrink-0 ml-2",children:[d.jsx(Vc,{className:"h-3 w-3 mr-1"}),d.jsxs("span",{className:"text-xs font-bold",children:["+",i]})]})]})},H5=()=>{const[e,t]=p.useState([]);return p.useEffect(()=>{const n=["#FF5C28","#FFC107","#9b87f5","#33C3F0","#D946EF"],s=[];for(let o=0;o<30;o++){const i=Math.random()*100,a=Math.random()*100,l=Math.random()*8+4,c=n[Math.floor(Math.random()*n.length)],u=Math.random()*.2,f=Math.random()*1+1,h=Math.random()*1+.5;s.push(d.jsx(Wn.div,{className:"absolute rounded-full pointer-events-none",style:{left:`${i}%`,top:`${a}%`,width:l,height:l,backgroundColor:c},initial:{scale:0,opacity:1},animate:{y:[0,-100-Math.random()*100],x:[0,(Math.random()-.5)*200],rotate:[0,Math.random()*360],scale:[0,h],opacity:[1,0]},transition:{duration:f,delay:u,ease:"easeOut"}},o))}t(s)},[]),d.jsx(d.Fragment,{children:e})},q5=({points:e=10,badgeUnlocked:t,onComplete:n})=>{const[r,s]=p.useState(!0);return p.useEffect(()=>{const o=setTimeout(()=>{s(!1),n&&n()},2500);return()=>clearTimeout(o)},[n]),d.jsx(rM,{children:r&&d.jsx(Wn.div,{className:"fixed inset-0 pointer-events-none flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs("div",{className:"relative",children:[d.jsx(H5,{}),d.jsxs(Wn.div,{className:"bg-gradient-to-br from-chichi-orange to-[#FF8A50] text-white font-bold py-3 px-6 rounded-full shadow-lg pointer-events-none",initial:{scale:.5,y:20,opacity:0},animate:{scale:1,y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:15}},exit:{scale:1.2,opacity:0},children:["+",e," Points!"]}),t&&d.jsxs(Wn.div,{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-4 flex flex-col items-center",initial:{scale:.5,y:-10,opacity:0},animate:{scale:1,y:0,opacity:1,transition:{delay:.3,type:"spring",stiffness:300,damping:15}},children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-400 to-purple-500 rounded-full opacity-75 blur-sm animate-pulse"}),d.jsx("div",{className:"relative bg-white p-3 rounded-full",children:d.jsx(pm,{className:"text-yellow-500 h-8 w-8"})})]}),d.jsxs("span",{className:"mt-2 text-sm font-medium text-white bg-black/50 px-3 py-1 rounded-full",children:[t," Unlocked!"]})]})]})})})},K5=({children:e})=>{const[t,n]=p.useState({show:!1,points:0});p.useEffect(()=>{let o;return t.show&&(o=window.setTimeout(()=>{s()},3e3)),()=>{o&&clearTimeout(o)}},[t.show]);const r=(o,i)=>{n({show:!0,points:o,badgeUnlocked:i})},s=()=>{n({show:!1,points:0})};return d.jsxs(d.Fragment,{children:[e(r),t.show&&d.jsx(q5,{points:t.points,badgeUnlocked:t.badgeUnlocked,onComplete:s})]})},G5=()=>{const{user:e}=ze(),{tasks:t,isLoading:n,isSubmitting:r,handleCompleteTask:s}=Yb(),o=t.find(c=>c.id==="post"),a=t.filter(c=>["comments","creators","story","multiplatform"].includes(c.id)).map(c=>{switch(c.id){case"comments":return{...c,label:"Replied to Comments"};case"creators":return{...c,label:"Engaged with Creators"};case"story":return{...c,label:"Posted to My Story"};case"multiplatform":return{...c,label:"Posted to Multiple Platforms"};default:return c}}),l=(c,u)=>{s(c,u)};return d.jsx(K5,{children:c=>d.jsxs("div",{className:"space-y-6",onSubmit:u=>{u.preventDefault(),u.stopPropagation()},children:[d.jsx("div",{className:"flex justify-center",children:n?d.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 animate-pulse flex items-center justify-center",children:d.jsx("span",{className:"text-gray-500",children:"Loading..."})}):o?d.jsx(z5,{task:o,isSubmitting:r,isUserLoggedIn:!!e,onComplete:u=>{l(u,c)}}):null}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("h4",{className:"text-sm font-medium text-gray-600 text-center",children:["Bonus Tasks (",a.length,"/4)"]}),d.jsx("div",{className:"space-y-2",children:n?Array(4).fill(0).map((u,f)=>d.jsx("div",{className:"h-12 bg-gray-200 animate-pulse rounded-lg"},`loading-bonus-${f}`)):a.map(u=>d.jsx(W5,{task:u,isSubmitting:r,isUserLoggedIn:!!e,onComplete:f=>{l(f,c)}},u.id))})]})]})})},Y5=()=>d.jsxs(cn,{className:"border border-border shadow-sm",children:[d.jsx(ts,{className:"pb-2 px-3 md:px-6",children:d.jsxs(ns,{className:"text-lg md:text-xl flex items-center",children:[d.jsx($c,{className:"mr-2 h-4 w-4 md:h-5 md:w-5 text-chichi-purple"}),"Today's Content Workflow"]})}),d.jsx(An,{className:"px-3 md:px-6",children:d.jsxs("div",{className:"space-y-4 md:space-y-6",children:[d.jsxs("div",{className:"pb-1 md:pb-2",children:[d.jsx("h3",{className:"font-medium text-base md:text-lg mb-3 md:mb-4",children:"Daily Tasks"}),d.jsx(G5,{})]}),d.jsx("div",{className:"h-px bg-gray-100 w-full my-3 md:my-4"}),d.jsx("div",{children:d.jsx(B5,{})})]})})]}),vw=["Creators who show up today, grow tomorrow.","Post something imperfect — progress over polish.","One post today = one step closer to your goals.","The only content that fails is the one you never post.","You don't need to go viral — you just need to be visible."],Q5=()=>{const[e,t]=p.useState("");return p.useEffect(()=>{const n=new Date,r=new Date(n.getFullYear(),0,0),o=Math.floor((n.getTime()-r.getTime())/(1e3*60*60*24))%vw.length;t(vw[o])},[]),d.jsxs(cn,{className:"border border-border shadow-sm",children:[d.jsx(ts,{className:"pb-2",children:d.jsxs(ns,{className:"text-lg flex items-center",children:[d.jsx($2,{className:"h-5 w-5 text-chichi-purple mr-2"}),"Today's Motivation"]})}),d.jsxs(An,{children:[d.jsx("div",{className:"bg-muted/20 p-6 rounded-lg flex items-center justify-center min-h-[100px]",children:d.jsxs("p",{className:"text-xl font-medium text-center text-foreground italic",children:['"',e,'"']})}),d.jsx("div",{className:"text-sm mt-6 text-muted-foreground",children:d.jsx("p",{children:"Stay consistent with your content to build your audience."})})]})]})},eC=p.memo(({posts:e,onComplete:t,isLoading:n=!1})=>{const r=$a(),[s,o]=p.useState(new Set),i=p.useMemo(()=>{const c=Qn(new Date);return e.filter(f=>{const h=Qn(new Date(f.date)),m=!f.completed&&!s.has(f.id),v=Mc(h,c)||WD(h,c);return m&&v}).sort((f,h)=>new Date(f.date).getTime()-new Date(h.date).getTime()).slice(0,5)},[e,s]),a=p.useCallback(c=>{r(c?`/calendar?edit=${c}`:"/calendar")},[r]),l=p.useCallback(c=>{o(u=>{const f=new Set(u);return f.add(c),f}),setTimeout(()=>{t(c)},150),setTimeout(()=>{o(u=>{const f=new Set(u);return f.delete(c),f})},2e3)},[t]);return d.jsxs(cn,{className:"border border-chichi-purple/20 transition-all duration-300",children:[d.jsxs(ts,{className:"pb-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ns,{className:"text-lg flex items-center",children:[d.jsx(mm,{className:"mr-2 h-5 w-5 text-chichi-purple"}),"Upcoming Posts"]}),d.jsx(re,{variant:"ghost",size:"sm",onClick:()=>a(),children:"View All"})]}),d.jsx(Qb,{children:"Your next scheduled content posts"})]}),d.jsx(An,{children:n?d.jsx("div",{className:"space-y-3",children:[1,2,3].map((c,u)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border bg-card animate-pulse",children:[d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),d.jsx("div",{className:"w-20 h-8 bg-gray-200 rounded ml-3"})]},`loading-${u}`))}):i.length>0?d.jsx("div",{className:"space-y-3",children:i.map(c=>{const u=s.has(c.id);return d.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center justify-between p-3 rounded-lg border border-border bg-card hover:bg-accent/50 transition-all duration-300 gap-3 ${u?"opacity-50 scale-95":""}`,children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(nr,{variant:"outline",className:"text-xs font-normal",children:c.platform}),d.jsx("span",{className:"text-sm text-muted-foreground",children:sn(new Date(c.date),"MMM d")})]}),d.jsx("h4",{className:"font-medium text-sm sm:text-base truncate",children:c.title}),c.description&&d.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:c.description})]}),d.jsxs("div",{className:"flex gap-2 shrink-0",children:[d.jsx(re,{variant:"outline",size:"sm",onClick:()=>l(c.id),disabled:u,className:"text-green-600 border-green-200 hover:bg-green-50 hover:text-green-700 touch-manipulation transition-all duration-200",children:u?"Completing...":"Complete"}),d.jsxs(re,{variant:"outline",size:"sm",onClick:()=>a(c.id),className:"touch-manipulation transition-all duration-200",children:[d.jsx(B2,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Edit"})]})]})]},c.id)})}):d.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[d.jsx("p",{className:"mb-2",children:"No upcoming content scheduled."}),d.jsx(re,{variant:"link",className:"text-chichi-purple p-0",onClick:()=>a(),children:"Schedule some posts"})]})})]})});eC.displayName="UpcomingPosts";const X5=()=>{const e=$a();return d.jsxs(cn,{className:"border border-border shadow-sm",children:[d.jsx(ts,{className:"pb-2 px-3 md:px-6",children:d.jsx(ns,{className:"text-lg md:text-xl",children:"Quick Actions"})}),d.jsx(An,{className:"px-3 md:px-6",children:d.jsxs(re,{onClick:()=>e("/notes"),variant:"outline",className:"w-full flex items-center gap-2",children:[d.jsx(z2,{className:"h-4 w-4"}),"Notes & Ideas"]})})]})},J5=["Instagram","TikTok","YouTube","Other"],tC=["#ViralMoment","#ConsistencyPayoff","#BrandDM","#BackOnTrack","#EngagementSpike"];function xg(){const{user:e}=ze(),[t,n]=p.useState([]),[r,s]=p.useState([]),[o,i]=p.useState(!1),[a,l]=p.useState(0),c=async()=>{if(e!=null&&e.id){i(!0);try{const{data:v,error:g}=await O.from("wins").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(3);if(g)throw g;n(v||[])}catch(v){console.error("Error fetching user wins:",v),ae({title:"Error",description:"Failed to load your wins",variant:"destructive"})}finally{i(!1)}}},u=async()=>{if(e!=null&&e.id)try{const v=new Date;v.setDate(v.getDate()-7);const{count:g,error:x}=await O.from("wins").select("*",{count:"exact",head:!0}).eq("user_id",e.id).gte("created_at",v.toISOString());if(x)throw x;l(g||0)}catch(v){console.error("Error fetching weekly wins count:",v)}},f=async()=>{try{const{data:v,error:g}=await O.from("community_wins_with_profiles").select("*").order("created_at",{ascending:!1});if(g)throw g;s(v||[])}catch(v){console.error("Error fetching community wins:",v)}},h=async v=>{if(!(e!=null&&e.id))return!1;try{let g=null;if(v.screenshot){const S=v.screenshot.name.split(".").pop(),b=`${e.id}/${Date.now()}.${S}`,{data:k,error:_}=await O.storage.from("win-screenshots").upload(b,v.screenshot);if(_)throw _;const{data:C}=O.storage.from("win-screenshots").getPublicUrl(b);g=C.publicUrl}const{error:x}=await O.from("wins").insert({user_id:e.id,title:v.title,date:v.date,platform:v.platform,description:v.description,tags:v.tags,screenshot_url:g,share_to_community:v.share_to_community});if(x)throw x;await c(),await u();const y=["Win logged! You're building momentum 🚀","Another win in the books! Keep going 💪","That's what we like to see! Win recorded 🔥",`You've logged ${a+1} wins this week — CHI approved 🔥`],w=y[Math.floor(Math.random()*y.length)];return ae({title:"Win Logged!",description:w}),!0}catch(g){return console.error("Error creating win:",g),ae({title:"Error",description:"Failed to log your win. Please try again.",variant:"destructive"}),!1}},m=async(v,g)=>{if(e!=null&&e.id)try{const{error:x}=await O.from("win_reactions").upsert({win_id:v,user_id:e.id,reaction_type:g});if(x)throw x;await f()}catch(x){console.error("Error adding reaction:",x)}};return p.useEffect(()=>{c(),u()},[e==null?void 0:e.id]),{wins:t,communityWins:r,isLoading:o,totalWinsThisWeek:a,createWin:h,addReaction:m,fetchCommunityWins:f,refetchWins:c}}const Z5={Instagram:t1,TikTok:n1,YouTube:o1,Other:Nu};function e4({win:e}){const t=Z5[e.platform]||Nu;return d.jsx(cn,{className:"border border-border shadow-sm",children:d.jsxs(An,{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("h4",{className:"font-semibold text-sm",children:e.title}),d.jsxs("div",{className:"flex items-center text-xs text-gray-500 ml-2",children:[d.jsx(mm,{className:"h-3 w-3 mr-1"}),new Date(e.date).toLocaleDateString()]})]}),d.jsx("div",{className:"flex items-center gap-2 mb-3",children:d.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[d.jsx(t,{className:"h-3 w-3"}),e.platform]})}),e.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.map((n,r)=>d.jsx(nr,{variant:"outline",className:"text-xs px-2 py-0",children:n},r))}),e.screenshot_url&&d.jsx("div",{className:"mb-3",children:d.jsx("img",{src:e.screenshot_url,alt:"Win screenshot",className:"w-full h-24 object-cover rounded-md"})}),e.description&&d.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:e.description})]})})}const Qh=p.forwardRef(({className:e,type:t,...n},r)=>d.jsx("input",{type:t,className:V("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,"aria-invalid":n["aria-invalid"],"aria-describedby":n["aria-describedby"],"aria-required":n["aria-required"],...n}));Qh.displayName="Input";var t4="Label",nC=p.forwardRef((e,t)=>d.jsx(X.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nC.displayName=t4;var rC=nC;const n4=hm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),hr=p.forwardRef(({className:e,...t},n)=>d.jsx(rC,{ref:n,className:V(n4(),e),...t}));hr.displayName=rC.displayName;const Sg=p.forwardRef(({className:e,...t},n)=>d.jsx("textarea",{className:V("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Sg.displayName="Textarea";function Xh(e,[t,n]){return Math.min(n,Math.max(t,e))}function r4(e,t=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];function c(f){const{scope:h,children:m,...v}=f,g=(h==null?void 0:h[e][l])||a,x=p.useMemo(()=>v,Object.values(v));return d.jsx(g.Provider,{value:x,children:m})}function u(f,h){const m=(h==null?void 0:h[e][l])||a,v=p.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,s4(s,...t)]}function s4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function o4(e){const t=e+"CollectionProvider",[n,r]=r4(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:v,children:g}=m,x=ve.useRef(null),y=ve.useRef(new Map).current;return d.jsx(s,{scope:v,itemMap:y,collectionRef:x,children:g})};i.displayName=t;const a=e+"CollectionSlot",l=ve.forwardRef((m,v)=>{const{scope:g,children:x}=m,y=o(a,g),w=oe(v,y.collectionRef);return d.jsx(Ns,{ref:w,children:x})});l.displayName=a;const c=e+"CollectionItemSlot",u="data-radix-collection-item",f=ve.forwardRef((m,v)=>{const{scope:g,children:x,...y}=m,w=ve.useRef(null),S=oe(v,w),b=o(c,g);return ve.useEffect(()=>(b.itemMap.set(w,{ref:w,...y}),()=>void b.itemMap.delete(w))),d.jsx(Ns,{[u]:"",ref:S,children:x})});f.displayName=c;function h(m){const v=o(e+"CollectionConsumer",m);return ve.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((b,k)=>y.indexOf(b.ref.current)-y.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:l,ItemSlot:f},h,r]}var i4=p.createContext(void 0);function sC(e){const t=p.useContext(i4);return e||t||"ltr"}function oC(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var a4=[" ","Enter","ArrowUp","ArrowDown"],l4=[" ","Enter"],Ja="Select",[Qu,Xu,c4]=o4(Ja),[ci,fB]=ii(Ja,[c4,Hu]),Ju=Hu(),[u4,ss]=ci(Ja),[d4,f4]=ci(Ja),iC=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:m,form:v}=e,g=Ju(t),[x,y]=p.useState(null),[w,S]=p.useState(null),[b,k]=p.useState(!1),_=sC(c),[C=!1,P]=Aa({prop:r,defaultProp:s,onChange:o}),[T,A]=Aa({prop:i,defaultProp:a,onChange:l}),I=p.useRef(null),M=x?v||!!x.closest("form"):!0,[Y,z]=p.useState(new Set),ce=Array.from(Y).map(B=>B.props.value).join(";");return d.jsx(V_,{...g,children:d.jsxs(u4,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:b,onValueNodeHasChildrenChange:k,contentId:Ps(),value:T,onValueChange:A,open:C,onOpenChange:P,dir:_,triggerPointerDownPosRef:I,disabled:h,children:[d.jsx(Qu.Provider,{scope:t,children:d.jsx(d4,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(B=>{z(F=>new Set(F).add(B))},[]),onNativeOptionRemove:p.useCallback(B=>{z(F=>{const E=new Set(F);return E.delete(B),E})},[]),children:n})}),M?d.jsxs(RC,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:T,onChange:B=>A(B.target.value),disabled:h,form:v,children:[T===void 0?d.jsx("option",{value:""}):null,Array.from(Y)]},ce):null]})})};iC.displayName=Ja;var aC="SelectTrigger",lC=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Ju(n),i=ss(aC,n),a=i.disabled||r,l=oe(t,i.onTriggerChange),c=Xu(n),u=p.useRef("touch"),[f,h,m]=NC(g=>{const x=c().filter(S=>!S.disabled),y=x.find(S=>S.value===i.value),w=OC(x,g,y);w!==void 0&&i.onValueChange(w.value)}),v=g=>{a||(i.onOpenChange(!0),m()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(B_,{asChild:!0,...o,children:d.jsx(X.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":AC(i.value)?"":void 0,...s,ref:l,onClick:Q(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:Q(s.onPointerDown,g=>{u.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Q(s.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&a4.includes(g.key)&&(v(),g.preventDefault())})})})});lC.displayName=aC;var cC="SelectValue",uC=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=ss(cC,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=oe(t,l.onValueNodeChange);return Be(()=>{c(u)},[c,u]),d.jsx(X.span,{...a,ref:f,style:{pointerEvents:"none"},children:AC(l.value)?d.jsx(d.Fragment,{children:i}):o})});uC.displayName=cC;var h4="SelectIcon",dC=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return d.jsx(X.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});dC.displayName=h4;var p4="SelectPortal",fC=e=>d.jsx(Zm,{asChild:!0,...e});fC.displayName=p4;var Ms="SelectContent",hC=p.forwardRef((e,t)=>{const n=ss(Ms,e.__scopeSelect),[r,s]=p.useState();if(Be(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Jo.createPortal(d.jsx(pC,{scope:e.__scopeSelect,children:d.jsx(Qu.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),o):null}return d.jsx(mC,{...e,ref:t})});hC.displayName=Ms;var Gt=10,[pC,os]=ci(Ms),m4="SelectContentImpl",mC=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:x,...y}=e,w=ss(Ms,n),[S,b]=p.useState(null),[k,_]=p.useState(null),C=oe(t,$=>b($)),[P,T]=p.useState(null),[A,I]=p.useState(null),M=Xu(n),[Y,z]=p.useState(!1),ce=p.useRef(!1);p.useEffect(()=>{if(S)return Kk(S)},[S]),Fk();const B=p.useCallback($=>{const[me,...Xe]=M().map(de=>de.ref.current),[fe]=Xe.slice(-1),ue=document.activeElement;for(const de of $)if(de===ue||(de==null||de.scrollIntoView({block:"nearest"}),de===me&&k&&(k.scrollTop=0),de===fe&&k&&(k.scrollTop=k.scrollHeight),de==null||de.focus(),document.activeElement!==ue))return},[M,k]),F=p.useCallback(()=>B([P,S]),[B,P,S]);p.useEffect(()=>{Y&&F()},[Y,F]);const{onOpenChange:E,triggerPointerDownPosRef:N}=w;p.useEffect(()=>{if(S){let $={x:0,y:0};const me=fe=>{var ue,de;$={x:Math.abs(Math.round(fe.pageX)-(((ue=N.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((de=N.current)==null?void 0:de.y)??0))}},Xe=fe=>{$.x<=10&&$.y<=10?fe.preventDefault():S.contains(fe.target)||E(!1),document.removeEventListener("pointermove",me),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[S,E,N]),p.useEffect(()=>{const $=()=>E(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[E]);const[L,W]=NC($=>{const me=M().filter(ue=>!ue.disabled),Xe=me.find(ue=>ue.ref.current===document.activeElement),fe=OC(me,$,Xe);fe&&setTimeout(()=>fe.ref.current.focus())}),Se=p.useCallback(($,me,Xe)=>{const fe=!ce.current&&!Xe;(w.value!==void 0&&w.value===me||fe)&&(T($),fe&&(ce.current=!0))},[w.value]),dn=p.useCallback(()=>S==null?void 0:S.focus(),[S]),Qe=p.useCallback(($,me,Xe)=>{const fe=!ce.current&&!Xe;(w.value!==void 0&&w.value===me||fe)&&I($)},[w.value]),fn=r==="popper"?Jh:gC,it=fn===Jh?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:x}:{};return d.jsx(pC,{scope:n,content:S,viewport:k,onViewportChange:_,itemRefCallback:Se,selectedItem:P,onItemLeave:dn,itemTextRefCallback:Qe,focusSelectedItem:F,selectedItemText:A,position:r,isPositioned:Y,searchRef:L,children:d.jsx(eg,{as:Ns,allowPinchZoom:!0,children:d.jsx(Jm,{asChild:!0,trapped:w.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:Q(s,$=>{var me;(me=w.trigger)==null||me.focus({preventScroll:!0}),$.preventDefault()}),children:d.jsx(Uu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:d.jsx(fn,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:$=>$.preventDefault(),...y,...it,onPlaced:()=>z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Q(y.onKeyDown,$=>{const me=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!me&&$.key.length===1&&W($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let fe=M().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes($.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const ue=$.target,de=fe.indexOf(ue);fe=fe.slice(de+1)}setTimeout(()=>B(fe)),$.preventDefault()}})})})})})})});mC.displayName=m4;var g4="SelectItemAlignedPosition",gC=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=ss(Ms,n),i=os(Ms,n),[a,l]=p.useState(null),[c,u]=p.useState(null),f=oe(t,C=>u(C)),h=Xu(n),m=p.useRef(!1),v=p.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:w}=i,S=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&x&&y){const C=o.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(o.dir!=="rtl"){const ue=A.left-P.left,de=T.left-ue,St=C.left-de,hn=C.width+St,ui=Math.max(hn,P.width),di=window.innerWidth-Gt,fi=Xh(de,[Gt,Math.max(Gt,di-ui)]);a.style.minWidth=hn+"px",a.style.left=fi+"px"}else{const ue=P.right-A.right,de=window.innerWidth-T.right-ue,St=window.innerWidth-C.right-de,hn=C.width+St,ui=Math.max(hn,P.width),di=window.innerWidth-Gt,fi=Xh(de,[Gt,Math.max(Gt,di-ui)]);a.style.minWidth=hn+"px",a.style.right=fi+"px"}const I=h(),M=window.innerHeight-Gt*2,Y=g.scrollHeight,z=window.getComputedStyle(c),ce=parseInt(z.borderTopWidth,10),B=parseInt(z.paddingTop,10),F=parseInt(z.borderBottomWidth,10),E=parseInt(z.paddingBottom,10),N=ce+B+Y+E+F,L=Math.min(x.offsetHeight*5,N),W=window.getComputedStyle(g),Se=parseInt(W.paddingTop,10),dn=parseInt(W.paddingBottom,10),Qe=C.top+C.height/2-Gt,fn=M-Qe,it=x.offsetHeight/2,$=x.offsetTop+it,me=ce+B+$,Xe=N-me;if(me<=Qe){const ue=I.length>0&&x===I[I.length-1].ref.current;a.style.bottom="0px";const de=c.clientHeight-g.offsetTop-g.offsetHeight,St=Math.max(fn,it+(ue?dn:0)+de+F),hn=me+St;a.style.height=hn+"px"}else{const ue=I.length>0&&x===I[0].ref.current;a.style.top="0px";const St=Math.max(Qe,ce+g.offsetTop+(ue?Se:0)+it)+Xe;a.style.height=St+"px",g.scrollTop=me-Qe+g.offsetTop}a.style.margin=`${Gt}px 0`,a.style.minHeight=L+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,c,g,x,y,o.dir,r]);Be(()=>S(),[S]);const[b,k]=p.useState();Be(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const _=p.useCallback(C=>{C&&v.current===!0&&(S(),w==null||w(),v.current=!1)},[S,w]);return d.jsx(v4,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:_,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:d.jsx(X.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gC.displayName=g4;var y4="SelectPopperPosition",Jh=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Gt,...o}=e,i=Ju(n);return d.jsx(z_,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jh.displayName=y4;var[v4,bg]=ci(Ms,{}),Zh="SelectViewport",yC=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=os(Zh,n),i=bg(Zh,n),a=oe(t,o.onViewportChange),l=p.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Qu.Slot,{scope:n,children:d.jsx(X.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const m=Math.abs(l.current-u.scrollTop);if(m>0){const v=window.innerHeight-Gt*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(g,x);if(y<v){const w=y+m,S=Math.min(v,w),b=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});yC.displayName=Zh;var vC="SelectGroup",[w4,x4]=ci(vC),S4=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ps();return d.jsx(w4,{scope:n,id:s,children:d.jsx(X.div,{role:"group","aria-labelledby":s,...r,ref:t})})});S4.displayName=vC;var wC="SelectLabel",xC=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=x4(wC,n);return d.jsx(X.div,{id:s.id,...r,ref:t})});xC.displayName=wC;var tu="SelectItem",[b4,SC]=ci(tu),bC=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=ss(tu,n),l=os(tu,n),c=a.value===r,[u,f]=p.useState(o??""),[h,m]=p.useState(!1),v=oe(t,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,s)}),g=Ps(),x=p.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(b4,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:p.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:d.jsx(Qu.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(X.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:Q(i.onFocus,()=>m(!0)),onBlur:Q(i.onBlur,()=>m(!1)),onClick:Q(i.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Q(i.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Q(i.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:Q(i.onPointerMove,w=>{var S;x.current=w.pointerType,s?(S=l.onItemLeave)==null||S.call(l):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(i.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:Q(i.onKeyDown,w=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&w.key===" "||(l4.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});bC.displayName=tu;var Li="SelectItemText",kC=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=ss(Li,n),a=os(Li,n),l=SC(Li,n),c=f4(Li,n),[u,f]=p.useState(null),h=oe(t,y=>f(y),l.onItemTextChange,y=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,y,l.value,l.disabled)}),m=u==null?void 0:u.textContent,v=p.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return Be(()=>(g(v),()=>x(v)),[g,x,v]),d.jsxs(d.Fragment,{children:[d.jsx(X.span,{id:l.textId,...o,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Jo.createPortal(o.children,i.valueNode):null]})});kC.displayName=Li;var _C="SelectItemIndicator",CC=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return SC(_C,n).isSelected?d.jsx(X.span,{"aria-hidden":!0,...r,ref:t}):null});CC.displayName=_C;var ep="SelectScrollUpButton",PC=p.forwardRef((e,t)=>{const n=os(ep,e.__scopeSelect),r=bg(ep,e.__scopeSelect),[s,o]=p.useState(!1),i=oe(t,r.onScrollButtonChange);return Be(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(TC,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});PC.displayName=ep;var tp="SelectScrollDownButton",EC=p.forwardRef((e,t)=>{const n=os(tp,e.__scopeSelect),r=bg(tp,e.__scopeSelect),[s,o]=p.useState(!1),i=oe(t,r.onScrollButtonChange);return Be(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(TC,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});EC.displayName=tp;var TC=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=os("SelectScrollButton",n),i=p.useRef(null),a=Xu(n),l=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),Be(()=>{var u;const c=a().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(X.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Q(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{l()})})}),k4="SelectSeparator",jC=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return d.jsx(X.div,{"aria-hidden":!0,...r,ref:t})});jC.displayName=k4;var np="SelectArrow",_4=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ju(n),o=ss(np,n),i=os(np,n);return o.open&&i.position==="popper"?d.jsx(W_,{...s,...r,ref:t}):null});_4.displayName=np;function AC(e){return e===""||e===void 0}var RC=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=p.useRef(null),o=oe(t,s),i=oC(n);return p.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[i,n]),d.jsx(yg,{asChild:!0,children:d.jsx("select",{...r,ref:o,defaultValue:n})})});RC.displayName="BubbleSelect";function NC(e){const t=Ke(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(i=>{const a=n.current+i;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function OC(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=C4(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function C4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var P4=iC,DC=lC,E4=uC,T4=dC,j4=fC,MC=hC,A4=yC,LC=xC,IC=bC,R4=kC,N4=CC,FC=PC,UC=EC,$C=jC;const VC=P4,BC=E4,kg=p.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(DC,{ref:r,className:V("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,d.jsx(T4,{asChild:!0,children:d.jsx(e1,{className:"h-4 w-4 opacity-50"})})]}));kg.displayName=DC.displayName;const zC=p.forwardRef(({className:e,...t},n)=>d.jsx(FC,{ref:n,className:V("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(E2,{className:"h-4 w-4"})}));zC.displayName=FC.displayName;const WC=p.forwardRef(({className:e,...t},n)=>d.jsx(UC,{ref:n,className:V("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(e1,{className:"h-4 w-4"})}));WC.displayName=UC.displayName;const _g=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>d.jsx(j4,{children:d.jsxs(MC,{ref:s,className:V("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[d.jsx(zC,{}),d.jsx(A4,{className:V("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(WC,{})]})}));_g.displayName=MC.displayName;const O4=p.forwardRef(({className:e,...t},n)=>d.jsx(LC,{ref:n,className:V("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));O4.displayName=LC.displayName;const nu=p.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(IC,{ref:r,className:V("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(N4,{children:d.jsx(br,{className:"h-4 w-4"})})}),d.jsx(R4,{children:t})]}));nu.displayName=IC.displayName;const D4=p.forwardRef(({className:e,...t},n)=>d.jsx($C,{ref:n,className:V("-mx-1 my-1 h-px bg-muted",e),...t}));D4.displayName=$C.displayName;var Cg="Switch",[M4,hB]=ii(Cg),[L4,I4]=M4(Cg),HC=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:c,form:u,...f}=e,[h,m]=p.useState(null),v=oe(t,S=>m(S)),g=p.useRef(!1),x=h?u||!!h.closest("form"):!0,[y=!1,w]=Aa({prop:s,defaultProp:o,onChange:c});return d.jsxs(L4,{scope:n,checked:y,disabled:a,children:[d.jsx(X.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":GC(y),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:v,onClick:Q(e.onClick,S=>{w(b=>!b),x&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),x&&d.jsx(F4,{control:h,bubbles:!g.current,name:r,value:l,checked:y,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});HC.displayName=Cg;var qC="SwitchThumb",KC=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=I4(qC,n);return d.jsx(X.span,{"data-state":GC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});KC.displayName=qC;var F4=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,o=p.useRef(null),i=oC(n),a=R_(t);return p.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[i,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function GC(e){return e?"checked":"unchecked"}var YC=HC,U4=KC;const QC=p.forwardRef(({className:e,...t},n)=>d.jsx(YC,{className:V("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:d.jsx(U4,{className:V("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));QC.displayName=YC.displayName;function $4({isOpen:e,onClose:t,onViewCommunity:n}){const{createWin:r}=xg(),[s,o]=p.useState(!1),[i,a]=p.useState({title:"",date:new Date().toISOString().split("T")[0],platform:"",description:"",tags:[],screenshot:void 0,share_to_community:!1}),l=async h=>{if(h.preventDefault(),!i.title||!i.platform)return;o(!0),await r(i)&&(a({title:"",date:new Date().toISOString().split("T")[0],platform:"",description:"",tags:[],screenshot:void 0,share_to_community:!1}),t()),o(!1)},c=h=>{a(m=>({...m,tags:m.tags.includes(h)?m.tags.filter(v=>v!==h):[...m.tags,h]}))},u=h=>{var v;const m=(v=h.target.files)==null?void 0:v[0];m&&a(g=>({...g,screenshot:m}))},f=()=>{a(h=>({...h,screenshot:void 0}))};return d.jsx(Vu,{open:e,onOpenChange:t,children:d.jsxs(Ga,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[d.jsx(Ya,{children:d.jsx(Qa,{children:"Log a New Win"})}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(hr,{htmlFor:"title",children:"Win Title"}),d.jsx(Qh,{id:"title",value:i.title,onChange:h=>a(m=>({...m,title:h.target.value})),placeholder:"e.g., Hit 10K followers!",required:!0})]}),d.jsxs("div",{children:[d.jsx(hr,{htmlFor:"date",children:"Date of Win"}),d.jsx(Qh,{id:"date",type:"date",value:i.date,onChange:h=>a(m=>({...m,date:h.target.value})),required:!0})]}),d.jsxs("div",{children:[d.jsx(hr,{htmlFor:"platform",children:"Platform"}),d.jsxs(VC,{value:i.platform,onValueChange:h=>a(m=>({...m,platform:h})),children:[d.jsx(kg,{children:d.jsx(BC,{placeholder:"Select platform"})}),d.jsx(_g,{children:J5.map(h=>d.jsx(nu,{value:h,children:h},h))})]})]}),d.jsxs("div",{children:[d.jsx(hr,{htmlFor:"description",children:"What Happened?"}),d.jsx(Sg,{id:"description",value:i.description,onChange:h=>a(m=>({...m,description:h.target.value})),placeholder:"Describe your win...",rows:3})]}),d.jsxs("div",{children:[d.jsx(hr,{children:"Tags"}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:tC.map(h=>d.jsx(nr,{variant:i.tags.includes(h)?"default":"outline",className:"cursor-pointer",onClick:()=>c(h),children:h},h))})]}),d.jsxs("div",{children:[d.jsx(hr,{children:"Upload Screenshot (Optional)"}),d.jsx("div",{className:"mt-2",children:i.screenshot?d.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md",children:[d.jsx("span",{className:"text-sm text-gray-600 flex-1",children:i.screenshot.name}),d.jsx(re,{type:"button",variant:"ghost",size:"sm",onClick:f,children:d.jsx(s1,{className:"h-4 w-4"})})]}):d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-4",children:[d.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"hidden",id:"screenshot-upload"}),d.jsxs("label",{htmlFor:"screenshot-upload",className:"flex flex-col items-center cursor-pointer",children:[d.jsx(q2,{className:"h-8 w-8 text-gray-400 mb-2"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload screenshot"})]})]})})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(hr,{htmlFor:"share-toggle",children:"Share to Community Wins Wall"}),d.jsx(QC,{id:"share-toggle",checked:i.share_to_community,onCheckedChange:h=>a(m=>({...m,share_to_community:h}))})]}),d.jsxs("div",{className:"flex gap-2 pt-4",children:[d.jsx(re,{type:"submit",disabled:s,className:"flex-1",children:s?"Logging...":"Log Win"}),d.jsx(re,{type:"button",variant:"outline",onClick:t,children:"Cancel"})]}),d.jsx("div",{className:"text-center pt-2",children:d.jsx(re,{type:"button",variant:"link",onClick:n,className:"text-sm",children:"View Community Wins Wall"})})]})]})})}var Pg="Avatar",[V4,pB]=ii(Pg),[B4,XC]=V4(Pg),JC=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=p.useState("idle");return d.jsx(B4,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:d.jsx(X.span,{...r,ref:t})})});JC.displayName=Pg;var ZC="AvatarImage",eP=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=XC(ZC,n),a=z4(r,o.referrerPolicy),l=Ke(c=>{s(c),i.onImageLoadingStatusChange(c)});return Be(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(X.img,{...o,ref:t,src:r}):null});eP.displayName=ZC;var tP="AvatarFallback",nP=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=XC(tP,n),[i,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?d.jsx(X.span,{...s,ref:t}):null});nP.displayName=tP;function z4(e,t){const[n,r]=p.useState("idle");return Be(()=>{if(!e){r("error");return}let s=!0;const o=new window.Image,i=a=>()=>{s&&r(a)};return r("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var rP=JC,sP=eP,oP=nP;const Zu=p.forwardRef(({className:e,...t},n)=>d.jsx(rP,{ref:n,className:V("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Zu.displayName=rP.displayName;const ed=p.forwardRef(({className:e,...t},n)=>d.jsx(sP,{ref:n,className:V("aspect-square h-full w-full",e),...t}));ed.displayName=sP.displayName;const td=p.forwardRef(({className:e,...t},n)=>d.jsx(oP,{ref:n,className:V("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));td.displayName=oP.displayName;const W4={Instagram:t1,TikTok:n1,YouTube:o1,Other:Nu},H4={big:"🔥",inspired:"💡",goal:"🎯"},q4={big:"That's Big",inspired:"Inspired Me",goal:"Goal Energy"};function K4({isOpen:e,onClose:t}){const{communityWins:n,addReaction:r,fetchCommunityWins:s}=xg(),[o,i]=p.useState([]),[a,l]=p.useState("all");p.useEffect(()=>{e&&s()},[e,s]),p.useEffect(()=>{i(a==="all"?n:n.filter(u=>u.tags.includes(a)))},[n,a]);const c=async(u,f)=>{await r(u,f)};return d.jsx(Vu,{open:e,onOpenChange:t,children:d.jsxs(Ga,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[d.jsx(Ya,{children:d.jsx(Qa,{children:"Community Wins Wall"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-medium",children:"Filter by tag:"}),d.jsxs(VC,{value:a,onValueChange:l,children:[d.jsx(kg,{className:"w-48",children:d.jsx(BC,{})}),d.jsxs(_g,{children:[d.jsx(nu,{value:"all",children:"All Wins"}),tC.map(u=>d.jsx(nu,{value:u,children:u},u))]})]})]}),d.jsx("div",{className:"space-y-4",children:o.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No community wins to show yet. Be the first to share your win!"}):o.map(u=>{const f=W4[u.platform]||Nu;return d.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs(Zu,{className:"h-8 w-8",children:[d.jsx(ed,{src:u.avatar_url||void 0}),d.jsx(td,{className:"bg-chichi-purple text-white text-xs",children:(u.user_name||u.username||"U").charAt(0).toUpperCase()})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sm",children:u.user_name||u.username}),u.username&&u.user_name&&d.jsxs("p",{className:"text-xs text-gray-500",children:["@",u.username]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold",children:u.title}),d.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-1",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(mm,{className:"h-3 w-3"}),new Date(u.date).toLocaleDateString()]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(f,{className:"h-3 w-3"}),u.platform]})]})]}),u.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1",children:u.tags.map((h,m)=>d.jsx(nr,{variant:"outline",className:"text-xs",children:h},m))}),u.screenshot_url&&d.jsx("img",{src:u.screenshot_url,alt:"Win screenshot",className:"w-full max-h-48 object-cover rounded-md"}),u.description&&d.jsx("p",{className:"text-sm text-gray-600",children:u.description}),d.jsx("div",{className:"flex gap-2 pt-2 border-t",children:Object.entries(H4).map(([h,m])=>{const v=u[`${h}_reactions`];return d.jsxs(re,{variant:"outline",size:"sm",onClick:()=>c(u.id,h),className:"text-xs",children:[d.jsx("span",{className:"mr-1",children:m}),q4[h],v>0&&d.jsxs("span",{className:"ml-1",children:["(",v,")"]})]},h)})})]},u.id)})})]})]})})}function G4(){const{wins:e,isLoading:t}=xg(),[n,r]=p.useState(!1),[s,o]=p.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsxs(cn,{className:"border border-border shadow-sm",children:[d.jsx(ts,{className:"pb-2 px-3 md:px-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(ns,{className:"text-lg md:text-xl",children:"Your Wins"}),d.jsxs(re,{onClick:()=>r(!0),size:"sm",className:"bg-chichi-purple hover:bg-chichi-purple-dark",children:[d.jsx(Nv,{className:"h-4 w-4 mr-1"}),"Log a New Win"]})]})}),d.jsx(An,{className:"px-3 md:px-6",children:t?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[...Array(3)].map((i,a)=>d.jsx("div",{className:"animate-pulse",children:d.jsx("div",{className:"bg-gray-200 h-32 rounded-lg"})},a))}):e.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-gray-500 mb-4",children:"No wins logged yet!"}),d.jsxs(re,{onClick:()=>r(!0),variant:"outline",children:[d.jsx(Nv,{className:"h-4 w-4 mr-1"}),"Log Your First Win"]})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:e.map(i=>d.jsx(e4,{win:i},i.id))})})]}),d.jsx($4,{isOpen:n,onClose:()=>r(!1),onViewCommunity:()=>{r(!1),o(!0)}}),d.jsx(K4,{isOpen:s,onClose:()=>o(!1)})]})}const Y4=(e="all-time")=>{const{user:t}=ze(),[n,r]=p.useState([]),[s,o]=p.useState(null),[i,a]=p.useState(!0),[l,c]=p.useState(null),u=async()=>{try{a(!0),c(null),await O.rpc("update_user_leaderboard_stats");const f=e==="weekly"?"weekly_points":e==="monthly"?"monthly_points":"all_time_points",{data:h,error:m}=await O.from("user_leaderboard_stats").select(`
          user_id,
          ${f},
          current_streak,
          rank_change,
          user_profiles!inner (
            name,
            username,
            avatar_url
          )
        `).order(f,{ascending:!1}).limit(3);if(m)throw m;const v=(h||[]).map((g,x)=>{var y,w,S;return{id:g.user_id,name:((y=g.user_profiles)==null?void 0:y.name)||"Anonymous",username:(w=g.user_profiles)==null?void 0:w.username,avatar_url:(S=g.user_profiles)==null?void 0:S.avatar_url,points:g[f],current_streak:g.current_streak,rank:x+1,rank_change:g.rank_change}});if(r(v),t!=null&&t.id){const{data:g,error:x}=await O.from("user_leaderboard_stats").select(f).eq("user_id",t.id).single();if(x&&x.code!=="PGRST116"&&console.error("Error fetching user stats:",x),g){const y=g[f],{count:w,error:S}=await O.from("user_leaderboard_stats").select("*",{count:"exact",head:!0}).gt(f,y);if(S)throw S;const{count:b,error:k}=await O.from("user_leaderboard_stats").select("*",{count:"exact",head:!0});if(k)throw k;o({rank:(w||0)+1,points:y,total_users:b||0})}}}catch(f){console.error("Error fetching leaderboard:",f),c(f instanceof Error?f.message:"Failed to load leaderboard")}finally{a(!1)}};return p.useEffect(()=>{u()},[e,t==null?void 0:t.id]),{topUsers:n,userRank:s,isLoading:i,error:l,refetch:u}},Q4=({selectedPeriod:e,onPeriodChange:t})=>{const n=[{key:"weekly",label:"Weekly"},{key:"monthly",label:"Monthly"},{key:"all-time",label:"All-Time"}];return d.jsx("div",{className:"flex gap-2",children:n.map(({key:r,label:s})=>d.jsx(re,{variant:e===r?"default":"outline",size:"sm",onClick:()=>t(r),className:"text-xs",children:s},r))})},X4=({rank:e})=>e===1?d.jsx(R2,{className:"h-6 w-6 text-yellow-500"}):e===2?d.jsx(pm,{className:"h-6 w-6 text-gray-400"}):e===3?d.jsx(gm,{className:"h-6 w-6 text-amber-600"}):null,J4=({user:e,isAnimated:t=!1})=>{var s;const n=o=>o===1?"border-yellow-400 bg-gradient-to-r from-yellow-50 to-yellow-100":o===2?"border-gray-400 bg-gradient-to-r from-gray-50 to-gray-100":o===3?"border-amber-600 bg-gradient-to-r from-amber-50 to-amber-100":"border-gray-200 bg-white",r=e.username||e.name;return d.jsxs("div",{className:V("relative p-4 rounded-lg border-2 transition-all duration-300",n(e.rank),t&&"animate-pulse"),children:[d.jsx("div",{className:"absolute -top-2 -left-2",children:d.jsx("div",{className:V("flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold",e.rank===1&&"bg-yellow-500 text-white",e.rank===2&&"bg-gray-400 text-white",e.rank===3&&"bg-amber-600 text-white"),children:e.rank})}),e.rank<=3&&d.jsx("div",{className:"absolute -top-3 right-2",children:d.jsx(X4,{rank:e.rank})}),d.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[d.jsxs(Zu,{className:"h-12 w-12",children:[d.jsx(ed,{src:e.avatar_url||"",alt:r}),d.jsx(td,{children:((s=r[0])==null?void 0:s.toUpperCase())||"U"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:r}),e.rank_change>0&&d.jsxs(nr,{variant:"accent",className:"text-xs",children:[d.jsx(H2,{className:"h-3 w-3 mr-1"}),"+",e.rank_change]})]}),d.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[d.jsxs("span",{className:"text-lg font-bold text-chichi-purple",children:[e.points.toLocaleString()," pts"]}),e.current_streak>0&&d.jsxs("div",{className:"flex items-center gap-1 text-sm text-orange-600",children:[d.jsx(Uc,{className:"h-4 w-4"}),d.jsx("span",{children:e.current_streak})]})]})]})]}),e.rank_change>0&&d.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-yellow-200/20 to-orange-200/20 animate-pulse"})]})},Z4=({user:e,userRank:t})=>{var r;const n=e.username||e.name||"You";return d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:d.jsx("div",{className:"bg-chichi-purple-soft rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs(Zu,{className:"h-8 w-8",children:[d.jsx(ed,{src:e.avatarUrl||"",alt:n}),d.jsx(td,{children:((r=n[0])==null?void 0:r.toUpperCase())||"U"})]}),d.jsxs("div",{children:[d.jsxs("span",{className:"font-medium text-gray-900",children:["You're #",t.rank]}),d.jsxs("div",{className:"text-sm text-gray-600",children:[t.points.toLocaleString()," points"]})]})]}),d.jsxs("div",{className:"text-right text-sm text-gray-500",children:["of ",t.total_users," creators"]})]})})})},eV=({topUsers:e,userRank:t,user:n,isLoading:r,error:s,onRefetch:o})=>r?d.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>d.jsx("div",{className:"animate-pulse",children:d.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"})},i))}):s?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-red-600 mb-2",children:"Failed to load leaderboard"}),d.jsx(re,{variant:"outline",onClick:o,children:"Try Again"})]}):e.length===0?d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(gm,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),d.jsx("p",{children:"No creators on the leaderboard yet."}),d.jsx("p",{className:"text-sm",children:"Complete tasks to be the first!"})]}):d.jsxs("div",{className:"space-y-4",children:[e.map(i=>d.jsx(J4,{user:i,isAnimated:i.rank_change>0},i.id)),n&&t&&!e.find(i=>i.id===n.id)&&d.jsx(Z4,{user:n,userRank:t})]}),tV=()=>{const{user:e}=ze(),[t,n]=p.useState("all-time"),{topUsers:r,userRank:s,isLoading:o,error:i,refetch:a}=Y4(t);return d.jsxs(cn,{className:"p-4 md:p-6",children:[d.jsxs(ts,{className:"pb-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ns,{className:"text-xl font-semibold flex items-center gap-2",children:[d.jsx(gm,{className:"h-5 w-5 text-chichi-purple"}),"Leaderboard"]}),d.jsx(re,{variant:"ghost",size:"sm",onClick:a,disabled:o,children:"Refresh"})]}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Creators who show up consistently rise to the top. Are you next?"}),d.jsx(Q4,{selectedPeriod:t,onPeriodChange:n})]}),d.jsx(An,{children:d.jsx(eV,{topUsers:r,userRank:s,user:e,isLoading:o,error:i,onRefetch:a})})]})},nV=({userStats:e,canRecoverStreak:t,upcomingPosts:n,isLoadingPosts:r,handleCompletePost:s})=>(ym(),d.jsxs("div",{className:"space-y-3 md:space-y-6",children:[d.jsx(vn,{children:d.jsx(Y5,{})}),d.jsx(vn,{children:d.jsx(I5,{currentStreak:e.currentStreak,longestStreak:e.longestStreak,totalPoints:e.totalPoints,levelPoints:e.levelPoints,maxLevelPoints:e.maxLevelPoints,level:e.level,canRecoverStreak:t})}),d.jsx(vn,{children:d.jsx(G4,{})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-6",children:[d.jsx("div",{className:"md:col-span-1 order-2 md:order-1",children:d.jsx(vn,{children:d.jsx(Q5,{})})}),d.jsxs("div",{className:"md:col-span-2 order-1 md:order-2 space-y-3 md:space-y-6",children:[d.jsx(vn,{children:d.jsx(X5,{})}),d.jsx(vn,{children:d.jsx(eC,{posts:n,onComplete:s,isLoading:r})})]})]}),d.jsx(vn,{children:d.jsx(tV,{})})]})),rV=({betaVersion:e})=>d.jsxs("div",{className:"mt-8 pt-4 pb-6 border-t flex flex-row justify-between items-center text-sm text-muted-foreground",children:[d.jsx("div",{children:d.jsxs("span",{className:"text-xs",children:["Beta v",e]})}),d.jsx("div",{className:"flex items-center",children:d.jsx(wg,{className:"text-xs"})})]}),iP=p.memo(()=>{const{user:e,isLoading:t}=ze(),{canRecoverStreak:n,tasks:r}=Yb(),[s]=p.useState("2.1"),{upcomingPosts:o,isLoadingPosts:i,handleCompletePost:a,refreshPosts:l}=p2(e==null?void 0:e.id),c=p.useCallback(()=>{e!=null&&e.id&&l()},[e==null?void 0:e.id,l]);p.useEffect(()=>{let f;return e!=null&&e.id&&(f=window.setTimeout(()=>{c()},200)),()=>{f&&clearTimeout(f)}},[e==null?void 0:e.id,c]),p.useEffect(()=>{let f;if(e!=null&&e.id){const h=r.find(m=>m.id==="post");h!=null&&h.completed&&(f=window.setTimeout(()=>{c()},1e3))}return()=>{f&&clearTimeout(f)}},[r,e==null?void 0:e.id,c]),p.useEffect(()=>{if(!(e!=null&&e.id))return;let f;const h=()=>{f&&clearTimeout(f),f=window.setTimeout(()=>{c()},800)},m=y=>{h()},v=()=>{h()},g=y=>{y.key==="calendar_task_added"&&(h(),localStorage.removeItem("calendar_task_added"))};return window.addEventListener("calendar_task_added",m),window.addEventListener("upcoming-posts-refresh",v),window.addEventListener("storage",g),localStorage.getItem("calendar_task_added")&&(h(),localStorage.removeItem("calendar_task_added")),()=>{window.removeEventListener("calendar_task_added",m),window.removeEventListener("upcoming-posts-refresh",v),window.removeEventListener("storage",g),f&&clearTimeout(f)}},[e==null?void 0:e.id,c]);const u={currentStreak:typeof(e==null?void 0:e.currentStreak)=="number"?e.currentStreak:0,longestStreak:typeof(e==null?void 0:e.longestStreak)=="number"?e.longestStreak:0,totalPoints:(e==null?void 0:e.points)??0,levelPoints:(e==null?void 0:e.levelPoints)??0,maxLevelPoints:(e==null?void 0:e.maxLevelPoints)??100,level:(e==null?void 0:e.level)??1,tasksCompleted:r.filter(f=>f.completed).length,totalTasks:r.length};return t?d.jsx("div",{className:"animate-fade-in pb-2 flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-chichi-orange mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})}):e?d.jsxs("div",{className:"animate-fade-in pb-2 transition-all duration-300",children:[d.jsx(Y2,{}),d.jsx(nV,{userStats:u,canRecoverStreak:n,upcomingPosts:o,isLoadingPosts:i,handleCompletePost:a}),d.jsx(rV,{betaVersion:s})]}):d.jsx("div",{className:"animate-fade-in pb-2 flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-chichi-orange mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})})});iP.displayName="Dashboard";const sV=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState(""),[s,o]=p.useState(!1),{toast:i}=_u(),{user:a}=ze();p.useEffect(()=>{if(!a)return;(async()=>{try{const{data:u}=await O.from("task_completions").select("id").eq("user_id",a.id).limit(1),f=u&&u.length>0,h=localStorage.getItem(`feedback_shown_${a.id}`);f&&!h&&(t(!0),localStorage.setItem(`feedback_shown_${a.id}`,"true"))}catch(u){console.error("Error checking task completion:",u)}})()},[a]);const l=async()=>{if(!(!n.trim()||!a)){o(!0);try{const{error:c}=await O.from("feedback").insert({user_id:a.id,content:n});if(c)throw c;i({title:"Feedback Received!",description:"Thank you for helping us improve CHICHI!"}),r(""),t(!1)}catch(c){console.error("Error sending feedback:",c),i({title:"Error",description:"There was a problem sending your feedback. Please try again.",variant:"destructive"})}finally{o(!1)}}};return d.jsxs(d.Fragment,{children:[d.jsx(re,{onClick:()=>t(!0),className:"fixed bottom-[140px] md:bottom-6 right-3 md:right-6 z-50 rounded-full shadow-lg bg-chichi-orange hover:bg-chichi-orange/90 h-12 w-12 md:h-12 md:w-12 touch-manipulation",size:"icon",title:"Leave Feedback","aria-label":"Leave Feedback",children:d.jsx(I2,{className:"h-5 w-5 md:h-5 md:w-5"})}),d.jsx(Vu,{open:e,onOpenChange:t,children:d.jsxs(Ga,{className:"sm:max-w-sm mx-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs(Ya,{children:[d.jsx(Qa,{className:"text-base md:text-lg",children:"Quick Feedback"}),d.jsx(ig,{className:"text-xs md:text-sm",children:"Help us improve CHICHI! What's working well or what could be better?"})]}),d.jsx("div",{className:"py-3",children:d.jsx(Sg,{placeholder:"Your thoughts...",value:n,onChange:c=>r(c.target.value),className:"min-h-[80px] text-sm resize-none",disabled:s})}),d.jsxs(og,{className:"flex-col sm:flex-row gap-2",children:[d.jsx(re,{variant:"outline",onClick:()=>t(!1),disabled:s,className:"w-full sm:w-auto touch-manipulation min-h-[40px] text-sm",children:"Cancel"}),d.jsx(re,{onClick:l,className:"bg-chichi-orange hover:bg-chichi-orange/90 w-full sm:w-auto touch-manipulation min-h-[40px] text-sm",disabled:s||!n.trim(),children:s?"Sending...":"Send"})]})]})})]})};function oV(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Eg="ScrollArea",[aP,mB]=ii(Eg),[iV,Ht]=aP(Eg),lP=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,l]=p.useState(null),[c,u]=p.useState(null),[f,h]=p.useState(null),[m,v]=p.useState(null),[g,x]=p.useState(null),[y,w]=p.useState(0),[S,b]=p.useState(0),[k,_]=p.useState(!1),[C,P]=p.useState(!1),T=oe(t,I=>l(I)),A=sC(s);return d.jsx(iV,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:k,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:P,onCornerWidthChange:w,onCornerHeightChange:b,children:d.jsx(X.div,{dir:A,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});lP.displayName=Eg;var cP="ScrollAreaViewport",uP=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:o,...i}=e,a=Ht(cP,n),l=p.useRef(null),c=oe(t,l,a.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),d.jsx(X.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:gV({asChild:s,children:r},u=>d.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});uP.displayName=cP;var Nn="ScrollAreaScrollbar",Tg=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ht(Nn,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return p.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?d.jsx(aV,{...r,ref:t,forceMount:n}):s.type==="scroll"?d.jsx(lV,{...r,ref:t,forceMount:n}):s.type==="auto"?d.jsx(dP,{...r,ref:t,forceMount:n}):s.type==="always"?d.jsx(jg,{...r,ref:t}):null});Tg.displayName=Nn;var aV=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ht(Nn,e.__scopeScrollArea),[o,i]=p.useState(!1);return p.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},u=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(rr,{present:n||o,children:d.jsx(dP,{"data-state":o?"visible":"hidden",...r,ref:t})})}),lV=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ht(Nn,e.__scopeScrollArea),o=e.orientation==="horizontal",i=rd(()=>l("SCROLL_END"),100),[a,l]=oV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),p.useEffect(()=>{const c=s.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const m=c[u];f!==m&&(l("SCROLL"),i()),f=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[s.viewport,o,l,i]),d.jsx(rr,{present:n||a!=="hidden",children:d.jsx(jg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Q(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Q(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),dP=p.forwardRef((e,t)=>{const n=Ht(Nn,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=p.useState(!1),a=e.orientation==="horizontal",l=rd(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:u)}},10);return Go(n.viewport,l),Go(n.content,l),d.jsx(rr,{present:r||o,children:d.jsx(jg,{"data-state":o?"visible":"hidden",...s,ref:t})})}),jg=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Ht(Nn,e.__scopeScrollArea),o=p.useRef(null),i=p.useRef(0),[a,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=gP(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,m){return pV(h,i.current,a,m)}return n==="horizontal"?d.jsx(cV,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,m=ww(h,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?d.jsx(uV,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,m=ww(h,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),cV=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Ht(Nn,e.__scopeScrollArea),[i,a]=p.useState(),l=p.useRef(null),c=oe(t,l,o.onScrollbarXChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(hP,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nd(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),vP(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:su(i.paddingLeft),paddingEnd:su(i.paddingRight)}})}})}),uV=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Ht(Nn,e.__scopeScrollArea),[i,a]=p.useState(),l=p.useRef(null),c=oe(t,l,o.onScrollbarYChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(hP,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nd(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),vP(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:su(i.paddingTop),paddingEnd:su(i.paddingBottom)}})}})}),[dV,fP]=aP(Nn),hP=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=e,m=Ht(Nn,n),[v,g]=p.useState(null),x=oe(t,T=>g(T)),y=p.useRef(null),w=p.useRef(""),S=m.viewport,b=r.content-r.viewport,k=Ke(u),_=Ke(l),C=rd(f,10);function P(T){if(y.current){const A=T.clientX-y.current.left,I=T.clientY-y.current.top;c({x:A,y:I})}}return p.useEffect(()=>{const T=A=>{const I=A.target;(v==null?void 0:v.contains(I))&&k(A,b)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[S,v,b,k]),p.useEffect(_,[r,_]),Go(v,C),Go(m.content,C),d.jsx(dV,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:Ke(o),onThumbPointerUp:Ke(i),onThumbPositionChange:_,onThumbPointerDown:Ke(a),children:d.jsx(X.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:Q(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),P(T))}),onPointerMove:Q(e.onPointerMove,P),onPointerUp:Q(e.onPointerUp,T=>{const A=T.target;A.hasPointerCapture(T.pointerId)&&A.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),ru="ScrollAreaThumb",pP=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=fP(ru,e.__scopeScrollArea);return d.jsx(rr,{present:n||s.hasThumb,children:d.jsx(fV,{ref:t,...r})})}),fV=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=Ht(ru,n),i=fP(ru,n),{onThumbPositionChange:a}=i,l=oe(t,f=>i.onThumbChange(f)),c=p.useRef(),u=rd(()=>{c.current&&(c.current(),c.current=void 0)},100);return p.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(u(),!c.current){const m=mV(f,a);c.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,u,a]),d.jsx(X.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Q(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,g=f.clientY-m.top;i.onThumbPointerDown({x:v,y:g})}),onPointerUp:Q(e.onPointerUp,i.onThumbPointerUp)})});pP.displayName=ru;var Ag="ScrollAreaCorner",mP=p.forwardRef((e,t)=>{const n=Ht(Ag,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?d.jsx(hV,{...e,ref:t}):null});mP.displayName=Ag;var hV=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Ht(Ag,n),[o,i]=p.useState(0),[a,l]=p.useState(0),c=!!(o&&a);return Go(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),Go(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),i(u)}),c?d.jsx(X.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function su(e){return e?parseInt(e,10):0}function gP(e,t){const n=e/t;return isNaN(n)?0:n}function nd(e){const t=gP(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function pV(e,t,n,r="ltr"){const s=nd(n),o=s/2,i=t||o,a=s-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return yP([l,c],f)(e)}function ww(e,t,n="ltr"){const r=nd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,i]:[i*-1,0],c=Xh(e,l);return yP([0,i],[0,a])(c)}function yP(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function vP(e,t){return e>0&&e<t}var mV=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function rd(e,t){const n=Ke(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Go(e,t){const n=Ke(t);Be(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function gV(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=p.Children.only(r);return p.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var wP=lP,yV=uP,vV=mP;const xP=p.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(wP,{ref:r,className:V("relative overflow-hidden",e),...n,children:[d.jsx(yV,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(vV,{})]}));xP.displayName=wP.displayName;const wV=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>d.jsx(Tg,{ref:r,orientation:t,className:V("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:d.jsx(pP,{className:"relative flex-1 rounded-full bg-border"})}));wV.displayName=Tg.displayName;function pf({notification:e,onMarkAsRead:t,onConnectionAction:n}){const r=!e.read_at,s=()=>{r&&t(e.id)},o=()=>{switch(e.type){case"connection_request":return"👥";case"connection_accepted":return"🤝";case"win_reaction":return e.data.reaction||"🔥";case"milestone_unlocked":return"👏";case"system_update":return"📢";default:return"📔"}};return d.jsx("div",{className:`p-3 border-b cursor-pointer transition-colors hover:bg-gray-50 ${r?"bg-blue-50/30 border-l-4 border-l-blue-500":""}`,onClick:s,children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx("div",{className:"text-sm",children:o()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[d.jsx("h4",{className:"text-xs font-medium text-gray-900 truncate",children:e.title}),r&&d.jsx(nr,{variant:"secondary",className:"bg-blue-500 text-white text-xs h-4 px-1",children:"New"})]}),d.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:e.message}),e.type==="connection_request"&&n&&d.jsxs("div",{className:"flex space-x-1.5",children:[d.jsx(re,{size:"sm",onClick:i=>{i.stopPropagation(),n(e.data.request_id,"accepted")},className:"bg-chichi-purple hover:bg-chichi-purple/90 h-6 px-2 text-xs",children:"Accept"}),d.jsx(re,{size:"sm",variant:"outline",onClick:i=>{i.stopPropagation(),n(e.data.request_id,"ignored")},className:"h-6 px-2 text-xs",children:"Ignore"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:zD(new Date(e.created_at),{addSuffix:!0})})]})]})})}function SP(){const{user:e}=ze(),[t,n]=p.useState([]),[r,s]=p.useState(!0),[o,i]=p.useState(0),a=async()=>{if(e)try{const{data:h,error:m}=await O.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50);if(m)throw m;const v=(h||[]).map(g=>({...g,data:g.data,type:g.type}));n(v),i(v.filter(g=>!g.read_at).length)}catch(h){console.error("Error fetching notifications:",h),ae({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{s(!1)}},l=async h=>{try{const{error:m}=await O.from("notifications").update({read_at:new Date().toISOString()}).eq("id",h);if(m)throw m;n(v=>v.map(g=>g.id===h?{...g,read_at:new Date().toISOString()}:g)),i(v=>Math.max(0,v-1))}catch(m){console.error("Error marking notification as read:",m)}},c=async()=>{if(e)try{const{error:h}=await O.from("notifications").update({read_at:new Date().toISOString()}).eq("user_id",e.id).is("read_at",null);if(h)throw h;n(m=>m.map(v=>({...v,read_at:v.read_at||new Date().toISOString()}))),i(0)}catch(h){console.error("Error marking all notifications as read:",h)}},u=async(h,m)=>{try{const{error:v}=await O.from("connection_requests").update({status:m}).eq("id",h);if(v)throw v;if(m==="accepted"){const{data:x,error:y}=await O.from("connection_requests").select("requester_id, requested_id").eq("id",h).single();!y&&x&&await O.from("user_follows").insert([{follower_id:x.requester_id,following_id:x.requested_id},{follower_id:x.requested_id,following_id:x.requester_id}])}const g=t.find(x=>x.type==="connection_request"&&x.data.request_id===h);g&&await l(g.id),ae({title:m==="accepted"?"Connection Accepted":"Request Ignored",description:m==="accepted"?"You are now connected!":"Connection request ignored"})}catch(v){console.error("Error handling connection request:",v),ae({title:"Error",description:"Failed to handle connection request",variant:"destructive"})}},f=h=>{const m=new Date,v=new Date(m.getFullYear(),m.getMonth(),m.getDate()),g=new Date(v);return g.setDate(g.getDate()-1),h.reduce((x,y)=>{const w=new Date(y.created_at),S=new Date(w.getFullYear(),w.getMonth(),w.getDate());return S.getTime()===v.getTime()?x.today.push(y):S.getTime()===g.getTime()?x.yesterday.push(y):x.older.push(y),x},{today:[],yesterday:[],older:[]})};return p.useEffect(()=>{if(a(),e){const h=O.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},m=>{const v={...m.new,data:m.new.data,type:m.new.type};n(g=>[v,...g]),i(g=>g+1)}).subscribe();return()=>{O.removeChannel(h)}}},[e]),{notifications:t,groupedNotifications:f(t),loading:r,unreadCount:o,markAsRead:l,markAllAsRead:c,handleConnectionRequest:u,refetch:a}}function xV({onClose:e}){const{groupedNotifications:t,loading:n,unreadCount:r,markAsRead:s,markAllAsRead:o,handleConnectionRequest:i}=SP(),a=t.today.length>0||t.yesterday.length>0||t.older.length>0;return n?d.jsx("div",{className:"w-64 bg-white rounded-lg shadow-lg border p-3",children:d.jsxs("div",{className:"animate-pulse space-y-3",children:[d.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("div",{className:"h-2 bg-gray-200 rounded"}),d.jsx("div",{className:"h-2 bg-gray-200 rounded w-5/6"})]})]})}):d.jsxs("div",{className:"w-64 bg-white rounded-lg shadow-lg border max-h-80 flex flex-col",children:[d.jsx("div",{className:"p-3 border-b",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notifications"}),r>0&&d.jsx(re,{variant:"ghost",size:"sm",onClick:o,className:"text-chichi-purple hover:text-chichi-purple/90 text-xs h-6 px-2",children:"Mark all read"})]})}),d.jsx(xP,{className:"flex-1",children:a?d.jsxs("div",{className:"divide-y",children:[t.today.length>0&&d.jsxs("div",{children:[d.jsx("div",{className:"px-3 py-1.5 bg-gray-50 border-b",children:d.jsx("h4",{className:"text-xs font-medium text-gray-900",children:"Today"})}),t.today.map(l=>d.jsx(pf,{notification:l,onMarkAsRead:s,onConnectionAction:i},l.id))]}),t.yesterday.length>0&&d.jsxs("div",{children:[d.jsx("div",{className:"px-3 py-1.5 bg-gray-50 border-b",children:d.jsx("h4",{className:"text-xs font-medium text-gray-900",children:"Yesterday"})}),t.yesterday.map(l=>d.jsx(pf,{notification:l,onMarkAsRead:s,onConnectionAction:i},l.id))]}),t.older.length>0&&d.jsxs("div",{children:[d.jsx("div",{className:"px-3 py-1.5 bg-gray-50 border-b",children:d.jsx("h4",{className:"text-xs font-medium text-gray-900",children:"Earlier"})}),t.older.map(l=>d.jsx(pf,{notification:l,onMarkAsRead:s,onConnectionAction:i},l.id))]})]}):d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("div",{className:"text-2xl mb-1",children:"🔔"}),d.jsx("p",{className:"text-gray-500 text-xs",children:"No notifications yet"})]})})]})}function SV(){const[e,t]=p.useState(!1),{unreadCount:n}=SP(),r=p.useRef(null),s=p.useRef(null);return p.useEffect(()=>{const o=i=>{r.current&&s.current&&!r.current.contains(i.target)&&!s.current.contains(i.target)&&t(!1)};return e&&document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[e]),d.jsxs("div",{className:"relative",children:[d.jsxs(re,{ref:s,variant:"ghost",size:"icon",onClick:()=>t(!e),className:"relative h-10 w-10 text-gray-600 hover:text-gray-900",title:"Notifications",children:[d.jsx(C2,{className:"h-5 w-5"}),n>0&&d.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center",children:n>9?"9+":n})]}),e&&d.jsx("div",{ref:r,className:"absolute top-full right-0 mt-2 z-50",children:d.jsx(xV,{onClose:()=>t(!1)})})]})}function Dn({children:e}){const{user:t,isLoading:n,signOut:r}=ze(),s=async()=>{await r()};return n?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-chichi-orange mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!t&&!n?d.jsx(XS,{to:"/login",replace:!0}):t?d.jsxs("div",{className:"min-h-screen flex flex-col w-full",style:{backgroundImage:"url('/lovable-uploads/c2be135e-d651-4e90-87c9-e5c34f5cc301.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:[d.jsx("div",{className:"px-4 py-3 pt-safe sticky top-0",style:{zIndex:40,backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-white text-xl font-semibold",children:"CHICHI"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(SV,{}),d.jsx(re,{variant:"ghost",size:"icon",onClick:s,className:"h-10 w-10 text-white hover:text-gray-300 touch-manipulation",title:"Logout",children:d.jsx(M2,{className:"h-5 w-5"})})]})]})}),d.jsx("main",{className:"flex-1 px-3 py-4 md:p-6 overflow-x-hidden overflow-y-auto pb-20",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:e})}),d.jsx(wg,{}),d.jsx(sV,{})]}):d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-chichi-orange mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Initializing..."})]})})}const bV=ve.lazy(()=>ke(()=>import("./Login-DQQ79AP1.js"),__vite__mapDeps([0,1,2,3]))),kV=ve.lazy(()=>ke(()=>import("./Calendar-BKcZHc35.js"),__vite__mapDeps([4,5,6,1,7]))),_V=ve.lazy(()=>ke(()=>import("./ContentPlan-CFKyntVp.js"),__vite__mapDeps([8,6,1,3]))),CV=ve.lazy(()=>ke(()=>import("./Profile-D9bom4AU.js"),__vite__mapDeps([9,7,10,11,12,13]))),PV=ve.lazy(()=>ke(()=>import("./PublicProfile-BVNgr0eG.js"),__vite__mapDeps([14,13,11]))),EV=ve.lazy(()=>ke(()=>import("./CreatorConnect-CHnA-Pfh.js"),__vite__mapDeps([15,16,17,12,13,11]))),TV=ve.lazy(()=>ke(()=>import("./Messages-DAUs2W_i.js"),__vite__mapDeps([18,17]))),jV=ve.lazy(()=>ke(()=>import("./Notes-B7SozIKG.js"),__vite__mapDeps([19,16,5]))),AV=ve.lazy(()=>ke(()=>import("./BrandVault-C2tfmuNo.js"),[])),RV=ve.lazy(()=>ke(()=>import("./FollowingFeed-DjRWlsqF.js"),__vite__mapDeps([20,11]))),NV=ve.lazy(()=>ke(()=>import("./NotFound-BYFBPHu5.js"),[])),OV=ve.lazy(()=>ke(()=>import("./UpdatePassword-wTykTUvY.js"),__vite__mapDeps([21,22,2,1,3,23]))),DV=ve.lazy(()=>ke(()=>import("./ResetPassword-CcbFI1AM.js"),__vite__mapDeps([24,2,1,3,23,22]))),MV=ve.lazy(()=>ke(()=>import("./ChallengeInvite-0OlAKI1A.js"),__vite__mapDeps([25,26,11]))),LV=ve.lazy(()=>ke(()=>import("./ChallengeJoin-CdNlwVNi.js"),__vite__mapDeps([27,26,11,23]))),at=()=>d.jsx("div",{className:"p-4 flex justify-center",children:d.jsx(um,{size:"md"})});function IV(){return d.jsxs($j,{children:[d.jsx(Ie,{path:"/",element:d.jsx(XS,{to:"/dashboard",replace:!0})}),d.jsx(Ie,{path:"/login",element:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(bV,{})})}),d.jsx(Ie,{path:"/reset-password",element:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(DV,{})})}),d.jsx(Ie,{path:"/update-password",element:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(OV,{})})}),d.jsx(Ie,{path:"/challenge/:token",element:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(MV,{})})}),d.jsx(Ie,{path:"/challenge-join/:token",element:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(LV,{})})}),d.jsx(Ie,{path:"/u/:username",element:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(PV,{})})}),d.jsx(Ie,{path:"/dashboard",element:d.jsx(Dn,{children:d.jsx(iP,{})})}),d.jsx(Ie,{path:"/calendar",element:d.jsx(Dn,{children:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(kV,{})})})}),d.jsx(Ie,{path:"/content-plan",element:d.jsx(Dn,{children:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(_V,{})})})}),d.jsx(Ie,{path:"/profile",element:d.jsx(Dn,{children:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(CV,{})})})}),d.jsx(Ie,{path:"/brand-vault",element:d.jsx(Dn,{children:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(AV,{})})})}),d.jsx(Ie,{path:"/creator-connect",element:d.jsx(Dn,{children:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(EV,{})})})}),d.jsx(Ie,{path:"/messages",element:d.jsx(Dn,{children:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(TV,{})})})}),d.jsx(Ie,{path:"/notes",element:d.jsx(Dn,{children:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(jV,{})})})}),d.jsx(Ie,{path:"/following",element:d.jsx(Dn,{children:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(RV,{})})})}),d.jsx(Ie,{path:"*",element:d.jsx(p.Suspense,{fallback:d.jsx(at,{}),children:d.jsx(NV,{})})})]})}const FV=ve.lazy(()=>ke(()=>import("./BottomNav-DTbtf2SS.js"),__vite__mapDeps([28,11,10]))),UV=()=>d.jsx("div",{className:"p-2",children:d.jsx(um,{size:"sm"})});function $V(){const{user:e,isLoading:t}=ze(),n=Fs(),s=["/","/dashboard","/calendar","/content-plan","/profile","/brand-vault","/creator-connect","/messages","/notes","/following"].includes(n.pathname);return e&&!t&&s?d.jsx(p.Suspense,{fallback:d.jsx(UV,{}),children:d.jsx(FV,{})}):null}function VV(){return d.jsx(PA,{children:d.jsx(SA,{client:AO,children:d.jsx(Gj,{children:d.jsx(QN,{children:d.jsxs("div",{className:"min-h-screen w-full",children:[d.jsx(p.Suspense,{fallback:d.jsx(jO,{}),children:d.jsx(IV,{})}),d.jsx($V,{})]})})})})})}const BV=e=>{const t=document.createElement("link");t.rel="preload",t.href=e,t.as="font",t.type="font/woff2",t.crossOrigin="anonymous",document.head.appendChild(t)};BV("https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrJJfecg.woff2");const Rg=document.createElement("meta");Rg.name="viewport";Rg.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no";document.getElementsByTagName("head")[0].appendChild(Rg);mf.createRoot(document.getElementById("root")).render(d.jsx(ve.StrictMode,{children:d.jsx(VV,{})}));export{hm as $,nu as A,re as B,cn as C,Vu as D,vn as E,_a as F,mm as G,dm as H,Qh as I,V as J,T2 as K,um as L,br as M,q5 as N,B2 as O,Nv as P,D2 as Q,ve as R,VC as S,Sg as T,u_ as U,d_ as V,K$ as W,s1 as X,f_ as Y,h_ as Z,q$ as _,$a as a,W$ as a0,H$ as a1,r1 as a2,Ov as a3,qV as a4,X as a5,O2 as a6,z2 as a7,ii as a8,oe as a9,Uc as aA,$c as aB,sC as aC,lB as aD,og as aE,iB as aF,aB as aG,Jb as aH,x2 as aI,o4 as aJ,Ke as aK,Ps as aL,Vc as aM,N2 as aN,Ns as aO,Tw as aP,Aa as aa,Q as ab,rr as ac,oC as ad,R_ as ae,n2 as af,_u as ag,Zu as ah,ed as ai,td as aj,P2 as ak,q2 as al,QC as am,nr as an,gm as ao,WV as ap,I2 as aq,ym as ar,Nu as as,HV as at,t1 as au,n1 as av,o1 as aw,zD as ax,xg as ay,pm as az,Fs as b,ts as c,ns as d,Qb as e,An as f,m2 as g,Ga as h,Ya as i,d as j,Qa as k,ig as l,za as m,Mc as n,Vb as o,G as p,ae as q,p as r,O as s,ne as t,ze as u,sn as v,hr as w,kg as x,BC as y,_g as z};
