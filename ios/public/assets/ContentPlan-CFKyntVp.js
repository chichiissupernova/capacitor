import{j as e,C as k,I as g,S as F,x as S,y as N,z as P,A,B as I,Q as G,G as T,a2 as p}from"./index-Caw7KGCA.js";import{C as y,u as D,a as B}from"./checkbox-C7iLtEjG.js";import{u as E,F as O,a as o,b as c,c as i,d,f as h,e as x}from"./form-CcKQMLHU.js";import{A as f,b as w,a as C}from"./alert-D_V2V2Ts.js";const q=[{value:"grow-followers",label:"Grow followers"},{value:"build-trust",label:"Build trust"},{value:"promote-offer",label:"Promote an offer"},{value:"show-expertise",label:"Show expertise"},{value:"increase-engagement",label:"Increase engagement"},{value:"drive-sales",label:"Drive sales"},{value:"brand-awareness",label:"Build brand awareness"}],V=[{value:"reels",label:"Reels"},{value:"carousels",label:"Carousels"},{value:"stories",label:"Stories"},{value:"text-posts",label:"Text-only posts"},{value:"ugc",label:"User-generated content"},{value:"behind-scenes",label:"Behind-the-scenes"}],W=[{value:"instagram",label:"Instagram"},{value:"tiktok",label:"TikTok"},{value:"linkedin",label:"LinkedIn"},{value:"facebook",label:"Facebook"},{value:"twitter",label:"Twitter/X"},{value:"youtube",label:"YouTube"}];function Y({onSubmit:r,isLoading:n,isQuotaExceeded:m}){const l=E({defaultValues:{audience:"",business:"",contentGoal:"",preferredFormats:[],platforms:[]},mode:"onSubmit"}),j=a=>{r(a)};return e.jsx(k,{className:"p-6",children:e.jsx(O,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(j),className:"space-y-6",children:[e.jsx(o,{control:l.control,name:"audience",rules:{required:"Please describe your audience"},render:({field:a})=>e.jsxs(c,{children:[e.jsx(i,{children:"Who is your audience?"}),e.jsx(d,{children:e.jsx(g,{placeholder:"E.g., busy moms, new coaches, Black women in tech",...a})}),e.jsx(h,{children:"Be specific about who you create content for"}),e.jsx(x,{})]})}),e.jsx(o,{control:l.control,name:"business",rules:{required:"Please describe what you do"},render:({field:a})=>e.jsxs(c,{children:[e.jsx(i,{children:"What do you do or sell?"}),e.jsx(d,{children:e.jsx(g,{placeholder:"E.g., skincare, coaching, art, UGC, events",...a})}),e.jsx(h,{children:"Your business, service, or what you offer"}),e.jsx(x,{})]})}),e.jsx(o,{control:l.control,name:"contentGoal",rules:{required:"Please select a content goal"},render:({field:a})=>e.jsxs(c,{children:[e.jsx(i,{children:"What's your current goal with content?"}),e.jsxs(F,{onValueChange:a.onChange,defaultValue:a.value,children:[e.jsx(d,{children:e.jsx(S,{children:e.jsx(N,{placeholder:"Select your main content goal"})})}),e.jsx(P,{children:q.map(s=>e.jsx(A,{value:s.value,children:s.label},s.value))})]}),e.jsx(h,{children:"Your primary objective for this week's content"}),e.jsx(x,{})]})}),e.jsx(o,{control:l.control,name:"preferredFormats",render:()=>e.jsxs(c,{children:[e.jsx(i,{children:"Do you have any content formats you prefer?"}),e.jsx(h,{children:"Select the formats you like to create (optional)"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mt-2",children:V.map(a=>e.jsx(o,{control:l.control,name:"preferredFormats",render:({field:s})=>{var t;return e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(d,{children:e.jsx(y,{checked:(t=s.value)==null?void 0:t.includes(a.value),onCheckedChange:b=>{var u;return b?s.onChange([...s.value,a.value]):s.onChange((u=s.value)==null?void 0:u.filter(v=>v!==a.value))}})}),e.jsx(i,{className:"font-normal",children:a.label})]},a.value)}},a.value))}),e.jsx(x,{})]})}),e.jsx(o,{control:l.control,name:"platforms",rules:{validate:a=>a.length>0||"Please select at least one platform"},render:()=>e.jsxs(c,{children:[e.jsx(i,{children:"What platforms are you posting on this week?"}),e.jsx(h,{children:"Select where you'll be sharing your content"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mt-2",children:W.map(a=>e.jsx(o,{control:l.control,name:"platforms",render:({field:s})=>{var t;return e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(d,{children:e.jsx(y,{checked:(t=s.value)==null?void 0:t.includes(a.value),onCheckedChange:b=>{var u;return b?s.onChange([...s.value,a.value]):s.onChange((u=s.value)==null?void 0:u.filter(v=>v!==a.value))}})}),e.jsx(i,{className:"font-normal",children:a.label})]},a.value)}},a.value))}),e.jsx(x,{})]})}),e.jsx(I,{type:"submit",disabled:n||m,className:"flex gap-2 items-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-4 w-4 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-4 w-4"}),"Generate 7-Day Content Plan"]})})]})})})}function L({apiError:r,isQuotaExceeded:n}){return!r&&!n?null:n?e.jsxs(f,{variant:"destructive",children:[e.jsx(p,{className:"h-4 w-4"}),e.jsx(w,{children:"OpenAI API Quota Exceeded"}),e.jsx(C,{children:"Your OpenAI API key has reached its quota limit. Please check your billing details on the OpenAI website or try again later when your quota resets."})]}):e.jsxs(f,{variant:"destructive",children:[e.jsx(p,{className:"h-4 w-4"}),e.jsx(w,{children:"Error"}),e.jsx(C,{children:r})]})}function M(){const{isLoading:r,contentPlan:n,apiError:m,isQuotaExceeded:l,generateContentPlan:j,handleTryAgain:a}=D(),s=t=>{j(t)};return e.jsxs("div",{className:"space-y-6 py-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"7-Day Content Plan Generator"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Get a strategic 7-day content plan tailored to your business, audience, and goals."})]}),e.jsx(L,{apiError:m,isQuotaExceeded:l}),e.jsx(Y,{onSubmit:s,isLoading:r,isQuotaExceeded:l}),n&&e.jsx(B,{contentPlan:n,onTryAgain:a,isLoading:r,isQuotaExceeded:l})]})}export{M as default};
